<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>M√°y t√≠nh X√°c Su·∫•t Th·ªëng K√™</title>
<style>
  :root{
    --pink-1:#ffe0eb;
    --pink-2:#ffc0cb;
    --accent:#ff4da6;}

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
    background: #fdf6f9;
    color:#222;}
  .nested { display: none; margin-left: 15px; }
  .clickable { cursor: pointer; }

  /* BANNER */
  #banner{
    position:relative;
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    background: linear-gradient(180deg,var(--pink-1) 0%, var(--pink-2) 100%);
    overflow:hidden; }

  .banner-content{
    position:relative;
    z-index:5;
    padding: 20px;
    max-width:1100px;
    width:100%; }

  h1{
    margin:0;
    color: #d63384;
    font-weight:800;
    font-size: clamp(34px, 6vw, 56px);
    letter-spacing: -0.02em;}

  p.lead{
    margin:18px 0 28px;
    color:#7a004b;
    font-size: clamp(14px, 2.2vw, 20px);
    line-height:1.4; }

  #startBtn{
    background:var(--accent);
    color:#fff;
    border:0;
    padding:14px 36px;
    border-radius:12px;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 6px 18px rgba(255,77,166,0.18);
    transition: transform .18s ease, box-shadow .18s ease;
    font-size:16px;}
  #startBtn:hover{
    transform: translateY(-3px);
    box-shadow: 0 10px 24px rgba(255,77,166,0.22); }

  /* Icon minh h·ªça */
  .illustrations{
    margin-top:48px;
    display:flex;
    gap:72px;
    justify-content:center;
    align-items:center;
    flex-wrap:wrap;
    z-index:5;
    position:relative; }
  .icon-box{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;}
  .icon-label{
    color:#7a004b;
    font-weight:600;
    font-size:14px;}
  svg.icon{ width:96px; height:96px; display:block; }

  /* Trang tr√≠ n·ªÅn */
  .decircle{
    position:absolute;
    border-radius:50%;
    border:3px dashed rgba(255,255,255,0.25);
    z-index:2;
    pointer-events:none;}
  .c1{ width:160px; height:160px; left:40px; top:40px; }
  .c2{ width:120px; height:120px; right:70px; top:90px; }
  .c3{ width:180px; height:180px; right:120px; bottom:80px; }

  #mainContent {
    display: none;
    flex-direction: column;
    min-height: 100vh;
    background: linear-gradient(180deg, var(--pink-1) 0%, var(--pink-2) 100%); }

  #mainContent header {
    background: rgba(255, 192, 203, 0.7);
    padding: 18px;
    font-size: 26px;
    font-weight: 700;
    text-align: center;
    color: #a3005b;
    border-bottom: 2px solid rgba(255, 105, 180, 0.2);}

  #mainContent .container {
    flex: 1;
    display: flex;
    gap: 20px;
    padding: 20px; }

  #mainContent aside {
    width: 280px;
    background: rgba(255, 182, 193, 0.8);
    border-radius: 12px;
    padding: 20px;
    overflow-y: auto;}

  #mainContent main {
    flex: 1;
    background: #fff;
    border-radius: 14px;
    padding: 24px;
    box-shadow: 0 6px 14px rgba(0,0,0,0.1);
    overflow-y: auto;
    max-height: calc(100vh - 120px);}

  .placeholder {
    font-size: 18px;
    color: #999;
    text-align: center;
    margin-top: 100px;}
    /* ========== PH·∫¶N B·ªî SUNG - CH√àN SAU ƒêO·∫†N .placeholder ========== */

/* Style cho c√°c c√¥ng th·ª©c */
.formula-content {
  display: none;
}

.formula-content.active {
  display: block;
  animation: fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Card container */
.card {
  background: linear-gradient(135deg, #fff 0%, #fff5f7 100%);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 4px 12px rgba(214, 51, 132, 0.08);
  border: 1px solid rgba(255, 192, 203, 0.3);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(214, 51, 132, 0.12);
}

.card h3 {
  margin: 0 0 20px 0;
  color: #d63384;
  font-size: 20px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Input rows */
.input-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.input-row span {
  color: #555;
  font-weight: 600;
  min-width: 120px;
  font-size: 15px;
}

.input-row input,
.input-row select {
  flex: 1;
  padding: 10px 15px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 16px;
  transition: all 0.3s ease;
  outline: none;
  min-width: 150px;
}

.input-row input:focus,
.input-row select:focus {
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.input-row input:hover,
.input-row select:hover {
  border-color: #667eea;
}

/* Buttons */
.btn-group {
  display: flex;
  gap: 12px;
  margin-top: 20px;
  flex-wrap: wrap;
}

button {
  padding: 12px 28px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  font-size: 15px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.15);
}

button:active {
  transform: translateY(0);
}

#calculateExpectation,
#calculateVariance,
#calculateCovariance,
#calculateCorrelation,
#calculateConditional,
#calculateCdf,
#calculatePdf,
#calculateMedian,
#calculateMoment,
#calculateUniform,
#calculateBinomial,
#calculateHyper,
#calculatePoisson,
#calculateNormal {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}

#resetExpectation,
#resetVariance,
#resetCovariance,
#resetCorrelation,
#resetConditional,
#resetCdf,
#resetPdf,
#resetMedian,
#resetMoment,
#resetUniform,
#resetBinomial,
#resetHyper,
#resetPoisson,
#resetNormal {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
}

#addExpectationRow,
#addVarianceRow,
#addCovarianceRow,
#addConditionalRow,
#addCdfRow,
#addMedianRow,
#addMomentRow {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white;
  font-size: 14px;
  padding: 8px 20px;
}

/* Result boxes */
.result-box {
  background: linear-gradient(135deg, #ffeef8 0%, #fff 100%);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 20px;
  border-left: 5px solid #d63384;
  box-shadow: 0 4px 12px rgba(214, 51, 132, 0.1);
  animation: slideInUp 0.5s ease-out;
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.result-box h2 {
  margin: 0 0 16px 0;
  color: #d63384;
  font-size: 20px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8px;
}

.result-box p {
  margin: 10px 0;
  color: #333;
  line-height: 1.6;
  font-size: 16px;
}

.result-value {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  font-size: 1.2em;
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 15px 0;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border-radius: 8px;
  overflow: hidden;
}

table th {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 12px;
  text-align: center;
  font-weight: 600;
}

table td {
  padding: 10px;
  text-align: center;
  border-bottom: 1px solid #f0f0f0;
  color: #333;
}

table tr:last-child td {
  border-bottom: none;
}

table tr:nth-child(even) {
  background-color: #f8f9fa;
}

table tr:hover {
  background-color: #e9ecef;
  transition: background-color 0.3s ease;
}

/* FAQ Section */
.faq-section {
  margin-top: 40px;
  padding-top: 30px;
  border-top: 3px dashed rgba(214, 51, 132, 0.2);
}

.faq-item {
  background: linear-gradient(135deg, #fff 0%, #fffbfc 100%);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  border: 1px solid rgba(255, 192, 203, 0.3);
  box-shadow: 0 3px 10px rgba(214, 51, 132, 0.06);
  transition: all 0.3s ease;
}

.faq-item:hover {
  box-shadow: 0 5px 15px rgba(214, 51, 132, 0.12);
  transform: translateX(5px);
}

.faq-item h4 {
  margin: 0 0 12px 0;
  color: #d63384;
  font-size: 18px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8px;
}

.faq-item p {
  margin: 8px 0;
  color: #555;
  line-height: 1.7;
  font-size: 15px;
}

.faq-item ul {
  list-style-type: none;
  padding-left: 0;
  margin: 10px 0;
}

.faq-item ul li {
  padding: 8px 0;
  padding-left: 25px;
  position: relative;
  color: #555;
  line-height: 1.6;
}

.faq-item ul li::before {
  content: "‚ñ∏";
  position: absolute;
  left: 5px;
  color: #667eea;
  font-weight: bold;
}

.faq-item strong {
  color: #d63384;
  font-weight: 600;
}

/* C√¥ng th·ª©c to√°n h·ªçc n·ªïi b·∫≠t */
.faq-item p[style*="color:#d63384"] {
  background: linear-gradient(135deg, #fff5f7 0%, #ffe5ec 100%);
  padding: 15px;
  border-radius: 10px;
  border-left: 4px solid #d63384;
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(214, 51, 132, 0.1);
  margin: 15px 0;
}

/* S·ªë m≈© v√† ch·ªâ s·ªë */
sup {
  font-size: 0.75em;
  vertical-align: super;
  color: #d63384;
}

sub {
  font-size: 0.75em;
  vertical-align: sub;
  color: #667eea;
}

/* Em (ghi ch√∫) */
.faq-item p em {
  color: #666;
  font-style: italic;
  font-size: 0.95em;
}

/* Responsive */
@media (max-width: 768px) {
  .input-row {
    flex-direction: column;
    align-items: flex-start;
  }

  .input-row span {
    min-width: auto;
  }

  .input-row input,
  .input-row select {
    width: 100%;
  }

  .btn-group {
    flex-direction: column;
  }

  button {
    width: 100%;
  }

  table {
    font-size: 14px;
  }

  table th,
  table td {
    padding: 8px 5px;
  }

  .card {
    padding: 16px;
  }

  .result-box {
    padding: 16px;
  }

  .faq-item {
    padding: 16px;
  }
}


  input[type="number"] {
    width: 120px;
    padding: 10px;
    font-size: 16px;
    border: 2px solid #ff8ac6;
    border-radius: 8px;
    margin: 6px 8px;
    text-align: center; }

  .result-value {
    color: #e60026;
    font-weight: 800;
    font-size: 22px;}

  .result-box {
    text-align: center;
    padding: 20px;}

  .btn-group {
    display: flex;
    justify-content: center;
    gap: 14px;
    margin-top: 16px;}

  button {
    background: var(--accent);
    color: #fff;
    border: none;
    border-radius: 8px;
    padding: 10px 22px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 3px 10px rgba(255,77,166,0.2);
    transition: all .2s ease;}

  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 14px rgba(255,77,166,0.25);}

  #mainContent aside li {
    padding: 10px;
    margin: 5px 0;
    border-radius: 6px;
    transition: all 0.2s;}

  #mainContent aside li:hover {
    background: rgba(255, 255, 255, 0.2);
    cursor: pointer;}

  #mainContent aside li.active {
    background: #ff4da6;
    color: #fff;
    font-weight: 600;}

  #mainContent aside ul {
    list-style: none;
    padding: 0;}

  #mainContent aside h2 {
    color: #fff;
    font-size: 18px;
    margin: 15px 0 10px;}

  .card {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.08);
    margin-bottom: 16px;}

  .card h3 {
    color: #d63384;
    margin-top: 0;}

  .formula-content {
    display: none;}

  .faq-section {
    margin-top: 20px;}

  .faq-item {
    background: #fff;
    padding: 16px;
    border-radius: 8px;
    margin-bottom: 12px;
    border-left: 4px solid var(--accent);}

  .faq-item h4 {
    color: #d63384;
    margin-top: 0;
    margin-bottom: 8px;}

  .faq-item p {
    margin: 0;
    line-height: 1.6;}

  /* Container ch√≠nh cho t·∫•t c·∫£ input groups */
.input-group {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 20px;
}

/* M·ªói h√†ng input (X v√† P(X) c√πng h√†ng) */
.input-row {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2 c·ªôt b·∫±ng nhau */
  gap: 15px;
  padding: 15px;
  background: white;
  border-radius: 8px;
  border: 2px solid #ff69b4;
  box-shadow: 0 2px 4px rgba(255, 105, 180, 0.1);
  transition: all 0.3s ease;
}

.input-row:hover {
  border-color: #ff1493;
  box-shadow: 0 4px 8px rgba(255, 105, 180, 0.2);
}

/* M·ªói field (X ho·∫∑c P(X)) */
.input-field {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.input-field label {
  font-weight: 600;
  color: #c71585;
  font-size: 14px;
  margin-bottom: 5px;
}

.input-field input,
.input-field select {
  padding: 10px 12px;
  border: 2px solid #ffb6c1;
  border-radius: 5px;
  font-size: 14px;
  width: 100%;
  transition: all 0.3s ease;
  background: #fff;
}

.input-field input:focus,
.input-field select:focus {
  outline: none;
  border-color: #ff1493;
  box-shadow: 0 0 0 3px rgba(255, 20, 147, 0.1);
}

/* N√∫t th√™m gi√° tr·ªã */
#addValue {
  align-self: center;
  padding: 10px 25px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 10px;
}

#addValue:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
}

/* Responsive cho m√†n h√¨nh nh·ªè */
@media (max-width: 768px) {
  .input-row {
    grid-template-columns: 1fr; /* Chuy·ªÉn th√†nh 1 c·ªôt tr√™n mobile */
    gap: 10px;
  }
}

 
  #addEventBtn {
    background: #28a745;
    margin-top: 10px;}

  .event-inputs {
    max-width: 600px;
    margin: 0 auto;}
    table {
  width: 100%;
  border-collapse: collapse;
  margin: 15px 0;
}

table th, table td {
  border: 1px solid #ff8ac6;
  padding: 10px;
  text-align: center;
}

table th {
  background: var(--pink-2);
  color: #7a004b;
  font-weight: 700;
}

.formula-card {
  display: none; /* ·∫®n t·∫•t c·∫£ c√¥ng th·ª©c */
}

.formula-card:first-of-type {
  display: block; /* Ch·ªâ hi·ªán c√¥ng th·ª©c ƒë·∫ßu ti√™n */
}

/* ============================================ */
/* MAIN TABS (C·∫•p 1: ƒê√£ bi·∫øt / Ch∆∞a bi·∫øt œÉ¬≤) */
/* ============================================ */

.main-tabs {
  display: flex;
  gap: 15px;
  margin: 25px 0 30px 0;
  border-bottom: 3px solid #e0e0e0;
  padding-bottom: 0;
}

.main-tab {
  padding: 16px 35px;
  background: transparent;
  border: none;
  border-bottom: 4px solid transparent;
  cursor: pointer;
  font-size: 18px;
  font-weight: 700;
  color: #666;
  transition: all 0.3s ease;
  position: relative;
  bottom: -3px;
  border-radius: 8px 8px 0 0;
}

.main-tab:hover {
  color: #FF5722;
  background: rgba(255, 87, 34, 0.08);
}

.main-tab.active {
  color: #FF5722;
  border-bottom-color: #FF5722;
  background: linear-gradient(to bottom, rgba(255, 87, 34, 0.15), rgba(255, 87, 34, 0.05));
  font-weight: 800;
}

/* Main content container */
.main-content {
  display: none;
  padding: 25px;
  background: #fafafa;
  border-radius: 0 0 12px 12px;
  animation: slideDown 0.4s ease;
}

.main-content.active {
  display: block;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================ */
/* SUB TABS (C·∫•p 2: ƒê·ªëi x·ª©ng / Tr√°i / Ph·∫£i) */
/* ============================================ */

.sub-tabs {
  display: flex;
  gap: 12px;
  margin: 0 0 25px 0;
  border-bottom: 2px solid #ddd;
  padding-bottom: 0;
  background: white;
  padding: 15px 15px 0 15px;
  border-radius: 8px 8px 0 0;
}

.sub-tab {
  padding: 12px 28px;
  background: #f5f5f5;
  border: 2px solid #e0e0e0;
  border-bottom: none;
  border-radius: 8px 8px 0 0;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  color: #555;
  transition: all 0.3s ease;
  position: relative;
  bottom: -2px;
}

.sub-tab:hover {
  background: #e8f4fd;
  color: #2196F3;
  border-color: #2196F3;
  transform: translateY(-3px);
}

.sub-tab.active {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
  box-shadow: 0 -4px 12px rgba(102, 126, 234, 0.3);
  font-weight: 700;
}

/* Sub content container */
.sub-content {
  display: none;
  padding: 30px;
  background: white;
  border-radius: 0 8px 8px 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  animation: fadeInUp 0.35s ease;
}

.sub-content.active {
  display: block;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================ */
/* FORMULA BOX (H·ªôp c√¥ng th·ª©c) */
/* ============================================ */

.formula-box {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 25px;
  border-radius: 12px;
  margin-bottom: 25px;
  box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
}

.formula-title {
  font-size: 16px;
  font-weight: 700;
  color: white;
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.formula-content {
  background: white;
  padding: 20px;
  border-radius: 8px;
  text-align: center;
  box-shadow: inset 0 2px 8px rgba(0,0,0,0.1);
}

.formula-content .math {
  font-size: 20px;
  font-weight: 600;
  color: #333;
  font-family: 'Courier New', monospace;
}

/* ============================================ */
/* NOTE BOX (H·ªôp ghi ch√∫) */
/* ============================================ */

.note-box {
  background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
  border-left: 5px solid #FF9800;
  padding: 15px 20px;
  border-radius: 8px;
  margin-top: 20px;
  box-shadow: 0 2px 8px rgba(255, 152, 0, 0.2);
}

.note-box strong {
  color: #E65100;
  font-size: 16px;
}

/* ============================================ */
/* RESPONSIVE */
/* ============================================ */

@media (max-width: 768px) {
  .main-tabs {
    flex-direction: column;
    gap: 10px;
  }
  
  .main-tab {
    width: 100%;
    text-align: center;
    border-bottom: none;
    border-left: 4px solid transparent;
  }
  
  .main-tab.active {
    border-bottom: none;
    border-left-color: #FF5722;
  }
  
  .sub-tabs {
    flex-direction: column;
    gap: 8px;
    padding: 10px;
  }
  
  .sub-tab {
    width: 100%;
    text-align: center;
  }
  
  .sub-content {
    padding: 20px 15px;
  }
  
  .formula-content .math {
    font-size: 16px;
  }
}

/* ========== STYLE CHO CH∆Ø∆†NG 3 ========== */
.result-success {
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
  padding: 20px;
  border-radius: 12px;
  border-left: 5px solid #4caf50;
  margin-top: 20px;
  animation: slideInUp 0.5s ease-out;
}

.result-success h4 {
  margin: 0 0 15px 0;
  color: #2e7d32;
  font-size: 18px;
  font-weight: 700;
}

.result-success .result-value {
  font-size: 24px;
  font-weight: 800;
  color: #1b5e20;
  margin: 15px 0;
  padding: 15px;
  background: white;
  border-radius: 8px;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.calculate-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(102, 126, 234, 0.3);
  margin-top: 20px;
}

.calculate-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(102, 126, 234, 0.4);
}

.calculate-btn:active {
  transform: translateY(0);
}

/* FAQ Toggle */
.faq-item {
  margin-bottom: 15px;
  transition: all 0.3s ease;
}

.faq-question {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px 20px;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  transition: all 0.3s ease;
}

.faq-question:hover {
  transform: translateX(5px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.faq-icon {
  font-size: 18px;
  transition: transform 0.3s ease;
}

.faq-item.active .faq-icon {
  transform: rotate(180deg);
}

.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
  background: #f8f9fa;
  border-radius: 0 0 8px 8px;
  padding: 0 20px;
}

.faq-item.active .faq-answer {
  padding: 15px 20px;
  border: 2px solid #e0e0e0;
  border-top: none;
}

/* ============================================ */
/* B·ªî SUNG - ƒê·ªíNG B·ªò CLASS NAME V·ªöI HTML */
/* ============================================ */

/* Alias cho sub-tab-btn (t∆∞∆°ng th√≠ch v·ªõi HTML m·ªõi) */
.sub-tab-btn {
  padding: 12px 28px;
  background: #f5f5f5;
  border: 2px solid #e0e0e0;
  border-bottom: none;
  border-radius: 8px 8px 0 0;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  color: #555;
  transition: all 0.3s ease;
  position: relative;
  bottom: -2px;
  flex: 1;
  min-width: 150px;
}

.sub-tab-btn:hover {
  background: #e8f4fd;
  color: #2196F3;
  border-color: #2196F3;
  transform: translateY(-3px);
}

.sub-tab-btn.active {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-color: #667eea;
  box-shadow: 0 -4px 12px rgba(102, 126, 234, 0.3);
  font-weight: 700;
}

/* Alias cho sub-tab-content */
.sub-tab-content {
  display: none;
  padding: 30px;
  background: white;
  border-radius: 0 8px 8px 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  animation: fadeInUp 0.35s ease;
}

.sub-tab-content.active {
  display: block;
}

/* ============================================ */
/* INFO BOX (H·ªôp th√¥ng tin ƒëi·ªÅu ki·ªán) */
/* ============================================ */

.info-box {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border-left: 5px solid #2196F3;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 25px;
  box-shadow: 0 2px 8px rgba(33, 150, 243, 0.2);
}

.info-box h4 {
  color: #1565C0;
  margin: 0 0 12px 0;
  font-size: 16px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8px;
}

.info-box ul {
  margin: 10px 0 0 0;
  padding-left: 20px;
  color: #424242;
  line-height: 1.8;
}

.info-box li {
  margin-bottom: 8px;
}

.info-box code {
  background: white;
  padding: 2px 6px;
  border-radius: 4px;
  color: #1565C0;
  font-weight: 600;
}

/* ============================================ */
/* BUTTON GROUP (Nh√≥m n√∫t b·∫•m) */
/* ============================================ */

.button-group {
  display: flex;
  gap: 15px;
  margin-top: 25px;
  flex-wrap: wrap;
}

.btn-calculate {
  flex: 1;
  min-width: 150px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  padding: 14px 30px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-calculate:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
}

.btn-calculate:active {
  transform: translateY(-1px);
}

.btn-reset {
  flex: 1;
  min-width: 150px;
  background: linear-gradient(135deg, #f44336 0%, #e91e63 100%);
  color: white;
  border: none;
  padding: 14px 30px;
  border-radius: 10px;
  font-weight: 700;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-reset:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(244, 67, 54, 0.4);
}

.btn-reset:active {
  transform: translateY(-1px);
}

/* ============================================ */
/* FAQ SECTION */
/* ============================================ */

.faq-section {
  margin-top: 35px;
  border-top: 3px solid #e0e0e0;
  padding-top: 25px;
}

.faq-section > h3 {
  color: #333;
  font-size: 22px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}

/* ============================================ */
/* RESULT BOX VARIANTS */
/* ============================================ */

.result-info {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  padding: 20px;
  border-radius: 12px;
  border-left: 5px solid #2196F3;
  margin-top: 20px;
}

.result-info h4 {
  margin: 0 0 15px 0;
  color: #1565C0;
  font-size: 18px;
  font-weight: 700;
}

.result-warning {
  background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
  padding: 20px;
  border-radius: 12px;
  border-left: 5px solid #ff9800;
  margin-top: 20px;
}

.result-warning h4 {
  margin: 0 0 15px 0;
  color: #e65100;
  font-size: 18px;
  font-weight: 700;
}

/* ============================================ */
/* STEP-BY-STEP (T·ª´ng b∆∞·ªõc gi·∫£i) */
/* ============================================ */

.step-item {
  background: white;
  padding: 15px 20px;
  border-left: 4px solid #667eea;
  margin-bottom: 15px;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

.step-item strong {
  color: #667eea;
  font-size: 16px;
  display: block;
  margin-bottom: 8px;
}

.step-item .math-result {
  background: #f5f5f5;
  padding: 10px 15px;
  border-radius: 6px;
  margin-top: 10px;
  font-family: 'Courier New', monospace;
  color: #333;
  font-weight: 600;
}

/* ============================================ */
/* RESPONSIVE B·ªî SUNG */
/* ============================================ */

@media (max-width: 768px) {
  .button-group {
    flex-direction: column;
  }
  
  .btn-calculate,
  .btn-reset {
    width: 100%;
  }
  
  .info-box {
    padding: 15px;
  }
  
  .info-box h4 {
    font-size: 14px;
  }
  
  .step-item {
    padding: 12px 15px;
  }
  
  .sub-tab-btn {
    min-width: auto;
  }
}

/* ============================================ */
/* ANIMATION B·ªî SUNG */
/* ============================================ */

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.btn-calculate:hover,
.btn-reset:hover {
  animation: pulse 0.6s ease-in-out;
}

/* ============================================ */
/* LOADING STATE (Tr·∫°ng th√°i ƒëang t√≠nh) */
/* ============================================ */

.btn-calculate.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

.btn-calculate.loading::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid white;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

</style>
</head>
<body>

<!-- BANNER -->
<div id="banner">
    <div class="decircle c1" aria-hidden="true"></div>
    <div class="decircle c2" aria-hidden="true"></div>
    <div class="decircle c3" aria-hidden="true"></div>
  
    <div class="banner-content">
      <h1>M√°y t√≠nh X√°c Su·∫•t ‚Äì Th·ªëng K√™</h1>
      <p class="lead">
        T√≠nh to√°n nhanh, ch√≠nh x√°c m·ªçi c√¥ng th·ª©c x√°c su·∫•t v√† th·ªëng k√™.<br>
        H·ªó tr·ª£ h·ªçc t·∫≠p v√† nghi√™n c·ª©u th·ª±c t·∫ø.
      </p>
  
      <button id="startBtn">B·∫Øt ƒë·∫ßu t√≠nh to√°n</button>
  
      <div class="illustrations">
        <div class="icon-box">
          <svg class="icon" viewBox="0 0 100 100">
            <rect x="16" y="55" width="10" height="30" rx="2" fill="#ff8ac6"/>
            <rect x="36" y="40" width="10" height="45" rx="2" fill="#ff5fa2"/>
            <rect x="56" y="28" width="10" height="57" rx="2" fill="#ff8ac6"/>
            <rect x="76" y="48" width="10" height="37" rx="2" fill="#ff5fa2"/>
            <line x1="8" y1="92" x2="92" y2="92" stroke="#d63384" stroke-width="2"/>
          </svg>
          <div class="icon-label">Bi·ªÉu ƒë·ªì t·∫ßn su·∫•t</div>
        </div>
  
        <div class="icon-box">
          <svg class="icon" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="36" fill="none" stroke="#ff8ac6" stroke-width="14" stroke-dasharray="85 130" transform="rotate(-40 50 50)"/>
            <circle cx="50" cy="50" r="36" fill="none" stroke="#ff5fa2" stroke-width="14" stroke-dasharray="60 155" transform="rotate(100 50 50)"/>
          </svg>
          <div class="icon-label">Bi·ªÉu ƒë·ªì tr√≤n</div>
        </div>
  
        <div class="icon-box">
          <svg class="icon" viewBox="0 0 100 100">
            <rect x="20" y="12" width="60" height="76" rx="10" fill="#ffb0d8"/>
            <rect x="30" y="22" width="40" height="16" rx="4" fill="#fff"/>
            <g fill="#fff">
              <rect x="30" y="44" width="10" height="10" rx="2"/>
              <rect x="45" y="44" width="10" height="10" rx="2"/>
              <rect x="60" y="44" width="10" height="10" rx="2"/>
              <rect x="30" y="60" width="10" height="10" rx="2"/>
              <rect x="45" y="60" width="10" height="10" rx="2"/>
              <rect x="60" y="60" width="10" height="10" rx="2"/>
            </g>
          </svg>
          <div class="icon-label">M√°y t√≠nh</div>
        </div>
      </div>
    </div>
</div>
  
<div id="mainContent">
    <header>M√°y t√≠nh X√°c Su·∫•t ‚Äì Th·ªëng K√™</header>
    <div class="container">
      <aside>
        <h2>CH∆Ø∆†NG 1</h2>
        <ul>
          <li data-formula="mutuallyExclusive">C·ªông x√°c su·∫•t bi·∫øn c·ªë xung kh·∫Øc</li>
          <li data-formula="notMutuallyExclusive">C·ªông x√°c su·∫•t bi·∫øn c·ªë kh√¥ng xung kh·∫Øc</li>
          <li data-formula="multiplication">C√¥ng th·ª©c nh√¢n x√°c su·∫•t</li>
          <li data-formula="bernoulli">C√¥ng th·ª©c Bernoulli</li>
          <li data-formula="totalProbability">C√¥ng th·ª©c x√°c su·∫•t ƒë·∫ßy ƒë·ªß</li>
          <li data-formula="bayes">C√¥ng th·ª©c Bayes</li>
        </ul>
  
        <h2>CH∆Ø∆†NG 2</h2>
        <ul>
            <li data-formula="probTable">B·∫£ng ph√¢n ph·ªëi x√°c su·∫•t</li>
            <li data-formula="cdf">H√†m ph√¢n ph·ªëi x√°c su·∫•t</li>
            <li data-formula="pdf">H√†m m·∫≠t ƒë·ªô x√°c su·∫•t</li>
          <li data-formula="expectation">K·ª≥ v·ªçng</li>
          <li data-formula="variance">Ph∆∞∆°ng sai</li>
          <li data-formula="stdDeviation">ƒê·ªô l·ªách ti√™u chu·∫©n</li>
          <li data-formula="mode">M·ªët</li>
          <li data-formula="median">Trung v·ªã</li>
          <li data-formula="centralMoment">M√¥men trung t√¢m</li>
          <li data-formula="uniform">Ph√¢n ph·ªëi ƒë·ªÅu</li>
          <li data-formula="binomial">Ph√¢n ph·ªëi nh·ªã th·ª©c</li>
        <li data-formula="hypergeometric">Ph√¢n ph·ªëi si√™u b·ªôi</li>
        <li data-formula="poisson">Ph√¢n ph·ªëi Poisson</li>
        <li data-formula="normal">Ph√¢n ph·ªëi chu·∫©n</li>       </ul>
  
        <h2>CH∆Ø∆†NG 3</h2>
        <ul>
          <!-- ‚úÖ TH√äM data-formula -->
          <li data-formula="ci1">∆Ø·ªõc l∆∞·ª£ng k·ª≥ v·ªçng bi·∫øn ng·∫´u nhi√™n theo quy lu·∫≠t chu·∫©n</li>
          <li data-formula="ci2">∆Ø·ªõc l∆∞·ª£ng hi·ªáu hai k·ª≥ v·ªçng c·ªßa bi·∫øn ng·∫´u nhi√™n theo quy lu·∫≠t chu·∫©n</li>
          <li data-formula="ci3">∆Ø·ªõc l∆∞·ª£ng ph∆∞∆°ng sai c·ªßa bi·∫øn ng·∫´u nhi√™n theo ph√¢n ph·ªëi chu·∫©n</li>
          <li data-formula="ht1">Ki·ªÉm ƒë·ªãnh gi·∫£ thi·∫øt k·ª≥ v·ªçng c·ªßa bi·∫øn ng·∫´u nhi√™n theo ph√¢n ph·ªëi chu·∫©n</li>
          <li data-formula="ht2">Ki·ªÉm ƒë·ªãnh gi·∫£ thi·∫øt v·ªÅ 2 k·ª≥ v·ªçng c·ªßa bi·∫øn ng·∫´u nhi√™n theo ph√¢n ph·ªëi chu·∫©n</li>
        </ul>
      </aside>
      
      <main>
        <div class="placeholder">Ch·ªçn m·ªôt c√¥ng th·ª©c t·ª´ danh s√°ch b√™n tr√°i ƒë·ªÉ b·∫Øt ƒë·∫ßu.</div>
  
        <!-- ========== 1. BI·∫æN C·ªê XUNG KH·∫ÆC ========== -->
        <div id="mutuallyExclusive" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <div class="input-group">
              <label>P(A): <input type="number" id="pA" min="0" max="1" step="0.01" placeholder="0.00"></label>
              <label>P(B): <input type="number" id="pB" min="0" max="1" step="0.01" placeholder="0.00"></label>
            </div>
            <div class="btn-group">
              <button id="calculateBtn">T√≠nh to√°n</button>
              <button id="resetBtn">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>

          <div id="resultSection" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <p><strong>ƒê·∫ßu v√†o:</strong> P(A) = <span id="resPA"></span>, P(B) = <span id="resPB"></span></p>
              <p><strong>Gi·∫£i ph√°p:</strong> V√¨ A v√† B xung kh·∫Øc n√™n √°p d·ª•ng c√¥ng th·ª©c:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P(A ‚à™ B) = P(A) + P(B)</strong></p>
              <p><strong>C√°ch t√≠nh:</strong> P(A ‚à™ B) = <span id="resPAcalc"></span> + <span id="resPBcalc"></span></p>
            </div>

            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P(A ‚à™ B) = <span class="result-value" id="finalResult"></span></p>
            </div>
          </div>

          <div class="faq-section">
            <div class="faq-item">
              <h4>‚ùì Th·∫ø n√†o l√† hai bi·∫øn c·ªë xung kh·∫Øc?</h4>
              <p>Hai bi·∫øn c·ªë A v√† B ƒë∆∞·ª£c g·ªçi l√† xung kh·∫Øc n·∫øu bi·∫øn c·ªë n√†y x·∫£y ra th√¨ bi·∫øn c·ªë kia kh√¥ng x·∫£y ra. T·ª©c l√†, kh√¥ng th·ªÉ x·∫£y ra ƒë·ªìng th·ªùi c·∫£ hai bi·∫øn c·ªë A v√† B.</p>
            </div>
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c c·ªông x√°c su·∫•t cho hai bi·∫øn c·ªë xung kh·∫Øc</h4>
              <p><strong>P(A ‚à™ B) = P(A) + P(B)</strong></p>
              <p><strong>Trong ƒë√≥:</strong></p>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>P(A ‚à™ B):</strong> X√°c su·∫•t ƒë·ªÉ x·∫£y ra bi·∫øn c·ªë A ho·∫∑c bi·∫øn c·ªë B</li>
                <li><strong>P(A):</strong> X√°c su·∫•t c·ªßa bi·∫øn c·ªë A</li>
                <li><strong>P(B):</strong> X√°c su·∫•t c·ªßa bi·∫øn c·ªë B</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== 2. BI·∫æN C·ªê KH√îNG XUNG KH·∫ÆC ========== -->
        <div id="notMutuallyExclusive" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <div class="input-group">
              <label>P(A): <input type="number" id="pA2" min="0" max="1" step="0.01" placeholder="0.00"></label>
              <label>P(B): <input type="number" id="pB2" min="0" max="1" step="0.01" placeholder="0.00"></label>
              <label>P(AB): <input type="number" id="pAB2" min="0" max="1" step="0.01" placeholder="0.00"></label>
            </div>
            <div class="btn-group">
              <button id="calculateBtn2">T√≠nh to√°n</button>
              <button id="resetBtn2">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>
        
          <div id="resultSection2" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <p><strong>ƒê·∫ßu v√†o:</strong> P(A) = <span id="resPA2"></span>, P(B) = <span id="resPB2"></span>, P(AB) = <span id="resPAB2"></span></p>
              <p><strong>Gi·∫£i ph√°p:</strong> √Åp d·ª•ng c√¥ng th·ª©c:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P(A ‚à™ B) = P(A) + P(B) ‚àí P(AB)</strong></p>
              <p><strong>C√°ch t√≠nh:</strong> <span id="calcStep2"></span></p>
            </div>
            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P(A ‚à™ B) = <span class="result-value" id="finalResult2"></span></p>
            </div>
          </div>
        
          <div class="faq-section">
            <div class="faq-item">
              <h4>‚ùì Th·∫ø n√†o l√† hai bi·∫øn c·ªë kh√¥ng xung kh·∫Øc?</h4>
              <p>L√† hai bi·∫øn c·ªë c√≥ th·ªÉ c√πng x·∫£y ra trong m·ªôt ph√©p th·ª≠. T·ª©c l√†, c√≥ kh·∫£ nƒÉng x·∫£y ra ƒë·ªìng th·ªùi c·∫£ bi·∫øn c·ªë A v√† bi·∫øn c·ªë B.</p>
            </div>
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c c·ªông x√°c su·∫•t bi·∫øn c·ªë kh√¥ng xung kh·∫Øc</h4>
              <p><strong>P(A ‚à™ B) = P(A) + P(B) ‚àí P(A ‚à© B)</strong></p>
              <p><strong>Trong ƒë√≥:</strong></p>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>P(A ‚à™ B):</strong> X√°c su·∫•t ƒë·ªÉ x·∫£y ra bi·∫øn c·ªë A ho·∫∑c bi·∫øn c·ªë B (ho·∫∑c c·∫£ hai)</li>
                <li><strong>P(A):</strong> X√°c su·∫•t c·ªßa bi·∫øn c·ªë A</li>
                <li><strong>P(B):</strong> X√°c su·∫•t c·ªßa bi·∫øn c·ªë B</li>
                <li><strong>P(A ‚à© B):</strong> X√°c su·∫•t ƒë·ªÉ c·∫£ A v√† B c√πng x·∫£y ra</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== 3. C√îNG TH·ª®C NH√ÇN X√ÅC SU·∫§T ========== -->
        <div id="multiplication" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <div class="input-group">
              <label>P(A): <input type="number" id="pA3" min="0" max="1" step="0.01" placeholder="0.00"></label>
              <label>P(B|A): <input type="number" id="pBA3" min="0" max="1" step="0.01" placeholder="0.00"></label>
            </div>
            <div class="btn-group">
              <button id="calculateBtn3">T√≠nh to√°n</button>
              <button id="resetBtn3">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>
        
          <div id="resultSection3" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <p><strong>ƒê·∫ßu v√†o:</strong> P(A) = <span id="resPA3"></span>, P(B|A) = <span id="resPBA3"></span></p>
              <p><strong>Gi·∫£i ph√°p:</strong> √Åp d·ª•ng c√¥ng th·ª©c:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P(AB) = P(A) √ó P(B|A)</strong></p>
              <p><strong>C√°ch t√≠nh:</strong> <span id="calcStep3"></span></p>
            </div>
            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P(AB) = <span class="result-value" id="finalResult3"></span></p>
            </div>
          </div>
        
          <div class="faq-section">
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c nh√¢n x√°c su·∫•t c√≥ ƒëi·ªÅu ki·ªán</h4>
              <p><strong>C√¥ng th·ª©c 1:</strong> P(AB) = P(B) √ó P(A|B)</p>
              <p>C√¥ng th·ª©c n√†y ƒë∆∞·ª£c d√πng khi ta bi·∫øt x√°c su·∫•t c·ªßa s·ª± ki·ªán B v√† x√°c su·∫•t c·ªßa s·ª± ki·ªán A khi bi·∫øt B ƒë√£ x·∫£y ra.</p>
              <br>
              <p><strong>C√¥ng th·ª©c 2:</strong> P(AB) = P(A) √ó P(B|A)</p>
              <p>C√¥ng th·ª©c n√†y ƒë∆∞·ª£c d√πng khi ta bi·∫øt x√°c su·∫•t c·ªßa s·ª± ki·ªán A v√† x√°c su·∫•t c·ªßa s·ª± ki·ªán B khi bi·∫øt A ƒë√£ x·∫£y ra.</p>
            </div>
            <div class="faq-item">
              <h4>üìù Gi·∫£i th√≠ch k√Ω hi·ªáu</h4>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>P(AB):</strong> X√°c su·∫•t ƒë·ªÉ c·∫£ hai s·ª± ki·ªán A v√† B c√πng x·∫£y ra</li>
                <li><strong>P(A|B):</strong> X√°c su·∫•t c√≥ ƒëi·ªÅu ki·ªán c·ªßa s·ª± ki·ªán A khi bi·∫øt s·ª± ki·ªán B ƒë√£ x·∫£y ra</li>
                <li><strong>P(B|A):</strong> X√°c su·∫•t c√≥ ƒëi·ªÅu ki·ªán c·ªßa s·ª± ki·ªán B khi bi·∫øt s·ª± ki·ªán A ƒë√£ x·∫£y ra</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== 4. C√îNG TH·ª®C BERNOULLI ========== -->
        <div id="bernoulli" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <div class="input-group">
              <label>n (s·ªë ph√©p th·ª≠): <input type="number" id="nBer" min="1" step="1" placeholder="10"></label>
              <label>k (s·ªë l·∫ßn th√†nh c√¥ng): <input type="number" id="kBer" min="0" step="1" placeholder="3"></label>
              <label>p (x√°c su·∫•t th√†nh c√¥ng): <input type="number" id="pBer" min="0" max="1" step="0.01" placeholder="0.5"></label>
            </div>
            <div class="btn-group">
              <button id="calculateBtn4">T√≠nh to√°n</button>
              <button id="resetBtn4">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>
        
          <div id="resultSection4" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <p><strong>ƒê·∫ßu v√†o:</strong> n = <span id="resN"></span>, k = <span id="resK"></span>, p = <span id="resP"></span></p>
              <p><strong>Gi·∫£i ph√°p:</strong> √Åp d·ª•ng c√¥ng th·ª©c Bernoulli:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P<sub>n</sub>(k) = C<sub>n</sub><sup>k</sup> √ó p<sup>k</sup> √ó q<sup>n-k</sup></strong></p>
              <p><strong>V·ªõi q = 1 - p = <span id="resQ"></span></strong></p>
              <p><strong>C√°ch t√≠nh:</strong></p>
              <p>C<sub><span id="calcN1"></span></sub><sup><span id="calcK1"></span></sup> = <span id="calcComb"></span></p>
              <p><span id="calcStep4"></span></p>
            </div>
            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P<sub>n</sub>(k) = <span class="result-value" id="finalResult4"></span></p>
            </div>
          </div>
        
          <div class="faq-section">
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c Bernoulli</h4>
              <p><strong>P<sub>n</sub>(k) = C<sub>n</sub><sup>k</sup> √ó p<sup>k</sup> √ó q<sup>n-k</sup></strong></p>
              <p><strong>Gi·∫£i th√≠ch c√¥ng th·ª©c:</strong></p>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>P<sub>n</sub>(k):</strong> X√°c su·∫•t ƒë·ªÉ c√≥ ƒë√∫ng k l·∫ßn th√†nh c√¥ng trong n ph√©p th·ª≠</li>
                <li><strong>C<sub>n</sub><sup>k</sup>:</strong> T·ªï h·ª£p ch·∫≠p k c·ªßa n. ƒê√¢y l√† s·ªë c√°ch kh√°c nhau ƒë·ªÉ ch·ªçn k l·∫ßn th√†nh c√¥ng t·ª´ n ph√©p th·ª≠</li>
                <li><strong>p<sup>k</sup>:</strong> X√°c su·∫•t x·∫£y ra k l·∫ßn th√†nh c√¥ng</li>
                <li><strong>q<sup>n-k</sup>:</strong> X√°c su·∫•t x·∫£y ra (n-k) l·∫ßn th·∫•t b·∫°i, v·ªõi q = 1 - p</li>
              </ul>
            </div>
            <div class="faq-item">
              <h4>‚úÖ ƒêi·ªÅu ki·ªán √°p d·ª•ng</h4>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>N ph√©p th·ª≠ ƒë·ªôc l·∫≠p:</strong> K·∫øt qu·∫£ c·ªßa m·ªôt ph√©p th·ª≠ kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn k·∫øt qu·∫£ c·ªßa c√°c ph√©p th·ª≠ kh√°c</li>
                <li><strong>Hai k·∫øt qu·∫£ c√≥ th·ªÉ x·∫£y ra:</strong> M·ªói ph√©p th·ª≠ ch·ªâ c√≥ hai k·∫øt qu·∫£, th∆∞·ªùng g·ªçi l√† "th√†nh c√¥ng" v√† "th·∫•t b·∫°i"</li>
                <li><strong>X√°c su·∫•t kh√¥ng ƒë·ªïi:</strong> X√°c su·∫•t th√†nh c√¥ng (p) v√† x√°c su·∫•t th·∫•t b·∫°i (q) l√† nh∆∞ nhau trong m·ªói ph√©p th·ª≠</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== 5. C√îNG TH·ª®C X√ÅC SU·∫§T ƒê·∫¶Y ƒê·ª¶ ========== -->
        <div id="totalProbability" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <p style="text-align:center; color:#666; margin-bottom:15px;">Nh·∫≠p c√°c bi·∫øn c·ªë B‚ÇÅ, B‚ÇÇ, ..., B‚Çô t·∫°o th√†nh h·ªá ƒë·∫ßy ƒë·ªß</p>
            <div class="event-inputs" id="eventInputs5">
              <div class="input-row">
                <span>B‚ÇÅ:</span>
                <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÅ)">
                <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÅ)">
              </div>
              <div class="input-row">
                <span>B‚ÇÇ:</span>
                <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÇ)">
                <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÇ)">
              </div>
            </div>
            <div class="btn-group">
              <button id="addEventBtn5">+ Th√™m bi·∫øn c·ªë</button>
            </div>
            <div class="btn-group">
              <button id="calculateBtn5">T√≠nh to√°n</button>
              <button id="resetBtn5">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>

          <div id="resultSection5" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <div id="inputDisplay5"></div>
              <p><strong>Gi·∫£i ph√°p:</strong> √Åp d·ª•ng c√¥ng th·ª©c x√°c su·∫•t ƒë·∫ßy ƒë·ªß:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P(A) = Œ£ P(B·µ¢) √ó P(A|B·µ¢)</strong></p>
              <p><strong>C√°ch t√≠nh:</strong></p>
              <div id="calcStep5"></div>
            </div>
            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P(A) = <span class="result-value" id="finalResult5"></span></p>
            </div>
          </div>

          <div class="faq-section">
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c x√°c su·∫•t ƒë·∫ßy ƒë·ªß</h4>
              <p><strong>P(A) = P(B‚ÇÅ)¬∑P(A|B‚ÇÅ) + P(B‚ÇÇ)¬∑P(A|B‚ÇÇ) + ... + P(B‚Çô)¬∑P(A|B‚Çô)</strong></p>
              <p>Hay vi·∫øt g·ªçn: <strong>P(A) = Œ£ P(B·µ¢)¬∑P(A|B·µ¢)</strong></p>
            </div>
            <div class="faq-item">
              <h4>‚ùì Khi n√†o √°p d·ª•ng c√¥ng th·ª©c n√†y?</h4>
              <p>C√¥ng th·ª©c x√°c su·∫•t ƒë·∫ßy ƒë·ªß ƒë∆∞·ª£c s·ª≠ d·ª•ng khi:</p>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li>C√°c bi·∫øn c·ªë B‚ÇÅ, B‚ÇÇ, ..., B‚Çô t·∫°o th√†nh m·ªôt h·ªá ƒë·∫ßy ƒë·ªß (xung kh·∫Øc t·ª´ng ƒë√¥i v√† h·ª£p c·ªßa ch√∫ng l√† kh√¥ng gian m·∫´u)</li>
                <li>Ta bi·∫øt P(B·µ¢) v√† P(A|B·µ¢) v·ªõi m·ªçi i</li>
                <li>C·∫ßn t√≠nh x√°c su·∫•t c·ªßa bi·∫øn c·ªë A</li>
              </ul>
            </div>
            <div class="faq-item">
              <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
              <p>M·ªôt nh√† m√°y c√≥ 3 m√°y s·∫£n xu·∫•t. M√°y 1 s·∫£n xu·∫•t 30% s·∫£n ph·∫©m v·ªõi t·ª∑ l·ªá l·ªói 2%, m√°y 2 s·∫£n xu·∫•t 45% v·ªõi t·ª∑ l·ªá l·ªói 3%, m√°y 3 s·∫£n xu·∫•t 25% v·ªõi t·ª∑ l·ªá l·ªói 4%. X√°c su·∫•t ch·ªçn ng·∫´u nhi√™n ƒë∆∞·ª£c s·∫£n ph·∫©m l·ªói l√† bao nhi√™u?</p>
            </div>
          </div>
        </div>

        <!-- ========== 6. C√îNG TH·ª®C BAYES ========== -->
        <div id="bayes" class="formula-content">
          <div class="card">
            <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
            <p style="text-align:center; color:#666; margin-bottom:15px;">Nh·∫≠p c√°c bi·∫øn c·ªë B‚ÇÅ, B‚ÇÇ, ..., B‚Çô v√† ch·ªçn bi·∫øn c·ªë B·µ¢ c·∫ßn t√≠nh</p>
            <div class="event-inputs" id="eventInputs6">
              <div class="input-row">
                <span>B‚ÇÅ:</span>
                <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÅ)">
                <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÅ)">
              </div>
              <div class="input-row">
                <span>B‚ÇÇ:</span>
                <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÇ)">
                <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÇ)">
              </div>
            </div>
            <div class="btn-group">
              <button id="addEventBtn6">+ Th√™m bi·∫øn c·ªë</button>
            </div>
            <div class="input-group">
              <label>T√≠nh P(B·µ¢|A) v·ªõi i = 
                <input type="number" id="targetIndex" min="1" step="1" value="1" style="width:80px;" placeholder="1">
              </label>
            </div>
            <div class="btn-group">
              <button id="calculateBtn6">T√≠nh to√°n</button>
              <button id="resetBtn6">ƒê·∫∑t l·∫°i</button>
            </div>
          </div>

          <div id="resultSection6" style="display:none;">
            <div class="card result-box">
              <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
              <div id="inputDisplay6"></div>
              <p><strong>Gi·∫£i ph√°p:</strong> √Åp d·ª•ng c√¥ng th·ª©c Bayes:</p>
              <p style="font-size:18px; color:#d63384;"><strong>P(B·µ¢|A) = [P(B·µ¢)¬∑P(A|B·µ¢)] / Œ£[P(B‚±º)¬∑P(A|B‚±º)]</strong></p>
              <p><strong>C√°ch t√≠nh:</strong></p>
              <div id="calcStep6"></div>
            </div>
            <div class="card result-box">
              <h2>üéØ ƒê√°p √°n</h2>
              <p>P(B<sub><span id="resultIndex"></span></sub>|A) = <span class="result-value" id="finalResult6"></span></p>
            </div>
          </div>

          <div class="faq-section">
            <div class="faq-item">
              <h4>üìê C√¥ng th·ª©c Bayes</h4>
              <p><strong>P(B·µ¢|A) = [P(B·µ¢)¬∑P(A|B·µ¢)] / [P(B‚ÇÅ)¬∑P(A|B‚ÇÅ) + P(B‚ÇÇ)¬∑P(A|B‚ÇÇ) + ... + P(B‚Çô)¬∑P(A|B‚Çô)]</strong></p>
              <p>Hay vi·∫øt g·ªçn: <strong>P(B·µ¢|A) = [P(B·µ¢)¬∑P(A|B·µ¢)] / Œ£[P(B‚±º)¬∑P(A|B‚±º)]</strong></p>
            </div>
            <div class="faq-item">
              <h4>‚ùì √ù nghƒ©a c·ªßa c√¥ng th·ª©c Bayes</h4>
              <p>C√¥ng th·ª©c Bayes cho ph√©p t√≠nh x√°c su·∫•t "ng∆∞·ª£c": Khi bi·∫øt A ƒë√£ x·∫£y ra, x√°c su·∫•t ƒë·ªÉ nguy√™n nh√¢n l√† B·µ¢ l√† bao nhi√™u?</p>
              <ul style="text-align:left; margin:10px 0 0 20px;">
                <li><strong>P(B·µ¢):</strong> X√°c su·∫•t ti√™n nghi·ªám (tr∆∞·ªõc khi bi·∫øt A)</li>
                <li><strong>P(B·µ¢|A):</strong> X√°c su·∫•t h·∫≠u nghi·ªám (sau khi bi·∫øt A ƒë√£ x·∫£y ra)</li>
                <li><strong>P(A|B·µ¢):</strong> Kh·∫£ nƒÉng (likelihood) - x√°c su·∫•t A x·∫£y ra khi bi·∫øt B·µ¢</li>
              </ul>
            </div>
            <div class="faq-item">
              <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
              <p>Ti·∫øp v√≠ d·ª• tr√™n: N·∫øu ch·ªçn ƒë∆∞·ª£c s·∫£n ph·∫©m l·ªói, x√°c su·∫•t n√≥ ƒë∆∞·ª£c s·∫£n xu·∫•t t·ª´ m√°y 1 l√† bao nhi√™u? ƒê√¢y ch√≠nh l√† b√†i to√°n Bayes.</p>
            </div>
          </div>
        </div>
    

<!-- ========== CH∆Ø∆†NG 2 ========== -->

<!-- 1. B·∫¢NG PH√ÇN PH·ªêI X√ÅC SU·∫§T -->
<div id="probTable" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="probTableInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addProbRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateProbTable">T√≠nh to√°n</button>
        <button id="resetProbTable">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultProbTable" style="display:none;">
      <div class="card result-box">
        <h2>üìä B·∫£ng ph√¢n ph·ªëi x√°c su·∫•t</h2>
        <div id="tableDisplay"></div>
        <p style="margin-top:15px;"><strong>T·ªïng x√°c su·∫•t:</strong> <span id="sumProb" style="font-size:20px; font-weight:700;"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì B·∫£ng ph√¢n ph·ªëi x√°c su·∫•t l√† g√¨?</h4>
        <p>B·∫£ng ph√¢n ph·ªëi x√°c su·∫•t (Probability Distribution Table) l√† b·∫£ng li·ªát k√™ t·∫•t c·∫£ c√°c gi√° tr·ªã c√≥ th·ªÉ c√≥ c·ªßa bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c X v√† x√°c su·∫•t t∆∞∆°ng ·ª©ng P(X) c·ªßa t·ª´ng gi√° tr·ªã ƒë√≥.</p>
        <p style="margin-top:10px;"><strong>V√≠ d·ª•:</strong> Gieo m·ªôt con x√∫c x·∫Øc c√¢n ƒë·ªëi, bi·∫øn ng·∫´u nhi√™n X l√† s·ªë ch·∫•m xu·∫•t hi·ªán:</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
          <tr><th>P(X)</th><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td></tr>
        </table>
      </div>
      
      <div class="faq-item">
        <h4>‚úÖ ƒêi·ªÅu ki·ªán h·ª£p l·ªá c·ªßa b·∫£ng ph√¢n ph·ªëi x√°c su·∫•t</h4>
        <p>ƒê·ªÉ m·ªôt b·∫£ng l√† b·∫£ng ph√¢n ph·ªëi x√°c su·∫•t h·ª£p l·ªá, c·∫ßn th·ªèa m√£n hai ƒëi·ªÅu ki·ªán:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>ƒêi·ªÅu ki·ªán 1:</strong> 0 ‚â§ P(X = x·µ¢) ‚â§ 1 v·ªõi m·ªçi gi√° tr·ªã x·µ¢</li>
          <li><strong>ƒêi·ªÅu ki·ªán 2:</strong> Œ£ P(X = x·µ¢) = 1 (t·ªïng t·∫•t c·∫£ x√°c su·∫•t b·∫±ng 1)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìù C√°ch l·∫≠p b·∫£ng ph√¢n ph·ªëi x√°c su·∫•t</h4>
        <p><strong>B∆∞·ªõc 1:</strong> X√°c ƒë·ªãnh t·∫•t c·∫£ c√°c gi√° tr·ªã c√≥ th·ªÉ c√≥ c·ªßa bi·∫øn ng·∫´u nhi√™n X</p>
        <p><strong>B∆∞·ªõc 2:</strong> T√≠nh x√°c su·∫•t P(X = x·µ¢) cho t·ª´ng gi√° tr·ªã x·µ¢</p>
        <p><strong>B∆∞·ªõc 3:</strong> L·∫≠p b·∫£ng v·ªõi h√†ng ƒë·∫ßu l√† c√°c gi√° tr·ªã X, h√†ng th·ª© hai l√† P(X)</p>
        <p><strong>B∆∞·ªõc 4:</strong> Ki·ªÉm tra t·ªïng c√°c x√°c su·∫•t c√≥ b·∫±ng 1 kh√¥ng</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>B√†i to√°n:</strong> Gieo ƒë·ªìng xu 3 l·∫ßn. G·ªçi X l√† s·ªë l·∫ßn xu·∫•t hi·ªán m·∫∑t s·∫•p. L·∫≠p b·∫£ng ph√¢n ph·ªëi x√°c su·∫•t c·ªßa X.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>X c√≥ th·ªÉ nh·∫≠n c√°c gi√° tr·ªã: 0, 1, 2, 3</li>
          <li>P(X=0) = C‚ÇÉ‚Å∞ √ó (1/2)¬≥ = 1/8</li>
          <li>P(X=1) = C‚ÇÉ¬π √ó (1/2)¬≥ = 3/8</li>
          <li>P(X=2) = C‚ÇÉ¬≤ √ó (1/2)¬≥ = 3/8</li>
          <li>P(X=3) = C‚ÇÉ¬≥ √ó (1/2)¬≥ = 1/8</li>
        </ul>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>0</td><td>1</td><td>2</td><td>3</td></tr>
          <tr><th>P(X)</th><td>1/8</td><td>3/8</td><td>3/8</td><td>1/8</td></tr>
        </table>
        <p>Ki·ªÉm tra: 1/8 + 3/8 + 3/8 + 1/8 = 8/8 = 1 ‚úì</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>T√≠nh x√°c su·∫•t c·ªßa c√°c bi·∫øn c·ªë li√™n quan ƒë·∫øn X</li>
          <li>T√≠nh c√°c ƒë·∫∑c tr∆∞ng: k·ª≥ v·ªçng, ph∆∞∆°ng sai, ƒë·ªô l·ªách chu·∫©n</li>
          <li>M√¥ h√¨nh h√≥a c√°c hi·ªán t∆∞·ª£ng ng·∫´u nhi√™n trong th·ª±c t·∫ø</li>
          <li>Ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n ph√¢n t√≠ch x√°c su·∫•t</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 2. K·ª≤ V·ªåNG -->
  <div id="expectation" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="expectInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addExpectRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateExpect">T√≠nh to√°n</button>
        <button id="resetExpect">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultExpect" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
        <div id="expectDisplay"></div>
        <p><strong>C√¥ng th·ª©c:</strong> E(X) = Œ£ [x<sub>i</sub> √ó P(x<sub>i</sub>)]</p>
        <div id="expectCalc"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ ƒê√°p √°n</h2>
        <p>E(X) = <span class="result-value" id="finalExpect"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì K·ª≥ v·ªçng l√† g√¨?</h4>
        <p>K·ª≥ v·ªçng (Expected Value hay Mean) c·ªßa bi·∫øn ng·∫´u nhi√™n X, k√Ω hi·ªáu E(X) ho·∫∑c Œº, l√† gi√° tr·ªã trung b√¨nh c√≥ tr·ªçng s·ªë c·ªßa t·∫•t c·∫£ c√°c gi√° tr·ªã c√≥ th·ªÉ c√≥ c·ªßa X, v·ªõi tr·ªçng s·ªë l√† x√°c su·∫•t t∆∞∆°ng ·ª©ng.</p>
        <p style="margin-top:10px;"><strong>√ù nghƒ©a:</strong> K·ª≥ v·ªçng cho bi·∫øt gi√° tr·ªã "trung t√¢m" ho·∫∑c gi√° tr·ªã "k·ª≥ v·ªçng" c·ªßa bi·∫øn ng·∫´u nhi√™n n·∫øu th·ª±c hi·ªán ph√©p th·ª≠ nhi·ªÅu l·∫ßn.</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c k·ª≥ v·ªçng</h4>
        <p><strong>Bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;"><strong>E(X) = x‚ÇÅ¬∑p‚ÇÅ + x‚ÇÇ¬∑p‚ÇÇ + ... + x‚Çô¬∑p‚Çô = Œ£ x·µ¢¬∑P(X=x·µ¢)</strong></p>
        <p><strong>Trong ƒë√≥:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>x·µ¢:</strong> C√°c gi√° tr·ªã c√≥ th·ªÉ c√≥ c·ªßa X</li>
          <li><strong>P(X=x·µ¢):</strong> X√°c su·∫•t ƒë·ªÉ X nh·∫≠n gi√° tr·ªã x·µ¢</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üßÆ C√°c t√≠nh ch·∫•t c·ªßa k·ª≥ v·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>E(c) = c</strong> (k·ª≥ v·ªçng c·ªßa h·∫±ng s·ªë b·∫±ng ch√≠nh n√≥)</li>
          <li><strong>E(cX) = c¬∑E(X)</strong> (t√≠nh tuy·∫øn t√≠nh)</li>
          <li><strong>E(X + Y) = E(X) + E(Y)</strong> (t√≠nh c·ªông)</li>
          <li><strong>E(X - Y) = E(X) - E(Y)</strong></li>
          <li><strong>E(XY) = E(X)¬∑E(Y)</strong> n·∫øu X v√† Y ƒë·ªôc l·∫≠p</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Gieo m·ªôt con x√∫c x·∫Øc c√¢n ƒë·ªëi. T√≠nh k·ª≥ v·ªçng s·ªë ch·∫•m xu·∫•t hi·ªán.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <p>E(X) = 1√ó(1/6) + 2√ó(1/6) + 3√ó(1/6) + 4√ó(1/6) + 5√ó(1/6) + 6√ó(1/6)</p>
        <p>E(X) = (1+2+3+4+5+6)/6 = 21/6 = 3.5</p>
        <p><strong>Gi·∫£i th√≠ch:</strong> N·∫øu gieo x√∫c x·∫Øc nhi·ªÅu l·∫ßn, trung b√¨nh s·∫Ω ƒë∆∞·ª£c kho·∫£ng 3.5 ch·∫•m.</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> M·ªôt tr√≤ ch∆°i: Tr·∫£ 10,000ƒë ƒë·ªÉ ch∆°i. Gieo ƒë·ªìng xu, n·∫øu s·∫•p ƒë∆∞·ª£c 20,000ƒë, n·∫øu ng·ª≠a m·∫•t ti·ªÅn. T√≠nh k·ª≥ v·ªçng ti·ªÅn th·∫Øng.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>N·∫øu s·∫•p: L√£i = 20,000 - 10,000 = 10,000ƒë (x√°c su·∫•t 0.5)</li>
          <li>N·∫øu ng·ª≠a: L·ªó = 0 - 10,000 = -10,000ƒë (x√°c su·∫•t 0.5)</li>
        </ul>
        <p>E(X) = 10,000√ó0.5 + (-10,000)√ó0.5 = 0ƒë</p>
        <p><strong>K·∫øt lu·∫≠n:</strong> Tr√≤ ch∆°i c√¥ng b·∫±ng (fair game).</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Kinh t·∫ø:</strong> T√≠nh l·ª£i nhu·∫≠n k·ª≥ v·ªçng c·ªßa ƒë·∫ßu t∆∞</li>
          <li><strong>B·∫£o hi·ªÉm:</strong> T√≠nh ph√≠ b·∫£o hi·ªÉm d·ª±a tr√™n thi·ªát h·∫°i k·ª≥ v·ªçng</li>
          <li><strong>Tr√≤ ch∆°i:</strong> ƒê√°nh gi√° tr√≤ ch∆°i c√≥ l·ª£i hay kh√¥ng</li>
          <li><strong>Quy·∫øt ƒë·ªãnh:</strong> So s√°nh c√°c ph∆∞∆°ng √°n ƒë·ªÉ ch·ªçn ph∆∞∆°ng √°n t·ªët nh·∫•t</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>K·ª≥ v·ªçng KH√îNG nh·∫•t thi·∫øt l√† gi√° tr·ªã m√† X c√≥ th·ªÉ nh·∫≠n (nh∆∞ v√≠ d·ª• x√∫c x·∫Øc: E(X)=3.5)</li>
          <li>K·ª≥ v·ªçng ch·ªâ cho bi·∫øt xu h∆∞·ªõng trung t√¢m, kh√¥ng cho bi·∫øt ƒë·ªô ph√¢n t√°n</li>
          <li>Hai bi·∫øn ng·∫´u nhi√™n c√≥ c√πng k·ª≥ v·ªçng nh∆∞ng c√≥ th·ªÉ r·∫•t kh√°c nhau v·ªÅ ƒë·ªô bi·∫øn ƒë·ªông</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 3. PH∆Ø∆†NG SAI -->
  <div id="variance" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="varInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addVarRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateVar">T√≠nh to√°n</button>
        <button id="resetVar">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultVar" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
        <div id="varDisplay"></div>
        <p><strong>C√¥ng th·ª©c:</strong> Var(X) = E(X¬≤) - [E(X)]¬≤</p>
        <div id="varCalc"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <p>E(X) = <span class="result-value" id="varExpect"></span></p>
        <p>E(X¬≤) = <span class="result-value" id="varExpect2"></span></p>
        <p>Var(X) = <span class="result-value" id="finalVar"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph∆∞∆°ng sai l√† g√¨?</h4>
        <p>Ph∆∞∆°ng sai (Variance) c·ªßa bi·∫øn ng·∫´u nhi√™n X, k√Ω hi·ªáu Var(X) ho·∫∑c œÉ¬≤, l√† ƒë·∫°i l∆∞·ª£ng ƒëo m·ª©c ƒë·ªô ph√¢n t√°n (ƒë·ªô bi·∫øn ƒë·ªông) c·ªßa c√°c gi√° tr·ªã c·ªßa X quanh gi√° tr·ªã k·ª≥ v·ªçng E(X).</p>
        <p style="margin-top:10px;"><strong>√ù nghƒ©a:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Ph∆∞∆°ng sai <strong>nh·ªè</strong>: C√°c gi√° tr·ªã t·∫≠p trung g·∫ßn k·ª≥ v·ªçng ‚Üí √≠t bi·∫øn ƒë·ªông</li>
          <li>Ph∆∞∆°ng sai <strong>l·ªõn</strong>: C√°c gi√° tr·ªã ph√¢n t√°n xa k·ª≥ v·ªçng ‚Üí nhi·ªÅu bi·∫øn ƒë·ªông</li>
          <li>Ph∆∞∆°ng sai = 0: X l√† h·∫±ng s·ªë (kh√¥ng c√≥ bi·∫øn ƒë·ªông)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph∆∞∆°ng sai</h4>
        <p><strong>C√¥ng th·ª©c 1 (ƒê·ªãnh nghƒ©a):</strong></p>
        <p style="text-align:center; font-size:16px; color:#d63384; margin:10px 0;">Var(X) = E[(X - E(X))¬≤] = Œ£ [x·µ¢ - E(X)]¬≤ ¬∑ P(X=x·µ¢)</p>
        <br>
        <p><strong>C√¥ng th·ª©c 2 (T√≠nh to√°n nhanh):</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;"><strong>Var(X) = E(X¬≤) - [E(X)]¬≤</strong></p>
        <p><strong>Trong ƒë√≥:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>E(X¬≤):</strong> K·ª≥ v·ªçng c·ªßa X¬≤ = Œ£ x·µ¢¬≤ ¬∑ P(X=x·µ¢)</li>
          <li><strong>[E(X)]¬≤:</strong> B√¨nh ph∆∞∆°ng c·ªßa k·ª≥ v·ªçng X</li>
        </ul>
        <p style="margin-top:10px;"><strong>L∆∞u √Ω:</strong> C√¥ng th·ª©c 2 th∆∞·ªùng d·ªÖ t√≠nh h∆°n c√¥ng th·ª©c 1.</p>
      </div>
      
      <div class="faq-item">
        <h4>üßÆ C√°c t√≠nh ch·∫•t c·ªßa ph∆∞∆°ng sai</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Var(c) = 0</strong> (ph∆∞∆°ng sai c·ªßa h·∫±ng s·ªë b·∫±ng 0)</li>
          <li><strong>Var(cX) = c¬≤¬∑Var(X)</strong> (nh√¢n v·ªõi h·∫±ng s·ªë)</li>
          <li><strong>Var(X + c) = Var(X)</strong> (c·ªông h·∫±ng s·ªë kh√¥ng ƒë·ªïi ph∆∞∆°ng sai)</li>
          <li><strong>Var(X + Y) = Var(X) + Var(Y)</strong> n·∫øu X v√† Y ƒë·ªôc l·∫≠p</li>
          <li><strong>Var(X) ‚â• 0</strong> (ph∆∞∆°ng sai lu√¥n kh√¥ng √¢m)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Gieo m·ªôt con x√∫c x·∫Øc c√¢n ƒë·ªëi. T√≠nh ph∆∞∆°ng sai.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <p><strong>B∆∞·ªõc 1:</strong> T√≠nh E(X) = 3.5 (ƒë√£ t√≠nh ·ªü ph·∫ßn k·ª≥ v·ªçng)</p>
        <p><strong>B∆∞·ªõc 2:</strong> T√≠nh E(X¬≤):</p>
        <p>E(X¬≤) = 1¬≤√ó(1/6) + 2¬≤√ó(1/6) + 3¬≤√ó(1/6) + 4¬≤√ó(1/6) + 5¬≤√ó(1/6) + 6¬≤√ó(1/6)</p>
        <p>E(X¬≤) = (1+4+9+16+25+36)/6 = 91/6 ‚âà 15.167</p>
        <p><strong>B∆∞·ªõc 3:</strong> T√≠nh Var(X):</p>
        <p>Var(X) = E(X¬≤) - [E(X)]¬≤ = 15.167 - (3.5)¬≤ = 15.167 - 12.25 = 2.917</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> So s√°nh hai kho·∫£n ƒë·∫ßu t∆∞:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>ƒê·∫ßu t∆∞ A:</strong> E(X) = 10 tri·ªáu, Var(X) = 4 tri·ªáu¬≤</li>
          <li><strong>ƒê·∫ßu t∆∞ B:</strong> E(Y) = 10 tri·ªáu, Var(Y) = 16 tri·ªáu¬≤</li>
        </ul>
        <p><strong>Nh·∫≠n x√©t:</strong> C·∫£ hai c√≥ c√πng l·ª£i nhu·∫≠n k·ª≥ v·ªçng, nh∆∞ng B r·ªßi ro h∆°n (ph∆∞∆°ng sai l·ªõn h∆°n).</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>T√†i ch√≠nh:</strong> ƒêo r·ªßi ro c·ªßa ƒë·∫ßu t∆∞ (ph∆∞∆°ng sai c√†ng l·ªõn, r·ªßi ro c√†ng cao)</li>
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> ƒê√°nh gi√° ƒë·ªô ·ªïn ƒë·ªãnh c·ªßa quy tr√¨nh s·∫£n xu·∫•t</li>
          <li><strong>Th·ªëng k√™:</strong> So s√°nh ƒë·ªô ph√¢n t√°n gi·ªØa c√°c t·∫≠p d·ªØ li·ªáu</li>
          <li><strong>D·ª± b√°o:</strong> ƒê√°nh gi√° ƒë·ªô tin c·∫≠y c·ªßa d·ª± b√°o</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîç So s√°nh K·ª≥ v·ªçng v√† Ph∆∞∆°ng sai</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:30%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:35%;">K·ª≥ v·ªçng E(X)</th>
            <th style="width:35%;">Ph∆∞∆°ng sai Var(X)</th>
          </tr>
          <tr>
            <td>ƒêo l∆∞·ªùng</td>
            <td>Xu h∆∞·ªõng trung t√¢m</td>
            <td>ƒê·ªô ph√¢n t√°n</td>
          </tr>
          <tr>
            <td>ƒê∆°n v·ªã</td>
            <td>C√πng ƒë∆°n v·ªã v·ªõi X</td>
            <td>B√¨nh ph∆∞∆°ng ƒë∆°n v·ªã c·ªßa X</td>
          </tr>
          <tr>
            <td>√ù nghƒ©a</td>
            <td>Gi√° tr·ªã trung b√¨nh</td>
            <td>M·ª©c ƒë·ªô bi·∫øn ƒë·ªông</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  
  <!-- 4. ƒê·ªò L·ªÜCH TI√äU CHU·∫®N -->
  <div id="stdDeviation" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="stdInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addStdRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateStd">T√≠nh to√°n</button>
        <button id="resetStd">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultStd" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
        <div id="stdDisplay"></div>
        <p><strong>C√¥ng th·ª©c:</strong> œÉ = ‚àöVar(X)</p>
        <div id="stdCalc"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <p>E(X) = <span class="result-value" id="stdExpect"></span></p>
        <p>Var(X) = <span class="result-value" id="stdVar"></span></p>
        <p>œÉ = <span class="result-value" id="finalStd"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì ƒê·ªô l·ªách ti√™u chu·∫©n l√† g√¨?</h4>
        <p>ƒê·ªô l·ªách ti√™u chu·∫©n (Standard Deviation), k√Ω hi·ªáu œÉ ho·∫∑c SD, l√† cƒÉn b·∫≠c hai c·ªßa ph∆∞∆°ng sai. N√≥ c≈©ng ƒëo m·ª©c ƒë·ªô ph√¢n t√°n c·ªßa bi·∫øn ng·∫´u nhi√™n nh∆∞ng c√≥ c√πng ƒë∆°n v·ªã v·ªõi bi·∫øn ng·∫´u nhi√™n g·ªëc.</p>
        <p style="margin-top:10px;"><strong>∆Øu ƒëi·ªÉm so v·ªõi ph∆∞∆°ng sai:</strong> D·ªÖ hi·ªÉu v√† so s√°nh h∆°n v√¨ c√≥ c√πng ƒë∆°n v·ªã v·ªõi d·ªØ li·ªáu g·ªëc.</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ƒë·ªô l·ªách ti√™u chu·∫©n</h4>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;"><strong>œÉ = ‚àöVar(X) = ‚àö[E(X¬≤) - [E(X)]¬≤]</strong></p>
        <p><strong>C√°c b∆∞·ªõc t√≠nh:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>B∆∞·ªõc 1:</strong> T√≠nh k·ª≥ v·ªçng E(X)</li>
          <li><strong>B∆∞·ªõc 2:</strong> T√≠nh E(X¬≤)</li>
          <li><strong>B∆∞·ªõc 3:</strong> T√≠nh ph∆∞∆°ng sai Var(X) = E(X¬≤) - [E(X)]¬≤</li>
          <li><strong>B∆∞·ªõc 4:</strong> T√≠nh œÉ = ‚àöVar(X)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üßÆ C√°c t√≠nh ch·∫•t</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>œÉ(c) = 0</strong> (ƒë·ªô l·ªách chu·∫©n c·ªßa h·∫±ng s·ªë b·∫±ng 0)</li>
          <li><strong>œÉ(cX) = |c|¬∑œÉ(X)</strong> (nh√¢n v·ªõi h·∫±ng s·ªë)</li>
          <li><strong>œÉ(X + c) = œÉ(X)</strong> (c·ªông h·∫±ng kh√¥ng ƒë·ªïi ƒë·ªô l·ªách chu·∫©n)</li>
          <li><strong>œÉ(X) ‚â• 0</strong> (lu√¥n kh√¥ng √¢m)</li>
          <li><strong>œÉ(X) = 0</strong> khi v√† ch·ªâ khi X l√† h·∫±ng s·ªë</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Ti·∫øp t·ª•c v√≠ d·ª• x√∫c x·∫Øc. Ta ƒë√£ c√≥ Var(X) = 2.917</p>
        <p>œÉ = ‚àö2.917 ‚âà 1.708</p>
        <p><strong>Gi·∫£i th√≠ch:</strong> S·ªë ch·∫•m xu·∫•t hi·ªán trung b√¨nh l·ªách kh·ªèi gi√° tr·ªã k·ª≥ v·ªçng 3.5 kho·∫£ng 1.7 ch·∫•m.</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> ƒêi·ªÉm thi c·ªßa hai l·ªõp:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>L·ªõp A:</strong> ƒêi·ªÉm trung b√¨nh = 7.5, œÉ = 0.5</li>
          <li><strong>L·ªõp B:</strong> ƒêi·ªÉm trung b√¨nh = 7.5, œÉ = 1.5</li>
        </ul>
        <p><strong>Nh·∫≠n x√©t:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>L·ªõp A: ƒêi·ªÉm ƒë·ªìng ƒë·ªÅu, h·ªçc sinh c√≥ tr√¨nh ƒë·ªô t∆∞∆°ng ƒë∆∞∆°ng nhau</li>
          <li>L·ªõp B: ƒêi·ªÉm ph√¢n t√°n, c√≥ h·ªçc sinh gi·ªèi v√† y·∫øu ch√™nh l·ªách nhi·ªÅu</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä Quy t·∫Øc 68-95-99.7 (cho ph√¢n ph·ªëi chu·∫©n)</h4>
        <p>V·ªõi bi·∫øn ng·∫´u nhi√™n ph√¢n ph·ªëi chu·∫©n:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Kho·∫£ng <strong>[Œº - œÉ, Œº + œÉ]</strong> ch·ª©a kho·∫£ng <strong>68%</strong> gi√° tr·ªã</li>
          <li>Kho·∫£ng <strong>[Œº - 2œÉ, Œº + 2œÉ]</strong> ch·ª©a kho·∫£ng <strong>95%</strong> gi√° tr·ªã</li>
          <li>Kho·∫£ng <strong>[Œº - 3œÉ, Œº + 3œÉ]</strong> ch·ª©a kho·∫£ng <strong>99.7%</strong> gi√° tr·ªã</li>
        </ul>
        <p style="margin-top:10px;"><strong>V√≠ d·ª•:</strong> Chi·ªÅu cao nam gi·ªõi: Œº = 170cm, œÉ = 7cm</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>68% nam gi·ªõi c√≥ chi·ªÅu cao t·ª´ 163cm ƒë·∫øn 177cm</li>
          <li>95% nam gi·ªõi c√≥ chi·ªÅu cao t·ª´ 156cm ƒë·∫øn 184cm</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> X√°c ƒë·ªãnh s·∫£n ph·∫©m n·∫±m trong gi·ªõi h·∫°n cho ph√©p</li>
          <li><strong>T√†i ch√≠nh:</strong> ƒêo ƒë·ªô bi·∫øn ƒë·ªông gi√° c·ªï phi·∫øu (volatility)</li>
          <li><strong>Y h·ªçc:</strong> ƒê√°nh gi√° k·∫øt qu·∫£ x√©t nghi·ªám c√≥ b√¨nh th∆∞·ªùng kh√¥ng</li>
          <li><strong>Gi√°o d·ª•c:</strong> Chu·∫©n h√≥a ƒëi·ªÉm thi, x√°c ƒë·ªãnh h·ªçc sinh xu·∫•t s·∫Øc</li>
          <li><strong>Kh√≠ t∆∞·ª£ng:</strong> D·ª± b√°o bi√™n ƒë·ªô nhi·ªát ƒë·ªô</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîç Ph∆∞∆°ng sai vs ƒê·ªô l·ªách ti√™u chu·∫©n</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:30%;">Ti√™u ch√≠</th>
            <th style="width:35%;">Ph∆∞∆°ng sai (œÉ¬≤)</th>
            <th style="width:35%;">ƒê·ªô l·ªách chu·∫©n (œÉ)</th>
          </tr>
          <tr>
            <td>ƒê∆°n v·ªã</td>
            <td>B√¨nh ph∆∞∆°ng ƒë∆°n v·ªã g·ªëc</td>
            <td>C√πng ƒë∆°n v·ªã v·ªõi d·ªØ li·ªáu</td>
          </tr>
          <tr>
            <td>D·ªÖ hi·ªÉu</td>
            <td>Kh√≥ h√¨nh dung</td>
            <td>D·ªÖ hi·ªÉu, tr·ª±c quan</td>
          </tr>
          <tr>
            <td>T√≠nh to√°n</td>
            <td>D·ªÖ t√≠nh to√°n</td>
            <td>C·∫ßn th√™m b∆∞·ªõc l·∫•y cƒÉn</td>
          </tr>
          <tr>
            <td>S·ª≠ d·ª•ng</td>
            <td>Trong c√¥ng th·ª©c to√°n h·ªçc</td>
            <td>Trong b√°o c√°o, ph√¢n t√≠ch</td>
          </tr>
        </table>
        <p style="margin-top:10px;"><strong>K·∫øt lu·∫≠n:</strong> Ph∆∞∆°ng sai d√πng trong t√≠nh to√°n, ƒë·ªô l·ªách chu·∫©n d√πng trong di·ªÖn gi·∫£i.</p>
      </div>
    </div>
  </div>
  
  <!-- 5. M·ªêT -->
  <div id="mode" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="modeInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addModeRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateMode">T√≠nh to√°n</button>
        <button id="resetMode">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultMode" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o & Gi·∫£i ph√°p</h2>
        <div id="modeDisplay"></div>
        <div id="modeCalc"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ ƒê√°p √°n</h2>
        <p>M·ªët (Mode) = <span class="result-value" id="finalMode"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì M·ªët l√† g√¨?</h4>
        <p>M·ªët (Mode) l√† gi√° tr·ªã c·ªßa bi·∫øn ng·∫´u nhi√™n c√≥ x√°c su·∫•t xu·∫•t hi·ªán <strong>l·ªõn nh·∫•t</strong>, hay n√≥i c√°ch kh√°c l√† gi√° tr·ªã xu·∫•t hi·ªán <strong>th∆∞·ªùng xuy√™n nh·∫•t</strong>.</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> M‚ÇÄ ho·∫∑c Mode</p>
        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>M·ªët l√† gi√° tr·ªã th·ª±c t·∫ø c√≥ th·ªÉ x·∫£y ra (kh√°c v·ªõi k·ª≥ v·ªçng)</li>
          <li>M·ªôt ph√¢n ph·ªëi c√≥ th·ªÉ c√≥ 1 m·ªët, nhi·ªÅu m·ªët, ho·∫∑c kh√¥ng c√≥ m·ªët</li>
          <li>M·ªët d·ªÖ x√°c ƒë·ªãnh v√† d·ªÖ hi·ªÉu</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√°ch x√°c ƒë·ªãnh m·ªët</h4>
        <p><strong>V·ªõi bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c:</strong></p>
        <p>M·ªët l√† gi√° tr·ªã x<sub>i</sub> sao cho P(X = x<sub>i</sub>) ƒë·∫°t gi√° tr·ªã l·ªõn nh·∫•t.</p>
        <p style="margin-top:10px;"><strong>C√°c b∆∞·ªõc:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>B∆∞·ªõc 1:</strong> X√©t t·∫•t c·∫£ c√°c x√°c su·∫•t P(X = x<sub>i</sub>)</li>
          <li><strong>B∆∞·ªõc 2:</strong> T√¨m x√°c su·∫•t l·ªõn nh·∫•t</li>
          <li><strong>B∆∞·ªõc 3:</strong> Gi√° tr·ªã X t∆∞∆°ng ·ª©ng v·ªõi x√°c su·∫•t ƒë√≥ ch√≠nh l√† m·ªët</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üî¢ C√°c lo·∫°i ph√¢n ph·ªëi theo s·ªë m·ªët</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>ƒê∆°n m·ªët (Unimodal):</strong> Ch·ªâ c√≥ 1 m·ªët - ph·ªï bi·∫øn nh·∫•t</li>
          <li><strong>ƒêa m·ªët (Multimodal):</strong> C√≥ 2 m·ªët tr·ªü l√™n
            <ul style="margin-left:20px;">
              <li><strong>Song m·ªët (Bimodal):</strong> C√≥ ƒë√∫ng 2 m·ªët</li>
              <li><strong>ƒêa m·ªët:</strong> C√≥ t·ª´ 3 m·ªët tr·ªü l√™n</li>
            </ul>
          </li>
          <li><strong>Kh√¥ng c√≥ m·ªët:</strong> T·∫•t c·∫£ gi√° tr·ªã c√≥ x√°c su·∫•t b·∫±ng nhau (ph√¢n ph·ªëi ƒë·ªÅu)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Gieo x√∫c x·∫Øc c√¢n ƒë·ªëi</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
          <tr><th>P(X)</th><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td></tr>
        </table>
        <p><strong>K·∫øt lu·∫≠n:</strong> Kh√¥ng c√≥ m·ªët (t·∫•t c·∫£ x√°c su·∫•t b·∫±ng nhau)</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> S·ªë con trong c√°c gia ƒë√¨nh ·ªü m·ªôt khu v·ª±c</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>S·ªë con (X)</th><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td></tr>
          <tr><th>P(X)</th><td>0.1</td><td>0.2</td><td>0.4</td><td>0.2</td><td>0.1</td></tr>
        </table>
        <p><strong>K·∫øt lu·∫≠n:</strong> M·ªët = 2 (x√°c su·∫•t 0.4 l√† l·ªõn nh·∫•t)</p>
        <br>
        <p><strong>V√≠ d·ª• 3:</strong> ƒêi·ªÉm thi c·ªßa m·ªôt l·ªõp (ph√¢n ph·ªëi song m·ªët)</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>ƒêi·ªÉm</th><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td></tr>
          <tr><th>T·∫ßn su·∫•t</th><td>2</td><td>5</td><td>3</td><td>2</td><td>5</td><td>1</td></tr>
        </table>
        <p><strong>K·∫øt lu·∫≠n:</strong> C√≥ 2 m·ªët: 5 v√† 8 (c·∫£ hai ƒë·ªÅu xu·∫•t hi·ªán 5 l·∫ßn)</p>
        <p><strong>Gi·∫£i th√≠ch:</strong> L·ªõp c√≥ 2 nh√≥m h·ªçc sinh: nh√≥m y·∫øu (quanh ƒëi·ªÉm 5) v√† nh√≥m kh√° (quanh ƒëi·ªÉm 8)</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Kinh doanh:</strong> X√°c ƒë·ªãnh s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t, size qu·∫ßn √°o ph·ªï bi·∫øn nh·∫•t</li>
          <li><strong>Th·ªëng k√™ d√¢n s·ªë:</strong> ƒê·ªô tu·ªïi ph·ªï bi·∫øn nh·∫•t trong d√¢n s·ªë</li>
          <li><strong>Y h·ªçc:</strong> Nh√≥m m√°u ph·ªï bi·∫øn nh·∫•t trong c·ªông ƒë·ªìng</li>
          <li><strong>Gi√°o d·ª•c:</strong> ƒêi·ªÉm s·ªë xu·∫•t hi·ªán nhi·ªÅu nh·∫•t trong k·ª≥ thi</li>
          <li><strong>Giao th√¥ng:</strong> Gi·ªù cao ƒëi·ªÉm (th·ªùi ƒëi·ªÉm c√≥ l∆∞u l∆∞·ª£ng xe nhi·ªÅu nh·∫•t)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîç So s√°nh M·ªët, Trung v·ªã, K·ª≥ v·ªçng</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:25%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:25%;">M·ªët</th>
            <th style="width:25%;">Trung v·ªã</th>
            <th style="width:25%;">K·ª≥ v·ªçng</th>
          </tr>
          <tr>
            <td>ƒê·ªãnh nghƒ©a</td>
            <td>Gi√° tr·ªã ph·ªï bi·∫øn nh·∫•t</td>
            <td>Gi√° tr·ªã ·ªü gi·ªØa</td>
            <td>Gi√° tr·ªã trung b√¨nh</td>
          </tr>
          <tr>
            <td>·∫¢nh h∆∞·ªüng c·ªßa gi√° tr·ªã c·ª±c tr·ªã</td>
            <td>Kh√¥ng ·∫£nh h∆∞·ªüng</td>
            <td>√çt ·∫£nh h∆∞·ªüng</td>
            <td>·∫¢nh h∆∞·ªüng nhi·ªÅu</td>
          </tr>
          <tr>
            <td>S·ªë l∆∞·ª£ng</td>
            <td>C√≥ th·ªÉ c√≥ nhi·ªÅu</td>
            <td>Duy nh·∫•t</td>
            <td>Duy nh·∫•t</td>
          </tr>
          <tr>
            <td>D·ªÖ t√≠nh</td>
            <td>R·∫•t d·ªÖ</td>
            <td>D·ªÖ</td>
            <td>Trung b√¨nh</td>
          </tr>
        </table>
      </div>
      
      <div class="faq-item">
        <h4>üìä M·ªëi quan h·ªá gi·ªØa M·ªët, Trung v·ªã, K·ª≥ v·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ph√¢n ph·ªëi ƒë·ªëi x·ª©ng:</strong> M·ªët = Trung v·ªã = K·ª≥ v·ªçng</li>
          <li><strong>Ph√¢n ph·ªëi l·ªách ph·∫£i:</strong> M·ªët < Trung v·ªã < K·ª≥ v·ªçng</li>
          <li><strong>Ph√¢n ph·ªëi l·ªách tr√°i:</strong> K·ª≥ v·ªçng < Trung v·ªã < M·ªët</li>
        </ul>
        <p style="margin-top:10px;"><strong>V√≠ d·ª•:</strong> Thu nh·∫≠p d√¢n c∆∞ th∆∞·ªùng l·ªách ph·∫£i (m·ªôt s·ªë ng∆∞·ªùi r·∫•t gi√†u k√©o trung b√¨nh l√™n cao)</p>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω khi s·ª≠ d·ª•ng m·ªët</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>M·ªët kh√¥ng ph·∫£n √°nh to√†n b·ªô ph√¢n ph·ªëi, ch·ªâ cho bi·∫øt gi√° tr·ªã ph·ªï bi·∫øn nh·∫•t</li>
          <li>V·ªõi d·ªØ li·ªáu li√™n t·ª•c, c·∫ßn nh√≥m th√†nh c√°c kho·∫£ng ƒë·ªÉ x√°c ƒë·ªãnh m·ªët</li>
          <li>N·∫øu c√≥ nhi·ªÅu m·ªët, c·∫ßn xem x√©t √Ω nghƒ©a c·ªßa t·ª´ng m·ªët</li>
          <li>M·ªët c√≥ th·ªÉ kh√¥ng t·ªìn t·∫°i ho·∫∑c kh√¥ng c√≥ √Ω nghƒ©a trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p</li>
        </ul>
      </div>
    </div>
  </div>
  
    
<!-- 6. H√ÄM PH√ÇN PH·ªêI X√ÅC SU·∫§T (CDF) -->
<div id="cdf" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="cdfInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addCdfRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="input-row" style="margin-top:15px;">
        <span>T√≠nh F(x) t·∫°i x =</span>
        <input type="number" id="cdfXValue" step="any" placeholder="Nh·∫≠p gi√° tr·ªã x">
      </div>
      <div class="btn-group">
        <button id="calculateCdf">T√≠nh to√°n</button>
        <button id="resetCdf">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultCdf" style="display:none;">
      <div class="card result-box">
        <h2>üìä H√†m ph√¢n ph·ªëi x√°c su·∫•t F(x) = P(X ‚â§ x)</h2>
        <div id="cdfDisplay"></div>
      </div>
      <div class="card result-box" id="resultCalcBox" style="display:none;">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <div id="cdfCalc"></div>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì H√†m ph√¢n ph·ªëi x√°c su·∫•t (CDF) l√† g√¨?</h4>
        <p>H√†m ph√¢n ph·ªëi x√°c su·∫•t (Cumulative Distribution Function - CDF), k√Ω hi·ªáu F(x), l√† h√†m cho bi·∫øt x√°c su·∫•t ƒë·ªÉ bi·∫øn ng·∫´u nhi√™n X nh·∫≠n gi√° tr·ªã <strong>nh·ªè h∆°n ho·∫∑c b·∫±ng</strong> m·ªôt gi√° tr·ªã x cho tr∆∞·ªõc.</p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:15px 0;"><strong>F(x) = P(X ‚â§ x)</strong></p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c CDF</h4>
        <p><strong>V·ªõi bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c:</strong></p>
        <p style="text-align:center; font-size:16px; color:#d63384; margin:10px 0;">F(x) = P(X ‚â§ x) = Œ£ P(X = x·µ¢) v·ªõi m·ªçi x·µ¢ ‚â§ x</p>
        <p><strong>C√°ch t√≠nh:</strong> C·ªông d·ªìn t·∫•t c·∫£ x√°c su·∫•t c·ªßa c√°c gi√° tr·ªã nh·ªè h∆°n ho·∫∑c b·∫±ng x.</p>
      </div>
      
      <div class="faq-item">
        <h4>‚úÖ T√≠nh ch·∫•t c·ªßa CDF</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>0 ‚â§ F(x) ‚â§ 1</strong> v·ªõi m·ªçi x</li>
          <li><strong>F(x) l√† h√†m kh√¥ng gi·∫£m:</strong> N·∫øu x‚ÇÅ < x‚ÇÇ th√¨ F(x‚ÇÅ) ‚â§ F(x‚ÇÇ)</li>
          <li><strong>lim F(x) = 0</strong> khi x ‚Üí -‚àû</li>
          <li><strong>lim F(x) = 1</strong> khi x ‚Üí +‚àû</li>
          <li><strong>P(a < X ‚â§ b) = F(b) - F(a)</strong></li>
          <li><strong>P(X > x) = 1 - F(x)</strong></li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª•:</strong> Gieo m·ªôt con x√∫c x·∫Øc c√¢n ƒë·ªëi. T√≠nh CDF.</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td></tr>
          <tr><th>P(X)</th><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td></tr>
          <tr><th>F(X)</th><td>1/6</td><td>2/6</td><td>3/6</td><td>4/6</td><td>5/6</td><td>6/6</td></tr>
        </table>
        <p><strong>Gi·∫£i th√≠ch:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>F(1) = P(X‚â§1) = 1/6</li>
          <li>F(2) = P(X‚â§2) = P(X=1) + P(X=2) = 1/6 + 1/6 = 2/6</li>
          <li>F(3) = P(X‚â§3) = 1/6 + 1/6 + 1/6 = 3/6</li>
          <li>...</li>
          <li>F(6) = P(X‚â§6) = 6/6 = 1</li>
        </ul>
        <br>
        <p><strong>·ª®ng d·ª•ng:</strong></p>
        <p>T√≠nh P(2 < X ‚â§ 5) = F(5) - F(2) = 5/6 - 2/6 = 3/6 = 1/2</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Th·ªëng k√™:</strong> T√≠nh x√°c su·∫•t trong kho·∫£ng gi√° tr·ªã</li>
          <li><strong>Ki·ªÉm ƒë·ªãnh gi·∫£ thuy·∫øt:</strong> So s√°nh v·ªõi ph√¢n ph·ªëi l√Ω thuy·∫øt</li>
          <li><strong>Ph√¢n t√≠ch r·ªßi ro:</strong> T√≠nh x√°c su·∫•t thua l·ªó d∆∞·ªõi m·ªôt m·ª©c</li>
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> X√°c su·∫•t s·∫£n ph·∫©m ƒë·∫°t ti√™u chu·∫©n</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîç CDF vs PMF (Probability Mass Function)</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:30%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:35%;">PMF: P(X=x)</th>
            <th style="width:35%;">CDF: F(x)</th>
          </tr>
          <tr>
            <td>√ù nghƒ©a</td>
            <td>P(X = x)</td>
            <td>P(X ‚â§ x)</td>
          </tr>
          <tr>
            <td>Gi√° tr·ªã</td>
            <td>C√≥ th·ªÉ gi·∫£m</td>
            <td>Lu√¥n tƒÉng (kh√¥ng gi·∫£m)</td>
          </tr>
          <tr>
            <td>T·ªïng/Gi·ªõi h·∫°n</td>
            <td>Œ£ P(X) = 1</td>
            <td>lim F(x) = 1 khi x‚Üí‚àû</td>
          </tr>
          <tr>
            <td>M·ªëi quan h·ªá</td>
            <td colspan="2">F(x) = Œ£ P(X=x·µ¢) v·ªõi x·µ¢ ‚â§ x</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

<script>
// Th√™m h√†ng d·ªØ li·ªáu m·ªõi
document.getElementById('addCdfRow')?.addEventListener('click', function() {
  const container = document.getElementById('cdfInputs');
  const newRow = document.createElement('div');
  newRow.className = 'input-row';
  newRow.innerHTML = `
    <span>X:</span>
    <input type="number" class="xVal" step="any" placeholder="x">
    <span>P(X):</span>
    <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p">
  `;
  container.appendChild(newRow);
});

document.getElementById('calculateCdf')?.addEventListener('click', function() {
  const xInputs = document.querySelectorAll('#cdfInputs .xVal');
  const pInputs = document.querySelectorAll('#cdfInputs .pVal');
  const xValue = document.getElementById('cdfXValue').value.trim();
  
  let data = [];
  
  for(let i = 0; i < xInputs.length; i++) {
    const x = parseFloat(xInputs[i].value);
    const p = parseFloat(pInputs[i].value);
    if(!isNaN(x) && !isNaN(p) && p > 0) {
      data.push({x: x, p: p});
    }
  }
  
  if(data.length < 1) {
    alert('Vui l√≤ng nh·∫≠p √≠t nh·∫•t 1 gi√° tr·ªã!');
    return;
  }
  
  const sumP = data.reduce((sum, item) => sum + item.p, 0);
  if(Math.abs(sumP - 1) > 0.001) {
    alert('T·ªïng x√°c su·∫•t ph·∫£i b·∫±ng 1! (Hi·ªán t·∫°i: ' + sumP.toFixed(4) + ')');
    return;
  }
  
  data.sort((a, b) => a.x - b.x);
  
  // ‚úÖ HI·ªÇN TH·ªä D·∫†NG H√ÄM CDF V·ªöI ƒêI·ªÄU KI·ªÜN KHO·∫¢NG
  let cdfHTML = `<div style="text-align:center; margin:20px auto; font-size:16px; font-family:'Times New Roman', serif;">`;
  cdfHTML += `<div style="margin-bottom:15px;"><strong style="font-size:20px;">F(x) = </strong></div>`;
  
  // V·∫Ω d·∫•u ngo·∫∑c nh·ªçn
  cdfHTML += `<div style="display:inline-block; position:relative; margin-top:-10px;">`;
  cdfHTML += `<div style="font-size:80px; color:#d63384; font-weight:bold; position:absolute; left:-30px; top:-20px; line-height:1;">{</div>`;
  
  cdfHTML += `<div style="display:inline-block; text-align:left; padding-left:20px; border-left:2px solid #333;">`;
  
  // ƒêi·ªÅu ki·ªán ƒë·∫ßu ti√™n: x <= x1
  cdfHTML += `<div style="margin:8px 0; font-size:15px;">
    <span style="display:inline-block; width:80px; text-align:right; color:#d63384; font-weight:bold;">0</span>
    <span style="margin-left:20px;">khi x ‚â§ ${data[0].x}</span>
  </div>`;
  
  // C√°c ƒëi·ªÅu ki·ªán gi·ªØa
  let cumulative = 0;
  for(let i = 0; i < data.length; i++) {
    cumulative += data[i].p;
    
    if(i < data.length - 1) {
      // Kho·∫£ng gi·ªØa
      const cdfValue = (cumulative).toFixed(4);
      const nextX = data[i + 1].x;
      cdfHTML += `<div style="margin:8px 0; font-size:15px;">
        <span style="display:inline-block; width:80px; text-align:right; color:#d63384; font-weight:bold;">${cdfValue}</span>
        <span style="margin-left:20px;">khi ${data[i].x} < x ‚â§ ${nextX}</span>
      </div>`;
    } else {
      // ƒêi·ªÅu ki·ªán cu·ªëi c√πng
      cdfHTML += `<div style="margin:8px 0; font-size:15px;">
        <span style="display:inline-block; width:80px; text-align:right; color:#d63384; font-weight:bold;">1</span>
        <span style="margin-left:20px;">khi x > ${data[i].x}</span>
      </div>`;
    }
  }
  
  cdfHTML += `</div>`;
  cdfHTML += `</div></div>`;
  
  document.getElementById('cdfDisplay').innerHTML = cdfHTML;
  
  // ‚úÖ T√çNH F(x) N·∫æU NH·∫¨P X
  const xValueNum = xValue !== '' ? parseFloat(xValue) : null;
  
  if(xValue !== '' && isNaN(xValueNum)) {
    alert('Gi√° tr·ªã x kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  let calcHTML = '';
  
  if(xValueNum !== null) {
    let result = 0;
    
    if(xValueNum <= data[0].x) {
      result = 0;
      calcHTML += `<p><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum}) = 0</strong></p>`;
      calcHTML += `<p style="color:#666; font-size:14px;">V√¨ ${xValueNum} ‚â§ ${data[0].x} (gi√° tr·ªã nh·ªè nh·∫•t)</p>`;
    } else if(xValueNum > data[data.length-1].x) {
      result = 1;
      calcHTML += `<p><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum}) = 1</strong></p>`;
      calcHTML += `<p style="color:#666; font-size:14px;">V√¨ ${xValueNum} > ${data[data.length-1].x} (gi√° tr·ªã l·ªõn nh·∫•t)</p>`;
    } else {
      let terms = [];
      let values = [];
      
      for(let i = 0; i < data.length; i++) {
        if(data[i].x < xValueNum) {
          result += data[i].p;
          terms.push(`P(X=${data[i].x})`);
          values.push(data[i].p.toFixed(4));
        } else if(data[i].x === xValueNum) {
          result += data[i].p;
          terms.push(`P(X=${data[i].x})`);
          values.push(data[i].p.toFixed(4));
          break;
        }
      }
      
      calcHTML += `<p><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum}) = ${terms.join(' + ')}</strong></p>`;
      calcHTML += `<p style="margin-top:8px;">= ${values.join(' + ')}</p>`;
      calcHTML += `<p style="margin-top:8px; font-size:18px; color:#d63384;"><strong>= ${result.toFixed(4)}</strong></p>`;
    }
    
    document.getElementById('cdfCalc').innerHTML = calcHTML;
    document.getElementById('resultCalcBox').style.display = 'block';
  } else {
    document.getElementById('resultCalcBox').style.display = 'none';
  }
  
  document.getElementById('resultCdf').style.display = 'block';
});

// ‚úÖ H√ÄM RESET
document.getElementById('resetCdf')?.addEventListener('click', function() {
  document.getElementById('cdfInputs').innerHTML = `
    <div class="input-row">
      <span>X:</span>
      <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
      <span>P(X):</span>
      <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
    </div>
    <div class="input-row">
      <span>X:</span>
      <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
      <span>P(X):</span>
      <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
    </div>
  `;
  document.getElementById('cdfXValue').value = '';
  document.getElementById('resultCdf').style.display = 'none';
});

</script>  <!-- 7. H√ÄM M·∫¨T ƒê·ªò X√ÅC SU·∫§T (PDF) -->
  <div id="pdf" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p h√†m m·∫≠t ƒë·ªô</h3>
      <p style="color:#666; margin-bottom:15px;">Nh·∫≠p c√¥ng th·ª©c h√†m f(x) (v√≠ d·ª•: 2*x, x^2, 1/4)</p>
      <div class="input-row">
        <span>f(x) =</span>
        <input type="text" id="pdfFunction" placeholder="V√≠ d·ª•: 2*x">
      </div>
      <div class="input-row">
        <span>Kho·∫£ng x√°c ƒë·ªãnh: [</span>
        <input type="number" id="pdfA" step="any" placeholder="a" style="width:80px;">
        <span>,</span>
        <input type="number" id="pdfB" step="any" placeholder="b" style="width:80px;">
        <span>]</span>
      </div>
      <div class="input-row">
        <span>T√≠nh P(</span>
        <input type="number" id="pdfX1" step="any" placeholder="x‚ÇÅ" style="width:80px;">
        <span>‚â§ X ‚â§</span>
        <input type="number" id="pdfX2" step="any" placeholder="x‚ÇÇ" style="width:80px;">
        <span>)</span>
      </div>
      <div class="btn-group">
        <button id="calculatePdf">T√≠nh to√°n</button>
        <button id="resetPdf">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultPdf" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng tin h√†m</h2>
        <div id="pdfDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <div id="pdfCalc"></div>
        <p style="margin-top:15px;">P(<span id="pdfRange"></span>) = <span class="result-value" id="finalPdf"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì H√†m m·∫≠t ƒë·ªô x√°c su·∫•t (PDF) l√† g√¨?</h4>
        <p>H√†m m·∫≠t ƒë·ªô x√°c su·∫•t (Probability Density Function - PDF), k√Ω hi·ªáu f(x), l√† h√†m m√¥ t·∫£ ph√¢n ph·ªëi x√°c su·∫•t c·ªßa <strong>bi·∫øn ng·∫´u nhi√™n li√™n t·ª•c</strong>.</p>
        <p style="margin-top:10px;"><strong>L∆∞u √Ω quan tr·ªçng:</strong> f(x) KH√îNG ph·∫£i l√† x√°c su·∫•t! X√°c su·∫•t ƒë∆∞·ª£c t√≠nh b·∫±ng t√≠ch ph√¢n c·ªßa f(x).</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c v√† t√≠nh ch·∫•t</h4>
        <p><strong>X√°c su·∫•t trong kho·∫£ng [a, b]:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;"><strong>P(a ‚â§ X ‚â§ b) = ‚à´‚Çê·µá f(x)dx</strong></p>
        <p><strong>C√°c t√≠nh ch·∫•t:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>f(x) ‚â• 0</strong> v·ªõi m·ªçi x (kh√¥ng √¢m)</li>
          <li><strong>‚à´‚Çã‚àû‚Å∫‚àû f(x)dx = 1</strong> (t·ªïng di·ªán t√≠ch = 1)</li>
          <li><strong>P(X = a) = 0</strong> (x√°c su·∫•t t·∫°i 1 ƒëi·ªÉm = 0)</li>
          <li><strong>P(a ‚â§ X ‚â§ b) = P(a < X < b) = P(a < X ‚â§ b) = P(a ‚â§ X < b)</strong></li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîó M·ªëi quan h·ªá v·ªõi CDF</h4>
        <p><strong>CDF t·ª´ PDF:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">F(x) = ‚à´‚Çã‚àûÀ£ f(t)dt</p>
        <p><strong>PDF t·ª´ CDF:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">f(x) = F'(x) = dF(x)/dx</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Ph√¢n ph·ªëi ƒë·ªÅu tr√™n [0, 2]</p>
        <p>f(x) = 1/2 n·∫øu 0 ‚â§ x ‚â§ 2, f(x) = 0 n·∫øu ng∆∞·ª£c l·∫°i</p>
        <p><strong>T√≠nh P(0.5 ‚â§ X ‚â§ 1.5):</strong></p>
        <p>P(0.5 ‚â§ X ‚â§ 1.5) = ‚à´‚ÇÄ.‚ÇÖ¬π¬∑‚Åµ (1/2)dx = (1/2) √ó (1.5 - 0.5) = 0.5</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> H√†m m·∫≠t ƒë·ªô f(x) = 2x tr√™n [0, 1]</p>
        <p><strong>Ki·ªÉm tra h·ª£p l·ªá:</strong></p>
        <p>‚à´‚ÇÄ¬π 2x dx = [x¬≤]‚ÇÄ¬π = 1 - 0 = 1 ‚úì</p>
        <p><strong>T√≠nh P(0 ‚â§ X ‚â§ 0.5):</strong></p>
        <p>P(0 ‚â§ X ‚â§ 0.5) = ‚à´‚ÇÄ‚Å∞¬∑‚Åµ 2x dx = [x¬≤]‚ÇÄ‚Å∞¬∑‚Åµ = 0.25</p>
      </div>
      
      <div class="faq-item">
        <h4>üìä C√°c ph√¢n ph·ªëi PDF ph·ªï bi·∫øn</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ph√¢n ph·ªëi ƒë·ªÅu:</strong> f(x) = 1/(b-a) tr√™n [a,b]</li>
          <li><strong>Ph√¢n ph·ªëi m≈©:</strong> f(x) = Œªe^(-Œªx) v·ªõi x ‚â• 0</li>
          <li><strong>Ph√¢n ph·ªëi chu·∫©n:</strong> f(x) = (1/œÉ‚àö(2œÄ)) √ó e^(-(x-Œº)¬≤/(2œÉ¬≤))</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>V·∫≠t l√Ω:</strong> Ph√¢n b·ªë nƒÉng l∆∞·ª£ng, v·∫≠n t·ªëc ph√¢n t·ª≠</li>
          <li><strong>K·ªπ thu·∫≠t:</strong> Tu·ªïi th·ªç thi·∫øt b·ªã, th·ªùi gian h·ªèng h√≥c</li>
          <li><strong>T√†i ch√≠nh:</strong> M√¥ h√¨nh gi√° c·ªï phi·∫øu, l√£i su·∫•t</li>
          <li><strong>Sinh h·ªçc:</strong> Chi·ªÅu cao, c√¢n n·∫∑ng, huy·∫øt √°p</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è Sai l·∫ßm th∆∞·ªùng g·∫∑p</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Nh·∫ßm l·∫´n:</strong> f(x) ‚â† P(X=x). V·ªõi bi·∫øn li√™n t·ª•c, P(X=x) = 0!</li>
          <li><strong>f(x) c√≥ th·ªÉ > 1:</strong> V√≠ d·ª• f(x)=2 tr√™n [0, 0.5] v·∫´n h·ª£p l·ªá v√¨ ‚à´‚ÇÄ‚Å∞¬∑‚Åµ 2dx = 1</li>
          <li><strong>Qu√™n ki·ªÉm tra:</strong> Lu√¥n ki·ªÉm tra ‚à´ f(x)dx = 1</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 8. TRUNG V·ªä -->
  <div id="median" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="medianInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addMedianRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="btn-group">
        <button id="calculateMedian">T√≠nh to√°n</button>
        <button id="resetMedian">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultMedian" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o & CDF</h2>
        <div id="medianDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <div id="medianCalc"></div>
        <p style="margin-top:15px;">Trung v·ªã (Median) = <span class="result-value" id="finalMedian"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Trung v·ªã l√† g√¨?</h4>
        <p>Trung v·ªã (Median), k√Ω hi·ªáu Me ho·∫∑c M, l√† gi√° tr·ªã ·ªü <strong>gi·ªØa</strong> c·ªßa ph√¢n ph·ªëi x√°c su·∫•t, chia ph√¢n ph·ªëi th√†nh hai ph·∫ßn b·∫±ng nhau.</p>
        <p style="text-align:center; font-size:16px; color:#d63384; margin:15px 0;"><strong>P(X ‚â§ Me) ‚â• 0.5 v√† P(X ‚â• Me) ‚â• 0.5</strong></p>
        <p><strong>√ù nghƒ©a:</strong> 50% gi√° tr·ªã nh·ªè h∆°n ho·∫∑c b·∫±ng trung v·ªã, 50% gi√° tr·ªã l·ªõn h∆°n ho·∫∑c b·∫±ng trung v·ªã.</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√°ch t√¨m trung v·ªã</h4>
        <p><strong>V·ªõi bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c:</strong></p>
        <p>Trung v·ªã Me l√† gi√° tr·ªã nh·ªè nh·∫•t sao cho:</p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">F(Me) = P(X ‚â§ Me) ‚â• 0.5</p>
        <p><strong>C√°c b∆∞·ªõc:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>B∆∞·ªõc 1:</strong> S·∫Øp x·∫øp c√°c gi√° tr·ªã X theo th·ª© t·ª± tƒÉng d·∫ßn</li>
          <li><strong>B∆∞·ªõc 2:</strong> T√≠nh CDF: F(x) = Œ£ P(X ‚â§ x)</li>
          <li><strong>B∆∞·ªõc 3:</strong> T√¨m gi√° tr·ªã x ƒë·∫ßu ti√™n c√≥ F(x) ‚â• 0.5</li>
        </ul>
        <br>
        <p><strong>V·ªõi bi·∫øn ng·∫´u nhi√™n li√™n t·ª•c:</strong></p>
        <p>Gi·∫£i ph∆∞∆°ng tr√¨nh: F(Me) = 0.5 ho·∫∑c ‚à´‚Çã‚àû·¥π·µâ f(x)dx = 0.5</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> T√¨m trung v·ªã c·ªßa ph√¢n ph·ªëi sau:</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
          <tr><th>P(X)</th><td>0.1</td><td>0.2</td><td>0.3</td><td>0.3</td><td>0.1</td></tr>
          <tr><th>F(X)</th><td>0.1</td><td>0.3</td><td>0.6</td><td>0.9</td><td>1.0</td></tr>
        </table>
        <p><strong>Gi·∫£i:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>F(1) = 0.1 < 0.5</li>
          <li>F(2) = 0.3 < 0.5</li>
          <li>F(3) = 0.6 ‚â• 0.5 ‚úì</li>
        </ul>
        <p><strong>K·∫øt lu·∫≠n:</strong> Trung v·ªã Me = 3</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> Thu nh·∫≠p h√†ng th√°ng c·ªßa 5 ng∆∞·ªùi (tri·ªáu ƒë·ªìng): 5, 7, 8, 10, 50</p>
        <p><strong>Trung v·ªã:</strong> 8 tri·ªáu (gi√° tr·ªã ·ªü gi·ªØa)</p>
        <p><strong>K·ª≥ v·ªçng:</strong> (5+7+8+10+50)/5 = 16 tri·ªáu</p>
        <p><strong>Nh·∫≠n x√©t:</strong> Trung v·ªã ph·∫£n √°nh ƒë√∫ng th·ª±c t·∫ø h∆°n (kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi ng∆∞·ªùi thu nh·∫≠p 50 tri·ªáu)</p>
      </div>
      
      <div class="faq-item">
        <h4>üîç So s√°nh Trung v·ªã, K·ª≥ v·ªçng, M·ªët</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:25%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:25%;">M·ªët</th>
            <th style="width:25%;">Trung v·ªã</th>
            <th style="width:25%;">K·ª≥ v·ªçng</th>
          </tr>
          <tr>
            <td>ƒê·ªãnh nghƒ©a</td>
            <td>Gi√° tr·ªã ph·ªï bi·∫øn nh·∫•t</td>
            <td>Gi√° tr·ªã ·ªü gi·ªØa</td>
            <td>Gi√° tr·ªã trung b√¨nh</td>
          </tr>
          <tr>
            <td>V·ªã tr√≠</td>
            <td>ƒê·ªânh cao nh·∫•t</td>
            <td>Chia ƒë√¥i di·ªán t√≠ch</td>
            <td>Tr·ªçng t√¢m</td>
          </tr>
          <tr>
            <td>·∫¢nh h∆∞·ªüng c·ªßa ngo·∫°i l·ªá</td>
            <td>Kh√¥ng ·∫£nh h∆∞·ªüng</td>
            <td>√çt ·∫£nh h∆∞·ªüng</td>
            <td>·∫¢nh h∆∞·ªüng nhi·ªÅu</td>
          </tr>
          <tr>
            <td>Khi n√†o d√πng</td>
            <td>D·ªØ li·ªáu ƒë·ªãnh t√≠nh</td>
            <td>C√≥ ngo·∫°i l·ªá</td>
            <td>D·ªØ li·ªáu ƒë·ªëi x·ª©ng</td>
          </tr>
        </table>
      </div>
      
      <div class="faq-item">
        <h4>üìä Quan h·ªá gi·ªØa 3 ƒë·∫°i l∆∞·ª£ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ph√¢n ph·ªëi ƒë·ªëi x·ª©ng:</strong> M·ªët = Trung v·ªã = K·ª≥ v·ªçng
            <br><span style="color:#666;">V√≠ d·ª•: Ph√¢n ph·ªëi chu·∫©n</span>
          </li>
          <li><strong>Ph√¢n ph·ªëi l·ªách ph·∫£i (ƒëu√¥i d√†i b√™n ph·∫£i):</strong> M·ªët < Trung v·ªã < K·ª≥ v·ªçng
            <br><span style="color:#666;">V√≠ d·ª•: Thu nh·∫≠p, gi√° nh√†</span>
          </li>
          <li><strong>Ph√¢n ph·ªëi l·ªách tr√°i (ƒëu√¥i d√†i b√™n tr√°i):</strong> K·ª≥ v·ªçng < Trung v·ªã < M·ªët
            <br><span style="color:#666;">V√≠ d·ª•: Tu·ªïi th·ªç con ng∆∞·ªùi</span>
          </li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Kinh t·∫ø:</strong> Thu nh·∫≠p trung v·ªã (ch√≠nh x√°c h∆°n thu nh·∫≠p trung b√¨nh)</li>
          <li><strong>B·∫•t ƒë·ªông s·∫£n:</strong> Gi√° nh√† trung v·ªã</li>
          <li><strong>Y t·∫ø:</strong> Th·ªùi gian s·ªëng s√≥t trung v·ªã c·ªßa b·ªánh nh√¢n</li>
          <li><strong>Gi√°o d·ª•c:</strong> ƒêi·ªÉm thi trung v·ªã ƒë·ªÉ ƒë√°nh gi√° m·ª©c ƒë·ªô chung</li>
          <li><strong>Th·ªëng k√™:</strong> Ph√¢n t√≠ch d·ªØ li·ªáu c√≥ ngo·∫°i l·ªá</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚úÖ ∆Øu ƒëi·ªÉm c·ªßa trung v·ªã</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi gi√° tr·ªã c·ª±c tr·ªã (outliers)</li>
          <li>D·ªÖ hi·ªÉu v√† gi·∫£i th√≠ch</li>
          <li>Ph√π h·ª£p v·ªõi d·ªØ li·ªáu l·ªách</li>
          <li>Lu√¥n t·ªìn t·∫°i v√† duy nh·∫•t</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è Nh∆∞·ª£c ƒëi·ªÉm c·ªßa trung v·ªã</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Kh√¥ng s·ª≠ d·ª•ng h·∫øt th√¥ng tin c·ªßa d·ªØ li·ªáu</li>
          <li>Kh√≥ t√≠nh to√°n cho d·ªØ li·ªáu l·ªõn</li>
          <li>Kh√¥ng c√≥ t√≠nh ch·∫•t ƒë·∫°i s·ªë nh∆∞ k·ª≥ v·ªçng</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 9. M√îMEN TRUNG T√ÇM -->
  <div id="centralMoment" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p d·ªØ li·ªáu</h3>
      <div class="event-inputs" id="momentInputs">
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
        </div>
        <div class="input-row">
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
        </div>
      </div>
      <div class="btn-group">
        <button id="addMomentRow">+ Th√™m gi√° tr·ªã</button>
      </div>
      <div class="input-row" style="margin-top:15px;">
        <span>B·∫≠c m√¥men k =</span>
        <input type="number" id="momentK" min="1" max="10" step="1" value="2" placeholder="2">
      </div>
      <div class="btn-group">
        <button id="calculateMoment">T√≠nh to√°n</button>
        <button id="resetMoment">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultMoment" style="display:none;">
      <div class="card result-box">
        <h2>üì• ƒê·∫ßu v√†o</h2>
        <div id="momentDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ K·∫øt qu·∫£</h2>
        <p>E(X) = <span class="result-value" id="momentExpect"></span></p>
        <div id="momentCalc" style="margin:15px 0;"></div>
        <p>Œº<sub id="momentKShow"></sub> = <span class="result-value" id="finalMoment"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì M√¥men trung t√¢m l√† g√¨?</h4>
        <p>M√¥men trung t√¢m b·∫≠c k (Central Moment), k√Ω hi·ªáu Œº‚Çñ, l√† k·ª≥ v·ªçng c·ªßa l≈©y th·ª´a b·∫≠c k c·ªßa ƒë·ªô l·ªách gi·ªØa X v√† k·ª≥ v·ªçng E(X).</p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:15px 0;"><strong>Œº‚Çñ = E[(X - E(X))·µè]</strong></p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c m√¥men trung t√¢m</h4>
        <p><strong>V·ªõi bi·∫øn ng·∫´u nhi√™n r·ªùi r·∫°c:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">Œº‚Çñ = Œ£ [x·µ¢ - E(X)]·µè ¬∑ P(X=x·µ¢)</p>
        <p><strong>C√°c b∆∞·ªõc t√≠nh:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>B∆∞·ªõc 1:</strong> T√≠nh k·ª≥ v·ªçng E(X)</li>
          <li><strong>B∆∞·ªõc 2:</strong> T√≠nh ƒë·ªô l·ªách: d·µ¢ = x·µ¢ - E(X)</li>
          <li><strong>B∆∞·ªõc 3:</strong> T√≠nh d·µ¢·µè (l≈©y th·ª´a b·∫≠c k)</li>
          <li><strong>B∆∞·ªõc 4:</strong> T√≠nh Œº‚Çñ = Œ£ d·µ¢·µè ¬∑ P(X=x·µ¢)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üî¢ C√°c m√¥men trung t√¢m c∆° b·∫£n</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Œº‚ÇÅ = E[(X - E(X))¬π] = 0</strong> (lu√¥n b·∫±ng 0)</li>
          <li><strong>Œº‚ÇÇ = E[(X - E(X))¬≤] = Var(X)</strong> (ph∆∞∆°ng sai)</li>
          <li><strong>Œº‚ÇÉ:</strong> Li√™n quan ƒë·∫øn ƒë·ªô l·ªách (skewness)</li>
          <li><strong>Œº‚ÇÑ:</strong> Li√™n quan ƒë·∫øn ƒë·ªô nh·ªçn (kurtosis)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä ƒê·ªô l·ªách (Skewness)</h4>
        <p><strong>C√¥ng th·ª©c:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">Œ≥‚ÇÅ = Œº‚ÇÉ/œÉ¬≥ = E[(X-Œº)¬≥]/œÉ¬≥</p>
        <p><strong>√ù nghƒ©a:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Œ≥‚ÇÅ = 0:</strong> Ph√¢n ph·ªëi ƒë·ªëi x·ª©ng</li>
          <li><strong>Œ≥‚ÇÅ > 0:</strong> L·ªách ph·∫£i (ƒëu√¥i d√†i b√™n ph·∫£i)</li>
          <li><strong>Œ≥‚ÇÅ < 0:</strong> L·ªách tr√°i (ƒëu√¥i d√†i b√™n tr√°i)</li>
        </ul>
        <p style="margin-top:10px;"><strong>V√≠ d·ª•:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Thu nh·∫≠p: L·ªách ph·∫£i (Œ≥‚ÇÅ > 0)</li>
          <li>Tu·ªïi ngh·ªâ h∆∞u: L·ªách tr√°i (Œ≥‚ÇÅ < 0)</li>
          <li>Chi·ªÅu cao: G·∫ßn ƒë·ªëi x·ª©ng (Œ≥‚ÇÅ ‚âà 0)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìà ƒê·ªô nh·ªçn (Kurtosis)</h4>
        <p><strong>C√¥ng th·ª©c:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">Œ≥‚ÇÇ = Œº‚ÇÑ/œÉ‚Å¥ = E[(X-Œº)‚Å¥]/œÉ‚Å¥</p>
        <p><strong>√ù nghƒ©a:</strong> ƒêo m·ª©c ƒë·ªô "nh·ªçn" ho·∫∑c "d·∫πt" c·ªßa ph√¢n ph·ªëi so v·ªõi ph√¢n ph·ªëi chu·∫©n.</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Œ≥‚ÇÇ = 3:</strong> Ph√¢n ph·ªëi chu·∫©n (mesokurtic)</li>
          <li><strong>Œ≥‚ÇÇ > 3:</strong> Nh·ªçn h∆°n chu·∫©n (leptokurtic) - ƒëu√¥i d√†y</li>
          <li><strong>Œ≥‚ÇÇ < 3:</strong> D·∫πt h∆°n chu·∫©n (platykurtic) - ƒëu√¥i m·ªèng</li>
        </ul>
        <p style="margin-top:10px;"><strong>Excess Kurtosis:</strong> Œ≥‚ÇÇ - 3 (so s√°nh v·ªõi ph√¢n ph·ªëi chu·∫©n)</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª•:</strong> T√≠nh m√¥men trung t√¢m b·∫≠c 2 (ph∆∞∆°ng sai)</p>
        <table style="margin:10px auto; width:auto;">
          <tr><th>X</th><td>1</td><td>2</td><td>3</td></tr>
          <tr><th>P(X)</th><td>0.2</td><td>0.5</td><td>0.3</td></tr>
        </table>
        <p><strong>Gi·∫£i:</strong></p>
        <p><strong>B∆∞·ªõc 1:</strong> E(X) = 1√ó0.2 + 2√ó0.5 + 3√ó0.3 = 2.1</p>
        <p><strong>B∆∞·ªõc 2:</strong> T√≠nh ƒë·ªô l·ªách:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>d‚ÇÅ = 1 - 2.1 = -1.1</li>
          <li>d‚ÇÇ = 2 - 2.1 = -0.1</li>
          <li>d‚ÇÉ = 3 - 2.1 = 0.9</li>
        </ul>
        <p><strong>B∆∞·ªõc 3:</strong> T√≠nh b√¨nh ph∆∞∆°ng:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>d‚ÇÅ¬≤ = 1.21</li>
          <li>d‚ÇÇ¬≤ = 0.01</li>
          <li>d‚ÇÉ¬≤ = 0.81</li>
        </ul>
        <p><strong>B∆∞·ªõc 4:</strong> Œº‚ÇÇ = 1.21√ó0.2 + 0.01√ó0.5 + 0.81√ó0.3 = 0.49</p>
        <p><strong>K·∫øt lu·∫≠n:</strong> Var(X) = Œº‚ÇÇ = 0.49</p>
      </div>
      
      <div class="faq-item">
        <h4>üîó M·ªëi quan h·ªá gi·ªØa c√°c m√¥men</h4>
        <p><strong>M√¥men g·ªëc (Raw Moment):</strong> m‚Çñ = E(X·µè)</p>
        <p><strong>M√¥men trung t√¢m:</strong> Œº‚Çñ = E[(X - E(X))·µè]</p>
        <p><strong>C√¥ng th·ª©c chuy·ªÉn ƒë·ªïi:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Œº‚ÇÇ = m‚ÇÇ - m‚ÇÅ¬≤</li>
          <li>Œº‚ÇÉ = m‚ÇÉ - 3m‚ÇÇm‚ÇÅ + 2m‚ÇÅ¬≥</li>
          <li>Œº‚ÇÑ = m‚ÇÑ - 4m‚ÇÉm‚ÇÅ + 6m‚ÇÇm‚ÇÅ¬≤ - 3m‚ÇÅ‚Å¥</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>T√†i ch√≠nh:</strong> ƒê√°nh gi√° r·ªßi ro ƒë·∫ßu t∆∞ (skewness, kurtosis)</li>
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> Ph√°t hi·ªán b·∫•t th∆∞·ªùng trong s·∫£n xu·∫•t</li>
          <li><strong>X·ª≠ l√Ω ·∫£nh:</strong> Ph√¢n t√≠ch ƒë·∫∑c tr∆∞ng h√¨nh ·∫£nh</li>
          <li><strong>H·ªçc m√°y:</strong> Feature engineering, ƒë√°nh gi√° ph√¢n ph·ªëi d·ªØ li·ªáu</li>
          <li><strong>Th·ªëng k√™:</strong> Ki·ªÉm ƒë·ªãnh t√≠nh chu·∫©n c·ªßa d·ªØ li·ªáu</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìã T√≥m t·∫Øt c√°c m√¥men quan tr·ªçng</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th>B·∫≠c</th>
            <th>T√™n g·ªçi</th>
            <th>√ù nghƒ©a</th>
          </tr>
          <tr>
            <td>Œº‚ÇÅ</td>
            <td>M√¥men b·∫≠c 1</td>
            <td>Lu√¥n = 0</td>
          </tr>
          <tr>
            <td>Œº‚ÇÇ</td>
            <td>M√¥men b·∫≠c 2</td>
            <td>Ph∆∞∆°ng sai (ƒë·ªô ph√¢n t√°n)</td>
          </tr>
          <tr>
            <td>Œº‚ÇÉ/œÉ¬≥</td>
            <td>Skewness</td>
            <td>ƒê·ªô l·ªách (ƒë·ªëi x·ª©ng)</td>
          </tr>
          <tr>
            <td>Œº‚ÇÑ/œÉ‚Å¥</td>
            <td>Kurtosis</td>
            <td>ƒê·ªô nh·ªçn (ƒëu√¥i d√†y/m·ªèng)</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  
  <!-- 10. PH√ÇN PH·ªêI ƒê·ªÄU -->
  <div id="uniform" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p th√¥ng s·ªë ph√¢n ph·ªëi ƒë·ªÅu</h3>
      <div class="input-row">
        <span>Kho·∫£ng [a, b]:</span>
      </div>
      <div class="input-row">
        <span>a =</span>
        <input type="number" id="uniformA" step="any" placeholder="Gi√° tr·ªã nh·ªè nh·∫•t">
        <span>b =</span>
        <input type="number" id="uniformB" step="any" placeholder="Gi√° tr·ªã l·ªõn nh·∫•t">
      </div>
      <div class="input-row" style="margin-top:15px;">
        <span>T√≠nh P(</span>
        <input type="number" id="uniformX1" step="any" placeholder="x‚ÇÅ" style="width:80px;">
        <span>‚â§ X ‚â§</span>
        <input type="number" id="uniformX2" step="any" placeholder="x‚ÇÇ" style="width:80px;">
        <span>)</span>
      </div>
      <div class="btn-group">
        <button id="calculateUniform">T√≠nh to√°n</button>
        <button id="resetUniform">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultUniform" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng s·ªë ph√¢n ph·ªëi</h2>
        <div id="uniformDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ C√°c ƒë·∫∑c tr∆∞ng</h2>
        <p>H√†m m·∫≠t ƒë·ªô: f(x) = <span class="result-value" id="uniformPdf"></span></p>
        <p>K·ª≥ v·ªçng: E(X) = <span class="result-value" id="uniformExpect"></span></p>
        <p>Ph∆∞∆°ng sai: Var(X) = <span class="result-value" id="uniformVar"></span></p>
        <p>ƒê·ªô l·ªách chu·∫©n: œÉ = <span class="result-value" id="uniformStd"></span></p>
      </div>
      <div id="uniformProbResult" style="display:none;">
        <div class="card result-box">
          <h2>üìä X√°c su·∫•t</h2>
          <div id="uniformCalc"></div>
          <p style="margin-top:15px;">P(<span id="uniformRange"></span>) = <span class="result-value" id="finalUniform"></span></p>
        </div>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph√¢n ph·ªëi ƒë·ªÅu l√† g√¨?</h4>
        <p>Ph√¢n ph·ªëi ƒë·ªÅu (Uniform Distribution) l√† ph√¢n ph·ªëi x√°c su·∫•t trong ƒë√≥ t·∫•t c·∫£ c√°c gi√° tr·ªã trong m·ªôt kho·∫£ng cho tr∆∞·ªõc c√≥ <strong>x√°c su·∫•t b·∫±ng nhau</strong>.</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> X ~ U(a, b) ho·∫∑c X ~ Uniform(a, b)</p>
        <p><strong>V√≠ d·ª• tr·ª±c quan:</strong> Quay kim ƒë·ªìng h·ªì, ch·ªçn s·ªë ng·∫´u nhi√™n trong kho·∫£ng [0, 1]</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph√¢n ph·ªëi ƒë·ªÅu</h4>
        <p><strong>H√†m m·∫≠t ƒë·ªô x√°c su·∫•t (PDF):</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;">
          f(x) = { 1/(b-a) n·∫øu a ‚â§ x ‚â§ b<br>
          { 0 n·∫øu ng∆∞·ª£c l·∫°i
        </p>
        <p><strong>H√†m ph√¢n ph·ªëi t√≠ch l≈©y (CDF):</strong></p>
        <p style="text-align:center; font-size:16px; color:#d63384; margin:10px 0;">
          F(x) = { 0 n·∫øu x < a<br>
          { (x-a)/(b-a) n·∫øu a ‚â§ x ‚â§ b<br>
          { 1 n·∫øu x > b
        </p>
      </div>
      
      <div class="faq-item">
        <h4>üìä C√°c ƒë·∫∑c tr∆∞ng c·ªßa ph√¢n ph·ªëi ƒë·ªÅu</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>K·ª≥ v·ªçng:</strong> E(X) = (a + b)/2 (ƒëi·ªÉm gi·ªØa)</li>
          <li><strong>Ph∆∞∆°ng sai:</strong> Var(X) = (b - a)¬≤/12</li>
          <li><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = (b - a)/‚àö12 ‚âà 0.289(b - a)</li>
          <li><strong>Trung v·ªã:</strong> Me = (a + b)/2 (b·∫±ng k·ª≥ v·ªçng)</li>
          <li><strong>M·ªët:</strong> Kh√¥ng x√°c ƒë·ªãnh (m·ªçi gi√° tr·ªã ƒë·ªÅu c√≥ x√°c su·∫•t b·∫±ng nhau)</li>
          <li><strong>Skewness:</strong> Œ≥‚ÇÅ = 0 (ƒë·ªëi x·ª©ng ho√†n to√†n)</li>
          <li><strong>Kurtosis:</strong> Œ≥‚ÇÇ = 1.8 (d·∫πt h∆°n ph√¢n ph·ªëi chu·∫©n)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üßÆ C√°ch t√≠nh x√°c su·∫•t</h4>
        <p><strong>X√°c su·∫•t trong kho·∫£ng [x‚ÇÅ, x‚ÇÇ]:</strong></p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">P(x‚ÇÅ ‚â§ X ‚â§ x‚ÇÇ) = (x‚ÇÇ - x‚ÇÅ)/(b - a)</p>
        <p><strong>L∆∞u √Ω:</strong> X√°c su·∫•t t·ªâ l·ªá thu·∫≠n v·ªõi ƒë·ªô d√†i kho·∫£ng!</p>
        <p><strong>C√¥ng th·ª©c ƒë∆°n gi·∫£n:</strong></p>
        <p style="text-align:center; margin:10px 0;">P = ƒê·ªô d√†i kho·∫£ng t√≠nh / ƒê·ªô d√†i kho·∫£ng to√†n b·ªô</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Xe bu√Ωt ƒë·∫øn m·ªói 10 ph√∫t. B·∫°n ƒë·∫øn tr·∫°m ng·∫´u nhi√™n. Th·ªùi gian ch·ªù X ~ U(0, 10)</p>
        <p><strong>T√≠nh x√°c su·∫•t ch·ªù kh√¥ng qu√° 3 ph√∫t:</strong></p>
        <p>P(X ‚â§ 3) = (3 - 0)/(10 - 0) = 3/10 = 0.3 = 30%</p>
        <p><strong>Th·ªùi gian ch·ªù trung b√¨nh:</strong></p>
        <p>E(X) = (0 + 10)/2 = 5 ph√∫t</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> S·ªë ng·∫´u nhi√™n X ~ U(2, 8)</p>
        <p><strong>a) T√≠nh P(3 ‚â§ X ‚â§ 5):</strong></p>
        <p>P(3 ‚â§ X ‚â§ 5) = (5 - 3)/(8 - 2) = 2/6 = 1/3 ‚âà 0.333</p>
        <p><strong>b) T√≠nh E(X) v√† Var(X):</strong></p>
        <p>E(X) = (2 + 8)/2 = 5</p>
        <p>Var(X) = (8 - 2)¬≤/12 = 36/12 = 3</p>
        <p>œÉ = ‚àö3 ‚âà 1.732</p>
      </div>
      
      <div class="faq-item">
        <h4>üîç Ph√¢n ph·ªëi ƒë·ªÅu r·ªùi r·∫°c vs li√™n t·ª•c</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:30%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:35%;">R·ªùi r·∫°c</th>
            <th style="width:35%;">Li√™n t·ª•c</th>
          </tr>
          <tr>
            <td>Gi√° tr·ªã</td>
            <td>H·ªØu h·∫°n gi√° tr·ªã</td>
            <td>V√¥ h·∫°n gi√° tr·ªã</td>
          </tr>
          <tr>
            <td>V√≠ d·ª•</td>
            <td>Gieo x√∫c x·∫Øc</td>
            <td>Ch·ªçn s·ªë trong [0,1]</td>
          </tr>
          <tr>
            <td>X√°c su·∫•t</td>
            <td>P(X=x) = 1/n</td>
            <td>f(x) = 1/(b-a)</td>
          </tr>
          <tr>
            <td>K·ª≥ v·ªçng</td>
            <td>(x‚ÇÅ+x‚ÇÇ+...+x‚Çô)/n</td>
            <td>(a+b)/2</td>
          </tr>
        </table>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>M√¥ ph·ªèng:</strong> T·∫°o s·ªë ng·∫´u nhi√™n (random number generator)</li>
          <li><strong>Th·ªùi gian ch·ªù:</strong> Xe bu√Ωt, thang m√°y, t√≠n hi·ªáu ƒë√®n giao th√¥ng</li>
          <li><strong>L·∫•y m·∫´u:</strong> Ch·ªçn ng·∫´u nhi√™n trong m·ªôt kho·∫£ng</li>
          <li><strong>Tr√≤ ch∆°i:</strong> Quay s·ªë, x·ªï s·ªë, b·ªëc thƒÉm</li>
          <li><strong>Khoa h·ªçc:</strong> M√¥ h√¨nh h√≥a hi·ªán t∆∞·ª£ng kh√¥ng c√≥ xu h∆∞·ªõng</li>
          <li><strong>Ki·ªÉm ƒë·ªãnh:</strong> Ki·ªÉm tra t√≠nh ng·∫´u nhi√™n c·ªßa d·ªØ li·ªáu</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîó M·ªëi quan h·ªá v·ªõi ph√¢n ph·ªëi kh√°c</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>U(0,1):</strong> Ph√¢n ph·ªëi ƒë·ªÅu chu·∫©n - c∆° s·ªü cho m·ªçi ph√¢n ph·ªëi kh√°c</li>
          <li><strong>Bi·∫øn ƒë·ªïi:</strong> N·∫øu U ~ U(0,1) th√¨ X = a + (b-a)U ~ U(a,b)</li>
          <li><strong>T·ªïng:</strong> T·ªïng nhi·ªÅu bi·∫øn U(0,1) ƒë·ªôc l·∫≠p ti·∫øn ƒë·∫øn ph√¢n ph·ªëi chu·∫©n</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìà ƒê·ªì th·ªã ph√¢n ph·ªëi ƒë·ªÅu</h4>
        <p><strong>H√†m m·∫≠t ƒë·ªô f(x):</strong> H√¨nh ch·ªØ nh·∫≠t v·ªõi chi·ªÅu cao 1/(b-a)</p>
        <p><strong>H√†m ph√¢n ph·ªëi F(x):</strong> ƒê∆∞·ªùng th·∫≥ng t·ª´ (a,0) ƒë·∫øn (b,1)</p>
        <p style="margin-top:10px;"><strong>ƒê·∫∑c ƒëi·ªÉm ƒë·ªì th·ªã:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>PDF: Ph·∫≥ng ho√†n to√†n (flat)</li>
          <li>CDF: TƒÉng tuy·∫øn t√≠nh</li>
          <li>ƒê·ªëi x·ª©ng quanh ƒëi·ªÉm gi·ªØa (a+b)/2</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω khi s·ª≠ d·ª•ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Ch·ªâ √°p d·ª•ng khi th·ª±c s·ª± kh√¥ng c√≥ xu h∆∞·ªõng n√†o</li>
          <li>Trong th·ª±c t·∫ø, √≠t hi·ªán t∆∞·ª£ng tu√¢n theo ph√¢n ph·ªëi ƒë·ªÅu ho√†n to√†n</li>
          <li>Th∆∞·ªùng d√πng l√†m m√¥ h√¨nh ƒë∆°n gi·∫£n ho·∫∑c gi·∫£ thi·∫øt ban ƒë·∫ßu</li>
          <li>Ki·ªÉm tra t√≠nh ƒë·ªÅu b·∫±ng ki·ªÉm ƒë·ªãnh Kolmogorov-Smirnov</li>
        </ul>
      </div>
    </div>
  </div>
  


<!-- 11. PH√ÇN PH·ªêI NH·ªä TH·ª®C -->
<div id="binomial" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p th√¥ng s·ªë ph√¢n ph·ªëi nh·ªã th·ª©c</h3>
      <div class="input-row">
        <span>S·ªë l·∫ßn th·ª≠ n =</span>
        <input type="number" id="binomialN" min="1" step="1" placeholder="V√≠ d·ª•: 10">
      </div>
      <div class="input-row">
        <span>X√°c su·∫•t th√†nh c√¥ng p =</span>
        <input type="number" id="binomialP" min="0" max="1" step="0.01" placeholder="V√≠ d·ª•: 0.5">
      </div>
      <div class="input-row">
        <span>T√≠nh x√°c su·∫•t:</span>
        <select id="binomialType">
          <option value="exact">P(X = k)</option>
          <option value="less">P(X ‚â§ k)</option>
          <option value="greater">P(X ‚â• k)</option>
          <option value="range">P(k‚ÇÅ ‚â§ X ‚â§ k‚ÇÇ)</option>
        </select>
      </div>
      <div class="input-row" id="binomialKRow">
        <span>k =</span>
        <input type="number" id="binomialK" min="0" step="1" placeholder="S·ªë l·∫ßn th√†nh c√¥ng">
      </div>
      <div class="input-row" id="binomialRangeRow" style="display:none;">
        <span>k‚ÇÅ =</span>
        <input type="number" id="binomialK1" min="0" step="1" placeholder="k‚ÇÅ" style="width:80px;">
        <span>k‚ÇÇ =</span>
        <input type="number" id="binomialK2" min="0" step="1" placeholder="k‚ÇÇ" style="width:80px;">
      </div>
      <div class="btn-group">
        <button id="calculateBinomial">T√≠nh to√°n</button>
        <button id="resetBinomial">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultBinomial" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng s·ªë ph√¢n ph·ªëi</h2>
        <div id="binomialDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ C√°c ƒë·∫∑c tr∆∞ng</h2>
        <p>K·ª≥ v·ªçng: E(X) = <span class="result-value" id="binomialExpect"></span></p>
        <p>Ph∆∞∆°ng sai: Var(X) = <span class="result-value" id="binomialVar"></span></p>
        <p>ƒê·ªô l·ªách chu·∫©n: œÉ = <span class="result-value" id="binomialStd"></span></p>
      </div>
      <div class="card result-box">
        <h2>üìä K·∫øt qu·∫£</h2>
        <div id="binomialCalc"></div>
        <p style="margin-top:15px; font-size:20px;"><span id="binomialQuestion"></span> = <span class="result-value" id="finalBinomial"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph√¢n ph·ªëi nh·ªã th·ª©c l√† g√¨?</h4>
        <p>Ph√¢n ph·ªëi nh·ªã th·ª©c (Binomial Distribution) m√¥ t·∫£ s·ªë l·∫ßn th√†nh c√¥ng trong <strong>n ph√©p th·ª≠ ƒë·ªôc l·∫≠p</strong>, m·ªói ph√©p th·ª≠ c√≥ x√°c su·∫•t th√†nh c√¥ng l√† p.</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> X ~ B(n, p) ho·∫∑c X ~ Binomial(n, p)</p>
        <p><strong>ƒêi·ªÅu ki·ªán:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>C√≥ n ph√©p th·ª≠ gi·ªëng nhau</li>
          <li>M·ªói ph√©p th·ª≠ ch·ªâ c√≥ 2 k·∫øt qu·∫£: th√†nh c√¥ng ho·∫∑c th·∫•t b·∫°i</li>
          <li>X√°c su·∫•t th√†nh c√¥ng p kh√¥ng ƒë·ªïi</li>
          <li>C√°c ph√©p th·ª≠ ƒë·ªôc l·∫≠p v·ªõi nhau</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph√¢n ph·ªëi nh·ªã th·ª©c</h4>
        <p><strong>X√°c su·∫•t c√≥ ƒë√∫ng k l·∫ßn th√†nh c√¥ng:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:15px 0;">
          <strong>P(X = k) = C<sub>n</sub><sup>k</sup> √ó p<sup>k</sup> √ó (1-p)<sup>n-k</sup></strong>
        </p>
        <p>Trong ƒë√≥:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>n:</strong> S·ªë l·∫ßn th·ª≠</li>
          <li><strong>k:</strong> S·ªë l·∫ßn th√†nh c√¥ng (0 ‚â§ k ‚â§ n)</li>
          <li><strong>p:</strong> X√°c su·∫•t th√†nh c√¥ng m·ªói l·∫ßn</li>
          <li><strong>C<sub>n</sub><sup>k</sup> = n!/(k!(n-k)!):</strong> T·ªï h·ª£p ch·∫≠p k c·ªßa n</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä C√°c ƒë·∫∑c tr∆∞ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>K·ª≥ v·ªçng:</strong> E(X) = np</li>
          <li><strong>Ph∆∞∆°ng sai:</strong> Var(X) = np(1-p) = npq</li>
          <li><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = ‚àö(npq)</li>
          <li><strong>M·ªët:</strong> ‚åä(n+1)p‚åã (ph·∫ßn nguy√™n)</li>
        </ul>
        <p style="margin-top:10px;"><strong>L∆∞u √Ω:</strong> q = 1 - p (x√°c su·∫•t th·∫•t b·∫°i)</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Gieo ƒë·ªìng xu 10 l·∫ßn, t√≠nh x√°c su·∫•t c√≥ ƒë√∫ng 6 l·∫ßn ng·ª≠a.</p>
        <p><strong>Gi·∫£i:</strong> n = 10, p = 0.5, k = 6</p>
        <p>P(X = 6) = C‚ÇÅ‚ÇÄ‚Å∂ √ó 0.5‚Å∂ √ó 0.5‚Å¥</p>
        <p>= 210 √ó 0.015625 √ó 0.0625</p>
        <p>= 0.2051 ‚âà 20.51%</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> T·ª∑ l·ªá ƒë·ªó k·ª≥ thi l√† 70%. Trong 20 h·ªçc sinh, t√≠nh x√°c su·∫•t c√≥ √≠t nh·∫•t 15 ng∆∞·ªùi ƒë·ªó.</p>
        <p><strong>Gi·∫£i:</strong> n = 20, p = 0.7</p>
        <p>P(X ‚â• 15) = P(X=15) + P(X=16) + P(X=17) + P(X=18) + P(X=19) + P(X=20)</p>
        <p>= C‚ÇÇ‚ÇÄ¬π‚Åµ(0.7)¬π‚Åµ(0.3)‚Åµ + ... + C‚ÇÇ‚ÇÄ¬≤‚Å∞(0.7)¬≤‚Å∞(0.3)‚Å∞</p>
        <p>‚âà 0.4164 = 41.64%</p>
        <br>
        <p><strong>K·ª≥ v·ªçng:</strong> E(X) = 20 √ó 0.7 = 14 ng∆∞·ªùi</p>
        <p><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = ‚àö(20 √ó 0.7 √ó 0.3) ‚âà 2.05 ng∆∞·ªùi</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> S·ªë s·∫£n ph·∫©m l·ªói trong l√¥ h√†ng</li>
          <li><strong>Y t·∫ø:</strong> S·ªë b·ªánh nh√¢n h·ªìi ph·ª•c sau ƒëi·ªÅu tr·ªã</li>
          <li><strong>Marketing:</strong> S·ªë kh√°ch h√†ng ph·∫£n h·ªìi qu·∫£ng c√°o</li>
          <li><strong>Th·ªÉ thao:</strong> S·ªë l·∫ßn ghi b√†n trong penalty</li>
          <li><strong>Kh·∫£o s√°t:</strong> S·ªë ng∆∞·ªùi ƒë·ªìng √Ω v·ªõi √Ω ki·∫øn</li>
          <li><strong>T√†i ch√≠nh:</strong> S·ªë kho·∫£n ƒë·∫ßu t∆∞ sinh l·ªùi</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìà D·∫°ng ƒë·ªì th·ªã</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>p = 0.5:</strong> ƒê·ªëi x·ª©ng (h√¨nh chu√¥ng)</li>
          <li><strong>p < 0.5:</strong> L·ªách ph·∫£i (ƒëu√¥i d√†i b√™n ph·∫£i)</li>
          <li><strong>p > 0.5:</strong> L·ªách tr√°i (ƒëu√¥i d√†i b√™n tr√°i)</li>
          <li><strong>n l·ªõn:</strong> Ti·∫øn g·∫ßn ph√¢n ph·ªëi chu·∫©n</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîó X·∫•p x·ªâ ph√¢n ph·ªëi chu·∫©n</h4>
        <p><strong>Khi n√†o d√πng:</strong> N·∫øu n l·ªõn v√† np ‚â• 5, nq ‚â• 5</p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">X ~ B(n, p) ‚âà N(np, npq)</p>
        <p><strong>Hi·ªáu ch·ªânh li√™n t·ª•c:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>P(X = k) ‚âà P(k - 0.5 < X < k + 0.5)</li>
          <li>P(X ‚â§ k) ‚âà P(X < k + 0.5)</li>
          <li>P(X ‚â• k) ‚âà P(X > k - 0.5)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>C√°c ph√©p th·ª≠ ph·∫£i ƒë·ªôc l·∫≠p (k·∫øt qu·∫£ l·∫ßn n√†y kh√¥ng ·∫£nh h∆∞·ªüng l·∫ßn sau)</li>
          <li>X√°c su·∫•t p ph·∫£i kh√¥ng ƒë·ªïi (n·∫øu r√∫t kh√¥ng ho√†n l·∫°i ‚Üí d√πng ph√¢n ph·ªëi si√™u b·ªôi)</li>
          <li>Ch·ªâ c√≥ 2 k·∫øt qu·∫£: th√†nh c√¥ng/th·∫•t b·∫°i</li>
          <li>V·ªõi n l·ªõn, t√≠nh to√°n tr·ª±c ti·∫øp kh√≥ ‚Üí d√πng x·∫•p x·ªâ ho·∫∑c m√°y t√≠nh</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 12. PH√ÇN PH·ªêI SI√äU B·ªòI -->
  <div id="hypergeometric" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p th√¥ng s·ªë ph√¢n ph·ªëi si√™u b·ªôi</h3>
      <div class="input-row">
        <span>T·ªïng s·ªë ph·∫ßn t·ª≠ N =</span>
        <input type="number" id="hyperN" min="1" step="1" placeholder="V√≠ d·ª•: 50">
      </div>
      <div class="input-row">
        <span>S·ªë ph·∫ßn t·ª≠ lo·∫°i A: M =</span>
        <input type="number" id="hyperM" min="0" step="1" placeholder="V√≠ d·ª•: 20">
      </div>
      <div class="input-row">
        <span>S·ªë l·∫ßn r√∫t n =</span>
        <input type="number" id="hyperSmallN" min="1" step="1" placeholder="V√≠ d·ª•: 10">
      </div>
      <div class="input-row">
        <span>S·ªë ph·∫ßn t·ª≠ lo·∫°i A ƒë∆∞·ª£c r√∫t k =</span>
        <input type="number" id="hyperK" min="0" step="1" placeholder="V√≠ d·ª•: 5">
      </div>
      <div class="btn-group">
        <button id="calculateHyper">T√≠nh to√°n</button>
        <button id="resetHyper">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultHyper" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng s·ªë ph√¢n ph·ªëi</h2>
        <div id="hyperDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ C√°c ƒë·∫∑c tr∆∞ng</h2>
        <p>K·ª≥ v·ªçng: E(X) = <span class="result-value" id="hyperExpect"></span></p>
        <p>Ph∆∞∆°ng sai: Var(X) = <span class="result-value" id="hyperVar"></span></p>
        <p>ƒê·ªô l·ªách chu·∫©n: œÉ = <span class="result-value" id="hyperStd"></span></p>
      </div>
      <div class="card result-box">
        <h2>üìä K·∫øt qu·∫£</h2>
        <div id="hyperCalc"></div>
        <p style="margin-top:15px; font-size:20px;">P(X = <span id="hyperKShow"></span>) = <span class="result-value" id="finalHyper"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph√¢n ph·ªëi si√™u b·ªôi l√† g√¨?</h4>
        <p>Ph√¢n ph·ªëi si√™u b·ªôi (Hypergeometric Distribution) m√¥ t·∫£ s·ªë ph·∫ßn t·ª≠ lo·∫°i A khi r√∫t <strong>kh√¥ng ho√†n l·∫°i</strong> n ph·∫ßn t·ª≠ t·ª´ t·ªïng th·ªÉ N ph·∫ßn t·ª≠ (c√≥ M ph·∫ßn t·ª≠ lo·∫°i A).</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> X ~ H(N, M, n)</p>
        <p><strong>Kh√°c v·ªõi nh·ªã th·ª©c:</strong> R√∫t kh√¥ng ho√†n l·∫°i ‚Üí x√°c su·∫•t thay ƒë·ªïi sau m·ªói l·∫ßn r√∫t</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph√¢n ph·ªëi si√™u b·ªôi</h4>
        <p><strong>X√°c su·∫•t r√∫t ƒë∆∞·ª£c ƒë√∫ng k ph·∫ßn t·ª≠ lo·∫°i A:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:15px 0;">
          <strong>P(X = k) = [C<sub>M</sub><sup>k</sup> √ó C<sub>N-M</sub><sup>n-k</sup>] / C<sub>N</sub><sup>n</sup></strong>
        </p>
        <p>Trong ƒë√≥:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>N:</strong> T·ªïng s·ªë ph·∫ßn t·ª≠</li>
          <li><strong>M:</strong> S·ªë ph·∫ßn t·ª≠ lo·∫°i A trong t·ªïng th·ªÉ</li>
          <li><strong>n:</strong> S·ªë l·∫ßn r√∫t (kh√¥ng ho√†n l·∫°i)</li>
          <li><strong>k:</strong> S·ªë ph·∫ßn t·ª≠ lo·∫°i A ƒë∆∞·ª£c r√∫t (max(0, n-N+M) ‚â§ k ‚â§ min(n, M))</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä C√°c ƒë·∫∑c tr∆∞ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>K·ª≥ v·ªçng:</strong> E(X) = n √ó (M/N)</li>
          <li><strong>Ph∆∞∆°ng sai:</strong> Var(X) = n √ó (M/N) √ó (1 - M/N) √ó [(N-n)/(N-1)]</li>
          <li><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = ‚àöVar(X)</li>
        </ul>
        <p style="margin-top:10px;"><strong>H·ªá s·ªë hi·ªáu ch·ªânh h·ªØu h·∫°n:</strong> (N-n)/(N-1)</p>
        <p>‚Üí Khi N ‚Üí ‚àû, ph√¢n ph·ªëi si√™u b·ªôi ti·∫øn ƒë·∫øn ph√¢n ph·ªëi nh·ªã th·ª©c</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> H·ªôp c√≥ 10 bi ƒë·ªè v√† 15 bi xanh. R√∫t ng·∫´u nhi√™n 5 bi kh√¥ng ho√†n l·∫°i. T√≠nh x√°c su·∫•t c√≥ ƒë√∫ng 3 bi ƒë·ªè.</p>
        <p><strong>Gi·∫£i:</strong> N = 25, M = 10, n = 5, k = 3</p>
        <p>P(X = 3) = [C‚ÇÅ‚ÇÄ¬≥ √ó C‚ÇÅ‚ÇÖ¬≤] / C‚ÇÇ‚ÇÖ‚Åµ</p>
        <p>= [120 √ó 105] / 53130</p>
        <p>= 12600 / 53130</p>
        <p>‚âà 0.2372 = 23.72%</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> L·ªõp c√≥ 30 h·ªçc sinh (12 nam, 18 n·ªØ). Ch·ªçn ng·∫´u nhi√™n 6 h·ªçc sinh. T√≠nh x√°c su·∫•t c√≥ ƒë√∫ng 4 n·ªØ.</p>
        <p><strong>Gi·∫£i:</strong> N = 30, M = 18 (n·ªØ), n = 6, k = 4</p>
        <p>P(X = 4) = [C‚ÇÅ‚Çà‚Å¥ √ó C‚ÇÅ‚ÇÇ¬≤] / C‚ÇÉ‚ÇÄ‚Å∂</p>
        <p>= [3060 √ó 66] / 593775</p>
        <p>= 201960 / 593775</p>
        <p>‚âà 0.3401 = 34.01%</p>
      </div>
      
      <div class="faq-item">
        <h4>üîç So s√°nh v·ªõi ph√¢n ph·ªëi nh·ªã th·ª©c</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th style="width:30%;">ƒê·∫∑c ƒëi·ªÉm</th>
            <th style="width:35%;">Nh·ªã th·ª©c</th>
            <th style="width:35%;">Si√™u b·ªôi</th>
          </tr>
          <tr>
            <td>C√°ch r√∫t</td>
            <td>C√≥ ho√†n l·∫°i</td>
            <td>Kh√¥ng ho√†n l·∫°i</td>
          </tr>
          <tr>
            <td>X√°c su·∫•t</td>
            <td>Kh√¥ng ƒë·ªïi</td>
            <td>Thay ƒë·ªïi</td>
          </tr>
          <tr>
            <td>ƒê·ªôc l·∫≠p</td>
            <td>C√≥</td>
            <td>Kh√¥ng</td>
          </tr>
          <tr>
            <td>C√¥ng th·ª©c</td>
            <td>C‚Çô·µè p^k q^(n-k)</td>
            <td>[C‚Çò·µèC‚Çô‚Çã‚Çò‚Åø‚Åª·µè]/C‚Çô‚Åø</td>
          </tr>
          <tr>
            <td>K·ª≥ v·ªçng</td>
            <td>np</td>
            <td>n(M/N)</td>
          </tr>
        </table>
        <p style="margin-top:10px;"><strong>Quy t·∫Øc:</strong> N·∫øu n ‚â§ 0.05N (r√∫t ‚â§ 5% t·ªïng th·ªÉ) ‚Üí c√≥ th·ªÉ d√πng nh·ªã th·ª©c thay si√™u b·ªôi</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng:</strong> L·∫•y m·∫´u ki·ªÉm tra kh√¥ng ho√†n l·∫°i</li>
          <li><strong>X·ªï s·ªë:</strong> R√∫t bi/s·ªë kh√¥ng ho√†n l·∫°i</li>
          <li><strong>B√†i Poker:</strong> X√°c su·∫•t chia b√†i</li>
          <li><strong>Kh·∫£o s√°t:</strong> Ch·ªçn m·∫´u ng·∫´u nhi√™n t·ª´ t·ªïng th·ªÉ nh·ªè</li>
          <li><strong>Sinh h·ªçc:</strong> B·∫Øt c√° ƒë√°nh d·∫•u (capture-recapture)</li>
          <li><strong>B·∫ßu c·ª≠:</strong> Ki·ªÉm tra phi·∫øu ng·∫´u nhi√™n</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>ƒêi·ªÅu ki·ªán: max(0, n-N+M) ‚â§ k ‚â§ min(n, M)</li>
          <li>N·∫øu N r·∫•t l·ªõn so v·ªõi n ‚Üí x·∫•p x·ªâ b·∫±ng nh·ªã th·ª©c v·ªõi p = M/N</li>
          <li>T√≠nh to√°n ph·ª©c t·∫°p v·ªõi s·ªë l·ªõn ‚Üí d√πng m√°y t√≠nh/ph·∫ßn m·ªÅm</li>
          <li>Kh√¥ng th·ªÉ r√∫t nhi·ªÅu h∆°n s·ªë c√≥: k ‚â§ M v√† k ‚â§ n</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 13. PH√ÇN PH·ªêI POISSON -->
  <div id="poisson" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p th√¥ng s·ªë ph√¢n ph·ªëi Poisson</h3>
      <div class="input-row">
        <span>Tham s·ªë Œª (lambda) =</span>
        <input type="number" id="poissonLambda" min="0" step="0.1" placeholder="V√≠ d·ª•: 3.5">
      </div>
      <div class="input-row">
        <span>T√≠nh x√°c su·∫•t:</span>
        <select id="poissonType">
          <option value="exact">P(X = k)</option>
          <option value="less">P(X ‚â§ k)</option>
          <option value="greater">P(X ‚â• k)</option>
        </select>
      </div>
      <div class="input-row">
        <span>k =</span>
        <input type="number" id="poissonK" min="0" step="1" placeholder="S·ªë l·∫ßn x·∫£y ra">
      </div>
      <div class="btn-group">
        <button id="calculatePoisson">T√≠nh to√°n</button>
        <button id="resetPoisson">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultPoisson" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng s·ªë ph√¢n ph·ªëi</h2>
        <div id="poissonDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ C√°c ƒë·∫∑c tr∆∞ng</h2>
        <p>K·ª≥ v·ªçng: E(X) = <span class="result-value" id="poissonExpect"></span></p>
        <p>Ph∆∞∆°ng sai: Var(X) = <span class="result-value" id="poissonVar"></span></p>
        <p>ƒê·ªô l·ªách chu·∫©n: œÉ = <span class="result-value" id="poissonStd"></span></p>
      </div>
      <div class="card result-box">
        <h2>üìä K·∫øt qu·∫£</h2>
        <div id="poissonCalc"></div>
        <p style="margin-top:15px; font-size:20px;"><span id="poissonQuestion"></span> = <span class="result-value" id="finalPoisson"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph√¢n ph·ªëi Poisson l√† g√¨?</h4>
        <p>Ph√¢n ph·ªëi Poisson m√¥ t·∫£ s·ªë l·∫ßn m·ªôt s·ª± ki·ªán hi·∫øm x·∫£y ra trong m·ªôt <strong>kho·∫£ng th·ªùi gian/kh√¥ng gian c·ªë ƒë·ªãnh</strong>.</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> X ~ Poisson(Œª) ho·∫∑c X ~ Po(Œª)</p>
        <p><strong>ƒêi·ªÅu ki·ªán:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>C√°c s·ª± ki·ªán x·∫£y ra ƒë·ªôc l·∫≠p</li>
          <li>T·ªëc ƒë·ªô trung b√¨nh kh√¥ng ƒë·ªïi (Œª)</li>
          <li>X√°c su·∫•t 2 s·ª± ki·ªán c√πng l√∫c ‚âà 0</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph√¢n ph·ªëi Poisson</h4>
        <p><strong>X√°c su·∫•t x·∫£y ra ƒë√∫ng k l·∫ßn:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:15px 0;">
          <strong>P(X = k) = (Œª<sup>k</sup> √ó e<sup>-Œª</sup>) / k!</strong>
        </p>
        <p>Trong ƒë√≥:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Œª (lambda):</strong> S·ªë l·∫ßn trung b√¨nh s·ª± ki·ªán x·∫£y ra</li>
          <li><strong>k:</strong> S·ªë l·∫ßn s·ª± ki·ªán x·∫£y ra (k = 0, 1, 2, ...)</li>
          <li><strong>e ‚âà 2.71828:</strong> H·∫±ng s·ªë Euler</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä C√°c ƒë·∫∑c tr∆∞ng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>K·ª≥ v·ªçng:</strong> E(X) = Œª</li>
          <li><strong>Ph∆∞∆°ng sai:</strong> Var(X) = Œª</li>
          <li><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = ‚àöŒª</li>
          <li><strong>M·ªët:</strong> ‚åäŒª‚åã ho·∫∑c ‚åäŒª‚åã - 1</li>
        </ul>
        <p style="margin-top:10px;"><strong>ƒê·∫∑c bi·ªát:</strong> K·ª≥ v·ªçng = Ph∆∞∆°ng sai = Œª</p>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Trung b√¨nh 1 gi·ªù c√≥ 4 cu·ªôc g·ªçi ƒë·∫øn t·ªïng ƒë√†i. T√≠nh x√°c su·∫•t c√≥ ƒë√∫ng 6 cu·ªôc g·ªçi trong 1 gi·ªù.</p>
        <p><strong>Gi·∫£i:</strong> Œª = 4, k = 6</p>
        <p>P(X = 6) = (4‚Å∂ √ó e‚Åª‚Å¥) / 6!</p>
        <p>= (4096 √ó 0.0183) / 720</p>
        <p>‚âà 0.1042 = 10.42%</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> Trung b√¨nh 1km ƒë∆∞·ªùng c√≥ 2 ·ªï g√†. T√≠nh x√°c su·∫•t ƒëo·∫°n ƒë∆∞·ªùng 3km c√≥ nhi·ªÅu nh·∫•t 5 ·ªï g√†.</p>
        <p><strong>Gi·∫£i:</strong> Œª = 2 √ó 3 = 6 (cho 3km)</p>
        <p>P(X ‚â§ 5) = P(X=0) + P(X=1) + ... + P(X=5)</p>
        <p>= Œ£(k=0 ƒë·∫øn 5) [(6^k √ó e^(-6)) / k!]</p>
        <p>‚âà 0.4457 = 44.57%</p>
      </div>
      
      <div class="faq-item">
        <h4>üîó X·∫•p x·ªâ t·ª´ ph√¢n ph·ªëi nh·ªã th·ª©c</h4>
        <p><strong>Khi n√†o d√πng:</strong> N·∫øu n l·ªõn, p nh·ªè, np = Œª (h·∫±ng s·ªë)</p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">B(n, p) ‚âà Poisson(Œª = np)</p>
        <p><strong>Quy t·∫Øc:</strong> n ‚â• 20, p ‚â§ 0.05, np < 10</p>
        <p><strong>V√≠ d·ª•:</strong> B(100, 0.02) ‚âà Poisson(2)</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Vi·ªÖn th√¥ng:</strong> S·ªë cu·ªôc g·ªçi ƒë·∫øn t·ªïng ƒë√†i</li>
          <li><strong>Giao th√¥ng:</strong> S·ªë xe qua tr·∫°m thu ph√≠</li>
          <li><strong>Y t·∫ø:</strong> S·ªë ca b·ªánh hi·∫øm trong nƒÉm</li>
          <li><strong>B·∫£o hi·ªÉm:</strong> S·ªë v·ª• tai n·∫°n</li>
          <li><strong>S·∫£n xu·∫•t:</strong> S·ªë l·ªói tr√™n d√¢y chuy·ªÅn</li>
          <li><strong>Website:</strong> S·ªë l∆∞·ª£t truy c·∫≠p m·ªói ph√∫t</li>
          <li><strong>Thi√™n vƒÉn:</strong> S·ªë sao bƒÉng trong 1 gi·ªù</li>
          <li><strong>Ph√≥ng x·∫°:</strong> S·ªë h·∫°t ph√¢n r√£</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìà T√≠nh ch·∫•t ƒë·∫∑c bi·ªát</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>T√≠nh c·ªông:</strong> N·∫øu X ~ Po(Œª‚ÇÅ), Y ~ Po(Œª‚ÇÇ) ƒë·ªôc l·∫≠p<br>
          ‚Üí X + Y ~ Po(Œª‚ÇÅ + Œª‚ÇÇ)</li>
          <li><strong>Chia nh·ªè th·ªùi gian:</strong> N·∫øu X ~ Po(Œªt) cho th·ªùi gian t<br>
          ‚Üí X/n ~ Po(Œªt/n) cho m·ªói ph·∫ßn n</li>
          <li><strong>X·∫•p x·ªâ chu·∫©n:</strong> Khi Œª l·ªõn (Œª > 10)<br>
          ‚Üí Po(Œª) ‚âà N(Œª, Œª)</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Ch·ªâ √°p d·ª•ng cho s·ª± ki·ªán hi·∫øm (x√°c su·∫•t nh·ªè)</li>
          <li>T·ªëc ƒë·ªô trung b√¨nh Œª ph·∫£i kh√¥ng ƒë·ªïi</li>
          <li>C√°c s·ª± ki·ªán ph·∫£i ƒë·ªôc l·∫≠p</li>
          <li>Kh√¥ng gi·ªõi h·∫°n tr√™n (k c√≥ th·ªÉ l√† b·∫•t k·ª≥ s·ªë nguy√™n kh√¥ng √¢m)</li>
          <li>V·ªõi Œª l·ªõn, d√πng x·∫•p x·ªâ chu·∫©n ƒë·ªÉ t√≠nh nhanh h∆°n</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- 14. PH√ÇN PH·ªêI CHU·∫®N -->
  <div id="normal" class="formula-content">
    <div class="card">
      <h3>üìä Nh·∫≠p th√¥ng s·ªë ph√¢n ph·ªëi chu·∫©n</h3>
      <div class="input-row">
        <span>K·ª≥ v·ªçng Œº (mu) =</span>
        <input type="number" id="normalMu" step="any" placeholder="V√≠ d·ª•: 100">
      </div>
      <div class="input-row">
        <span>ƒê·ªô l·ªách chu·∫©n œÉ (sigma) =</span>
        <input type="number" id="normalSigma" min="0" step="any" placeholder="V√≠ d·ª•: 15">
      </div>
      <div class="input-row">
        <span>T√≠nh x√°c su·∫•t:</span>
        <select id="normalType">
          <option value="less">P(X ‚â§ x)</option>
          <option value="greater">P(X ‚â• x)</option>
          <option value="between">P(x‚ÇÅ ‚â§ X ‚â§ x‚ÇÇ)</option>
        </select>
      </div>
      <div class="input-row" id="normalXRow">
        <span>x =</span>
        <input type="number" id="normalX" step="any" placeholder="Gi√° tr·ªã x">
      </div>
      <div class="input-row" id="normalRangeRow" style="display:none;">
        <span>x‚ÇÅ =</span>
        <input type="number" id="normalX1" step="any" placeholder="x‚ÇÅ" style="width:80px;">
        <span>x‚ÇÇ =</span>
        <input type="number" id="normalX2" step="any" placeholder="x‚ÇÇ" style="width:80px;">
      </div>
      <div class="btn-group">
        <button id="calculateNormal">T√≠nh to√°n</button>
        <button id="resetNormal">ƒê·∫∑t l·∫°i</button>
      </div>
    </div>
  
    <div id="resultNormal" style="display:none;">
      <div class="card result-box">
        <h2>üì• Th√¥ng s·ªë ph√¢n ph·ªëi</h2>
        <div id="normalDisplay"></div>
      </div>
      <div class="card result-box">
        <h2>üéØ Chu·∫©n h√≥a</h2>
        <div id="normalStandardize"></div>
      </div>
      <div class="card result-box">
        <h2>üìä K·∫øt qu·∫£</h2>
        <div id="normalCalc"></div>
        <p style="margin-top:15px; font-size:20px;"><span id="normalQuestion"></span> = <span class="result-value" id="finalNormal"></span></p>
      </div>
    </div>
  
    <div class="faq-section">
      <div class="faq-item">
        <h4>‚ùì Ph√¢n ph·ªëi chu·∫©n l√† g√¨?</h4>
        <p>Ph√¢n ph·ªëi chu·∫©n (Normal Distribution) hay ph√¢n ph·ªëi Gauss l√† ph√¢n ph·ªëi x√°c su·∫•t li√™n t·ª•c quan tr·ªçng nh·∫•t, c√≥ d·∫°ng <strong>h√¨nh chu√¥ng ƒë·ªëi x·ª©ng</strong>.</p>
        <p style="margin-top:10px;"><strong>K√Ω hi·ªáu:</strong> X ~ N(Œº, œÉ¬≤)</p>
        <p><strong>ƒê·∫∑c ƒëi·ªÉm:</strong> ƒê·ªëi x·ª©ng qua Œº, 68-95-99.7% d·ªØ li·ªáu n·∫±m trong 1-2-3 œÉ</p>
      </div>
      
      <div class="faq-item">
        <h4>üìê C√¥ng th·ª©c ph√¢n ph·ªëi chu·∫©n</h4>
        <p><strong>H√†m m·∫≠t ƒë·ªô x√°c su·∫•t:</strong></p>
        <p style="text-align:center; font-size:16px; color:#d63384; margin:15px 0;">
          <strong>f(x) = (1/(œÉ‚àö(2œÄ))) √ó e<sup>-((x-Œº)¬≤/(2œÉ¬≤))</sup></strong>
        </p>
        <p>Trong ƒë√≥:</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Œº (mu):</strong> K·ª≥ v·ªçng (trung b√¨nh)</li>
          <li><strong>œÉ (sigma):</strong> ƒê·ªô l·ªách chu·∫©n</li>
          <li><strong>œÉ¬≤:</strong> Ph∆∞∆°ng sai</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìä Ph√¢n ph·ªëi chu·∫©n t·∫Øc</h4>
        <p><strong>ƒê·ªãnh nghƒ©a:</strong> Ph√¢n ph·ªëi chu·∫©n v·ªõi Œº = 0, œÉ = 1</p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">Z ~ N(0, 1)</p>
        <p><strong>C√¥ng th·ª©c chu·∫©n h√≥a:</strong></p>
        <p style="text-align:center; font-size:18px; color:#d63384; margin:10px 0;">
          <strong>Z = (X - Œº) / œÉ</strong>
        </p>
        <p><strong>√ù nghƒ©a:</strong> Z cho bi·∫øt X c√°ch trung b√¨nh bao nhi√™u ƒë·ªô l·ªách chu·∫©n</p>
        <p><strong>V√≠ d·ª•:</strong></p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Z = 1: X cao h∆°n trung b√¨nh 1 œÉ</li>
          <li>Z = -2: X th·∫•p h∆°n trung b√¨nh 2 œÉ</li>
          <li>Z = 0: X b·∫±ng trung b√¨nh</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üìè Quy t·∫Øc 68-95-99.7 (Quy t·∫Øc kinh nghi·ªám)</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>68%</strong> d·ªØ li·ªáu n·∫±m trong [Œº - œÉ, Œº + œÉ]</li>
          <li><strong>95%</strong> d·ªØ li·ªáu n·∫±m trong [Œº - 2œÉ, Œº + 2œÉ]</li>
          <li><strong>99.7%</strong> d·ªØ li·ªáu n·∫±m trong [Œº - 3œÉ, Œº + 3œÉ]</li>
        </ul>
        <p style="margin-top:10px;"><strong>V√≠ d·ª•:</strong> IQ c√≥ Œº = 100, œÉ = 15</p>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>68% ng∆∞·ªùi c√≥ IQ t·ª´ 85 ƒë·∫øn 115</li>
          <li>95% ng∆∞·ªùi c√≥ IQ t·ª´ 70 ƒë·∫øn 130</li>
          <li>99.7% ng∆∞·ªùi c√≥ IQ t·ª´ 55 ƒë·∫øn 145</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üí° V√≠ d·ª• th·ª±c t·∫ø</h4>
        <p><strong>V√≠ d·ª• 1:</strong> Chi·ªÅu cao nam gi·ªõi VN: Œº = 168cm, œÉ = 7cm. T√≠nh x√°c su·∫•t m·ªôt ng∆∞·ªùi cao tr√™n 175cm.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <p>Chu·∫©n h√≥a: Z = (175 - 168) / 7 = 1</p>
        <p>P(X > 175) = P(Z > 1) = 1 - Œ¶(1) = 1 - 0.8413 = 0.1587</p>
        <p><strong>K·∫øt qu·∫£:</strong> 15.87%</p>
        <br>
        <p><strong>V√≠ d·ª• 2:</strong> ƒêi·ªÉm thi: Œº = 70, œÉ = 10. T√≠nh x√°c su·∫•t ƒëi·ªÉm t·ª´ 60 ƒë·∫øn 80.</p>
        <p><strong>Gi·∫£i:</strong></p>
        <p>Z‚ÇÅ = (60 - 70) / 10 = -1</p>
        <p>Z‚ÇÇ = (80 - 70) / 10 = 1</p>
        <p>P(60 ‚â§ X ‚â§ 80) = Œ¶(1) - Œ¶(-1) = 0.8413 - 0.1587 = 0.6826</p>
        <p><strong>K·∫øt qu·∫£:</strong> 68.26% (ƒë√∫ng quy t·∫Øc 68%!)</p>
      </div>
      
      <div class="faq-item">
        <h4>üéØ ·ª®ng d·ª•ng th·ª±c t·∫ø</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li><strong>Sinh h·ªçc:</strong> Chi·ªÅu cao, c√¢n n·∫∑ng, huy·∫øt √°p</li>
          <li><strong>Gi√°o d·ª•c:</strong> ƒêi·ªÉm thi, IQ</li>
          <li><strong>Kinh t·∫ø:</strong> Thu nh·∫≠p, gi√° c·ªï phi·∫øu</li>
          <li><strong>K·ªπ thu·∫≠t:</strong> Sai s·ªë ƒëo l∆∞·ªùng, k√≠ch th∆∞·ªõc s·∫£n ph·∫©m</li>
          <li><strong>Khoa h·ªçc:</strong> Sai s·ªë th√≠ nghi·ªám</li>
          <li><strong>Th·ªëng k√™:</strong> ƒê·ªãnh l√Ω gi·ªõi h·∫°n trung t√¢m</li>
        </ul>
      </div>
      
      <div class="faq-item">
        <h4>üîç C√°c gi√° tr·ªã Z quan tr·ªçng</h4>
        <table style="width:100%; margin:10px 0;">
          <tr>
            <th>Z</th>
            <th>Œ¶(Z)</th>
            <th>√ù nghƒ©a</th>
          </tr>
          <tr>
            <td>0</td>
            <td>0.5000</td>
            <td>Trung b√¨nh</td>
          </tr>
          <tr>
            <td>1</td>
            <td>0.8413</td>
            <td>+1 œÉ</td>
          </tr>
          <tr>
            <td>1.96</td>
            <td>0.9750</td>
            <td>95% (2 ph√≠a)</td>
          </tr>
          <tr>
            <td>2</td>
            <td>0.9772</td>
            <td>+2 œÉ</td>
          </tr>
          <tr>
            <td>2.58</td>
            <td>0.9950</td>
            <td>99% (2 ph√≠a)</td>
          </tr>
          <tr>
            <td>3</td>
            <td>0.9987</td>
            <td>+3 œÉ</td>
          </tr>
        </table>
      </div>
      
      <div class="faq-item">
        <h4>üìà ƒê·ªãnh l√Ω gi·ªõi h·∫°n trung t√¢m (CLT)</h4>
        <p><strong>N·ªôi dung:</strong> T·ªïng/trung b√¨nh c·ªßa nhi·ªÅu bi·∫øn ng·∫´u nhi√™n ƒë·ªôc l·∫≠p (b·∫•t k·ª≥ ph√¢n ph·ªëi n√†o) s·∫Ω ti·∫øn ƒë·∫øn ph√¢n ph·ªëi chu·∫©n khi n ‚Üí ‚àû.</p>
        <p style="text-align:center; color:#d63384; margin:10px 0;">
          XÃÑ ~ N(Œº, œÉ¬≤/n) khi n l·ªõn
        </p>
        <p><strong>√ù nghƒ©a:</strong> Gi·∫£i th√≠ch t·∫°i sao ph√¢n ph·ªëi chu·∫©n xu·∫•t hi·ªán kh·∫Øp n∆°i trong t·ª± nhi√™n!</p>
      </div>
      
      <div class="faq-item">
        <h4>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng</h4>
        <ul style="text-align:left; margin:10px 0 0 20px;">
          <li>Ph√¢n ph·ªëi chu·∫©n l√† ph√¢n ph·ªëi li√™n t·ª•c (kh√¥ng r·ªùi r·∫°c)</li>
          <li>ƒê·ªëi x·ª©ng ho√†n to√†n: P(X < Œº) = P(X > Œº) = 0.5</li>
          <li>M·ªët = Trung v·ªã = K·ª≥ v·ªçng = Œº</li>
          <li>Kh√¥ng t√≠nh ƒë∆∞·ª£c t√≠ch ph√¢n tr·ª±c ti·∫øp ‚Üí d√πng b·∫£ng Z ho·∫∑c m√°y t√≠nh</li>
          <li>Gi√° tr·ªã ngo·∫°i lai: |Z| > 3 (x√°c su·∫•t < 0.3%)</li>
        </ul>
      </div>
    </div>
  </div>

              
<!-- ============================================ -->
<!-- C√îNG TH·ª®C 1: ∆Ø·ªöC L∆Ø·ª¢NG K·ª≤ V·ªåNG -->
<!-- ============================================ -->
<div id="ci1" class="formula-content">
    <div id="ci1-container">
    <h2>üìä ∆Ø·ªõc l∆∞·ª£ng k·ª≥ v·ªçng bi·∫øn ng·∫´u nhi√™n theo quy lu·∫≠t chu·∫©n</h2>

    <!-- ========================================== -->
    <!-- TABS CH√çNH: ƒê√É BI·∫æT / CH∆ØA BI·∫æT œÉ¬≤ -->
    <!-- ========================================== -->
    <div class="main-tabs">
        <button class="main-tab active" onclick="switchCI1Tab('known', event)">
            ‚úÖ ƒê√£ bi·∫øt œÉ¬≤ (ph∆∞∆°ng sai)
        </button>
        <button class="main-tab" onclick="switchCI1Tab('unknown', event)">
            ‚ùì Ch∆∞a bi·∫øt œÉ¬≤ (n < 30)
        </button>
    </div>

    <!-- ========================================== -->
    <!-- TAB CH√çNH 1: ƒê√É BI·∫æT œÉ¬≤ -->
    <!-- ========================================== -->
    <div id="ci1-known" class="main-content active">
        
        <!-- Sub-tabs: 3 tr∆∞·ªùng h·ª£p -->
        <div class="sub-tabs">
            <button class="sub-tab active" onclick="switchCI1SubTab('known', 'two-sided', event)">
                ‚ÜîÔ∏è ƒê·ªëi x·ª©ng
            </button>
            <button class="sub-tab" onclick="switchCI1SubTab('known', 'left', event)">
                ‚Üê B√™n tr√°i
            </button>
            <button class="sub-tab" onclick="switchCI1SubTab('known', 'right', event)">
                ‚Üí B√™n ph·∫£i
            </button>
        </div>

        <!-- ========== ƒê·ªëi x·ª©ng (ƒê√£ bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-known-two-sided" class="sub-content active">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">XÃÑ - Z<sub>Œ±/2</sub> √ó (œÉ/‚àön) < m < XÃÑ + Z<sub>Œ±/2</sub> √ó (œÉ/‚àön)</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-known-ts-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n t·ªïng th·ªÉ (œÉ):</label>
                        <input type="number" step="0.01" id="ci1-known-ts-sigma" placeholder="Nh·∫≠p œÉ">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n):</label>
                        <input type="number" id="ci1-known-ts-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-known-ts-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1KnownTwoSided()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-known-ts"></div>
            
            <div class="note-box">
                <strong>üìù L∆∞u √Ω:</strong> D√πng khi bi·∫øt ch√≠nh x√°c ph∆∞∆°ng sai t·ªïng th·ªÉ (œÉ¬≤)
            </div>
            
            <!-- FAQ -->
            <div class="faq-section">
                <h4>‚ùì C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h4>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>üìå Khi n√†o d√πng kho·∫£ng tin c·∫≠y ƒë·ªëi x·ª©ng?</span>
                        <span class="faq-icon">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>D√πng khi b·∫°n mu·ªën ∆∞·ªõc l∆∞·ª£ng <strong>gi√° tr·ªã ch√≠nh x√°c</strong> c·ªßa tham s·ªë trong m·ªôt kho·∫£ng c√≥ c·∫≠n tr√™n v√† c·∫≠n d∆∞·ªõi.</p>
                        <p><strong>V√≠ d·ª•:</strong> ∆Ø·ªõc l∆∞·ª£ng chi·ªÅu cao trung b√¨nh c·ªßa h·ªçc sinh t·ª´ 165cm ƒë·∫øn 175cm.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>üìå Gi√° tr·ªã Z<sub>Œ±/2</sub> l√† g√¨?</span>
                        <span class="faq-icon">‚ñº</span>
                    </div>
                    <div class="faq-answer">
                        <p>L√† gi√° tr·ªã t·ªõi h·∫°n c·ªßa ph√¢n ph·ªëi chu·∫©n t∆∞∆°ng ·ª©ng v·ªõi m·ª©c √Ω nghƒ©a Œ±/2 (hai ph√≠a).</p>
                        <p><strong>C√°c gi√° tr·ªã ph·ªï bi·∫øn:</strong></p>
                        <ul>
                            <li>Œ± = 0.05 ‚Üí Z<sub>0.025</sub> = 1.96</li>
                            <li>Œ± = 0.01 ‚Üí Z<sub>0.005</sub> = 2.576</li>
                            <li>Œ± = 0.10 ‚Üí Z<sub>0.05</sub> = 1.645</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== B√™n tr√°i (ƒê√£ bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-known-left" class="sub-content">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">m < XÃÑ + Z<sub>Œ±</sub> √ó (œÉ/‚àön)</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-known-left-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n t·ªïng th·ªÉ (œÉ):</label>
                        <input type="number" step="0.01" id="ci1-known-left-sigma" placeholder="Nh·∫≠p œÉ">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n):</label>
                        <input type="number" id="ci1-known-left-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-known-left-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1KnownLeft()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-known-left"></div>
            
            <div class="note-box">
                <strong>üìù L∆∞u √Ω:</strong> D√πng Z<sub>Œ±</sub> (kh√¥ng ph·∫£i Z<sub>Œ±/2</sub>) v√¨ l√† ki·ªÉm ƒë·ªãnh m·ªôt ph√≠a
            </div>
        </div>

        <!-- ========== B√™n ph·∫£i (ƒê√£ bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-known-right" class="sub-content">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">XÃÑ - Z<sub>Œ±</sub> √ó (œÉ/‚àön) < m</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-known-right-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n t·ªïng th·ªÉ (œÉ):</label>
                        <input type="number" step="0.01" id="ci1-known-right-sigma" placeholder="Nh·∫≠p œÉ">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n):</label>
                        <input type="number" id="ci1-known-right-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-known-right-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1KnownRight()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-known-right"></div>
            
            <div class="note-box">
                <strong>üìù L∆∞u √Ω:</strong> D√πng Z<sub>Œ±</sub> (kh√¥ng ph·∫£i Z<sub>Œ±/2</sub>) v√¨ l√† ki·ªÉm ƒë·ªãnh m·ªôt ph√≠a
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!-- TAB CH√çNH 2: CH∆ØA BI·∫æT œÉ¬≤ -->
    <!-- ========================================== -->
    <div id="ci1-unknown" class="main-content">
        
        <!-- Sub-tabs: 3 tr∆∞·ªùng h·ª£p -->
        <div class="sub-tabs">
            <button class="sub-tab active" onclick="switchCI1SubTab('unknown', 'two-sided', event)">
                ‚ÜîÔ∏è ƒê·ªëi x·ª©ng
            </button>
            <button class="sub-tab" onclick="switchCI1SubTab('unknown', 'left', event)">
                ‚Üê B√™n tr√°i
            </button>
            <button class="sub-tab" onclick="switchCI1SubTab('unknown', 'right', event)">
                ‚Üí B√™n ph·∫£i
            </button>
        </div>

        <!-- ========== ƒê·ªëi x·ª©ng (Ch∆∞a bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-unknown-two-sided" class="sub-content active">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">XÃÑ - t<sub>Œ±/2</sub>(n-1) √ó (s/‚àön) < m < XÃÑ + t<sub>Œ±/2</sub>(n-1) √ó (s/‚àön)</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-unknown-ts-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n m·∫´u (s):</label>
                        <input type="number" step="0.01" id="ci1-unknown-ts-s" placeholder="Nh·∫≠p s">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n < 30):</label>
                        <input type="number" id="ci1-unknown-ts-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-unknown-ts-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1UnknownTwoSided()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-unknown-ts"></div>
            
            <div class="note-box">
                <strong>üìù L∆∞u √Ω:</strong> D√πng ph√¢n ph·ªëi Student (t) v·ªõi b·∫≠c t·ª± do df = n - 1
            </div>
        </div>

        <!-- ========== B√™n tr√°i (Ch∆∞a bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-unknown-left" class="sub-content">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">m < XÃÑ + t<sub>Œ±</sub>(n-1) √ó (s/‚àön)</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-unknown-left-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n m·∫´u (s):</label>
                        <input type="number" step="0.01" id="ci1-unknown-left-s" placeholder="Nh·∫≠p s">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n < 30):</label>
                        <input type="number" id="ci1-unknown-left-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-unknown-left-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1UnknownLeft()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-unknown-left"></div>
        </div>

        <!-- ========== B√™n ph·∫£i (Ch∆∞a bi·∫øt œÉ¬≤) ========== -->
        <div id="ci1-unknown-right" class="sub-content">
            <div class="formula-box">
                <div class="formula-title">C√¥ng th·ª©c:</div>
                <div class="formula-content">
                    <span class="math">XÃÑ - t<sub>Œ±</sub>(n-1) √ó (s/‚àön) < m</span>
                </div>
            </div>
            
            <div class="input-group">
                <div class="input-row">
                    <div class="input-field">
                        <label>Trung b√¨nh m·∫´u (XÃÑ):</label>
                        <input type="number" step="0.01" id="ci1-unknown-right-mean" placeholder="Nh·∫≠p XÃÑ">
                    </div>
                    <div class="input-field">
                        <label>ƒê·ªô l·ªách chu·∫©n m·∫´u (s):</label>
                        <input type="number" step="0.01" id="ci1-unknown-right-s" placeholder="Nh·∫≠p s">
                    </div>
                </div>
                
                <div class="input-row">
                    <div class="input-field">
                        <label>K√≠ch th∆∞·ªõc m·∫´u (n < 30):</label>
                        <input type="number" id="ci1-unknown-right-n" placeholder="Nh·∫≠p n">
                    </div>
                    <div class="input-field">
                        <label>M·ª©c √Ω nghƒ©a (Œ±):</label>
                        <input type="number" step="0.01" id="ci1-unknown-right-alpha" placeholder="VD: 0.05" value="0.05">
                    </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateCI1UnknownRight()">üßÆ T√≠nh to√°n</button>
            </div>
            
            <div class="result" id="result-ci1-unknown-right"></div>
        </div>

        <!-- FAQ -->
        <div class="faq-section">
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>‚ùì Khi n√†o d√πng ph√¢n ph·ªëi Student (t)?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    D√πng khi: <strong>Ch∆∞a bi·∫øt œÉ¬≤</strong> v√† <strong>n < 30</strong>.<br>
                    N·∫øu n ‚â• 30, c√≥ th·ªÉ d√πng ph√¢n ph·ªëi chu·∫©n Z thay th·∫ø.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>‚ùì ƒê·ªô l·ªách chu·∫©n m·∫´u S l√† g√¨?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    <strong>S</strong> l√† ƒë·ªô l·ªách chu·∫©n m·∫´u (ch∆∞a hi·ªáu ch·ªânh):<br>
                    S = ‚àö[Œ£(X·µ¢ - XÃÑ)¬≤ / n]<br><br>
                    <strong>L∆∞u √Ω:</strong> N·∫øu ƒë·ªÅ b√†i cho S¬≤ (ph∆∞∆°ng sai m·∫´u), h√£y l·∫•y cƒÉn b·∫≠c 2.
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    <span>‚ùì B·∫≠c t·ª± do (df) l√† g√¨?</span>
                    <span class="faq-icon">‚ñº</span>
                </div>
                <div class="faq-answer">
                    <strong>df = n - 1</strong> (degrees of freedom)<br>
                    D√πng ƒë·ªÉ tra b·∫£ng ph√¢n ph·ªëi Student.
                </div>
            </div>
        </div>
    </div>
</div>
</div>
  
  


      </main>
    </div>
</div>






<script>
    // ========== H√ÄM HELPER ==========
    // H√†m t√≠nh giai th·ª´a
    function factorial(n) {
      if (n <= 1) return 1;
      let result = 1;
      for (let i = 2; i <= n; i++) {
        result *= i;
      }
      return result;
    }
    
    // H√†m t√≠nh t·ªï h·ª£p C(n,k)
    function combination(n, k) {
      if (k > n) return 0;
      if (k === 0 || k === n) return 1;
      return factorial(n) / (factorial(k) * factorial(n - k));
    }
    
    // H√†m t√≠nh x√°c su·∫•t nh·ªã th·ª©c
    function binomialProbability(n, k, p) {
      return combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);
    }
    
    // H√†m t√≠nh x√°c su·∫•t Poisson
    function poissonProbability(lambda, k) {
      return (Math.pow(lambda, k) * Math.exp(-lambda)) / factorial(k);
    }
    
    // H√†m t√≠nh CDF c·ªßa ph√¢n ph·ªëi chu·∫©n t·∫Øc
    function normalCDF(z) {
      const t = 1 / (1 + 0.2316419 * Math.abs(z));
      const d = 0.3989423 * Math.exp(-z * z / 2);
      const prob = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
      return z > 0 ? 1 - prob : prob;
    }
    // ========== H√ÄM TRA B·∫¢NG PH√ÇN PH·ªêI CHU·∫®N T·∫ÆC ==========
function getZValue(alpha) {
  // B·∫£ng tra gi√° tr·ªã Z ph·ªï bi·∫øn
  const zTable = {
    0.005: 2.576,   // Œ± = 0.01 (99%)
    0.01: 2.326,    // Œ± = 0.02 (98%)
    0.025: 1.96,    // Œ± = 0.05 (95%)
    0.05: 1.645,    // Œ± = 0.10 (90%)
    0.10: 1.282     // Œ± = 0.20 (80%)
  };
  
  // N·∫øu c√≥ trong b·∫£ng
  if (zTable[alpha]) {
    return zTable[alpha];
  }
  
  // T√≠nh x·∫•p x·ªâ b·∫±ng c√¥ng th·ª©c (cho c√°c gi√° tr·ªã kh√°c)
  const p = 1 - alpha;
  const t = Math.sqrt(-2 * Math.log(1 - p));
  const c0 = 2.515517;
  const c1 = 0.802853;
  const c2 = 0.010328;
  const d1 = 1.432788;
  const d2 = 0.189269;
  const d3 = 0.001308;
  
  return t - (c0 + c1 * t + c2 * t * t) / (1 + d1 * t + d2 * t * t + d3 * t * t * t);
}

// ============================================
// H√ÄM TOGGLE FAQ (M·ªû/ƒê√ìNG C√ÇU H·ªéI)
// ============================================
function toggleFAQ(element) {
  const faqItem = element.parentElement;
  const answer = faqItem.querySelector('.faq-answer');
  const icon = element.querySelector('.faq-icon');
  
  // Toggle class active
  faqItem.classList.toggle('active');
  
  // ƒê·ªïi icon
  if (faqItem.classList.contains('active')) {
    icon.textContent = '‚ñ≤';
    answer.style.maxHeight = answer.scrollHeight + 'px';
  } else {
    icon.textContent = '‚ñº';
    answer.style.maxHeight = '0';
  }
}


// ========================================
// H√ÄM CHUY·ªÇN TAB CH√çNH (Bi·∫øt/Ch∆∞a bi·∫øt ph∆∞∆°ng sai)
// ========================================
function switchCI1Tab(tabName, event) {
  if (event) event.preventDefault();
  
  // X√≥a active kh·ªèi t·∫•t c·∫£ main-tabs
  document.querySelectorAll('#ci1-container .main-tab').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Th√™m active v√†o tab ƒë∆∞·ª£c click
  if (event && event.target) {
    event.target.classList.add('active');
  }
  
  // ·∫®n t·∫•t c·∫£ main-content
  document.querySelectorAll('#ci1-container .main-content').forEach(content => {
    content.classList.remove('active');
  });
  
  // Hi·ªán content t∆∞∆°ng ·ª©ng
  const targetContent = document.getElementById('ci1-' + tabName);
  if (targetContent) {
    targetContent.classList.add('active');
  } else {
    console.error('‚ùå Kh√¥ng t√¨m th·∫•y element v·ªõi ID:', 'ci1-' + tabName);
  }
}

// ========================================
// H√ÄM CHUY·ªÇN SUB-TAB (ƒê·ªëi x·ª©ng/Tr√°i/Ph·∫£i)
// ========================================
function switchCI1SubTab(mainTab, subTab, event) {
  if (event) event.preventDefault();
  
  // FIX: X√≥a '-tab' kh·ªèi ID t√¨m ki·∫øm
  const parentTab = document.getElementById('ci1-' + mainTab);
  if (!parentTab) {
    console.error('‚ùå Kh√¥ng t√¨m th·∫•y element:', 'ci1-' + mainTab);
    return;
  }
  
  // X√≥a active kh·ªèi t·∫•t c·∫£ sub-tabs
  parentTab.querySelectorAll('.sub-tab').forEach(tab => {
    tab.classList.remove('active');
  });
  
  // Th√™m active v√†o sub-tab ƒë∆∞·ª£c click
  if (event && event.target) {
    event.target.classList.add('active');
  }
  
  // ·∫®n t·∫•t c·∫£ sub-content
  parentTab.querySelectorAll('.sub-content').forEach(content => {
    content.classList.remove('active');
  });
  
  // Hi·ªán sub-content t∆∞∆°ng ·ª©ng
  const targetContent = document.getElementById('ci1-' + mainTab + '-' + subTab);
  if (targetContent) {
    targetContent.classList.add('active');
  } else {
    console.error('‚ùå Kh√¥ng t√¨m th·∫•y element:', 'ci1-' + mainTab + '-' + subTab);
  }
}



    
    // ========== KH·ªûI T·∫†O KHI TRANG T·∫¢I ==========
    document.addEventListener('DOMContentLoaded', () => {
      // Chuy·ªÉn t·ª´ banner sang main content
      const startBtn = document.getElementById('startBtn');
      const banner = document.getElementById('banner');
      const mainContent = document.getElementById('mainContent');
    
      if (startBtn && banner && mainContent) {
        startBtn.addEventListener('click', () => {
          banner.style.display = 'none';
          mainContent.style.display = 'flex';
        });
      }
    
      // X·ª≠ l√Ω click ƒë·ªÉ m·ªü/ƒë√≥ng danh s√°ch con
      document.querySelectorAll('.clickable').forEach(item => {
        item.addEventListener('click', (e) => {
          e.stopPropagation();
          const nested = item.querySelector('.nested');
          if (nested) {
            nested.style.display = nested.style.display === 'block' ? 'none' : 'block';
          }
        });
      });
    
      // X·ª≠ l√Ω ch·ªçn c√¥ng th·ª©c t·ª´ sidebar
      const formulaSections = document.querySelectorAll('.formula-content');
      const placeholder = document.querySelector('main .placeholder');
    
      document.querySelectorAll('#mainContent aside li[data-formula]').forEach(li => {
        li.addEventListener('click', () => {
          if (placeholder) placeholder.style.display = 'none';
          formulaSections.forEach(f => f.style.display = 'none');
          document.querySelectorAll('#mainContent aside li').forEach(item => {
            item.classList.remove('active');
          });
          li.classList.add('active');
          const formula = li.dataset.formula;
          const formElement = document.getElementById(formula);
          if (formElement) {
            formElement.style.display = 'block';
          }
        });
      });
    
      // ===== CH∆Ø∆†NG 1: C√ÅC C√îNG TH·ª®C X√ÅC SU·∫§T =====
      
      // 1. BI·∫æN C·ªê XUNG KH·∫ÆC
      const calcBtn = document.getElementById('calculateBtn');
      const resetBtn = document.getElementById('resetBtn');
    
      if (calcBtn) {
        calcBtn.addEventListener('click', () => {
          const pA = parseFloat(document.getElementById('pA').value);
          const pB = parseFloat(document.getElementById('pB').value);
          
          if (isNaN(pA) || isNaN(pB)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß P(A) v√† P(B)');
            return;
          }
          
          if (pA < 0 || pA > 1 || pB < 0 || pB > 1) {
            alert('Gi√° tr·ªã x√°c su·∫•t ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          const result = pA + pB;
          
          if (result > 1) {
            alert('C·∫£nh b√°o: P(A) + P(B) > 1. ƒê√¢y c√≥ th·ªÉ kh√¥ng ph·∫£i l√† hai bi·∫øn c·ªë xung kh·∫Øc!');
          }
          
          document.getElementById('resPA').textContent = pA.toFixed(3);
          document.getElementById('resPB').textContent = pB.toFixed(3);
          document.getElementById('resPAcalc').textContent = pA.toFixed(3);
          document.getElementById('resPBcalc').textContent = pB.toFixed(3);
          document.getElementById('finalResult').textContent = result.toFixed(3);
          document.getElementById('resultSection').style.display = 'block';
        });
      }
    
      if (resetBtn) {
        resetBtn.addEventListener('click', () => {
          document.getElementById('pA').value = '';
          document.getElementById('pB').value = '';
          document.getElementById('resultSection').style.display = 'none';
        });
      }
    
      // 2. BI·∫æN C·ªê KH√îNG XUNG KH·∫ÆC
      const calcBtn2 = document.getElementById('calculateBtn2');
      const resetBtn2 = document.getElementById('resetBtn2');
    
      if (calcBtn2) {
        calcBtn2.addEventListener('click', () => {
          const pA = parseFloat(document.getElementById('pA2').value);
          const pB = parseFloat(document.getElementById('pB2').value);
          const pAB = parseFloat(document.getElementById('pAB2').value);
          
          if (isNaN(pA) || isNaN(pB) || isNaN(pAB)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß P(A), P(B), P(AB)');
            return;
          }
          
          if (pA < 0 || pA > 1 || pB < 0 || pB > 1 || pAB < 0 || pAB > 1) {
            alert('M·ªçi x√°c su·∫•t ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          if (pAB > Math.min(pA, pB)) {
            alert('C·∫ßn c√≥ P(AB) ‚â§ min{P(A), P(B)}');
            return;
          }
          
          const result = pA + pB - pAB;
          
          if (result < 0 || result > 1) {
            alert('K·∫øt qu·∫£ ngo√†i mi·ªÅn [0,1]. Ki·ªÉm tra l·∫°i d·ªØ li·ªáu.');
            return;
          }
          
          document.getElementById('resPA2').textContent = pA.toFixed(3);
          document.getElementById('resPB2').textContent = pB.toFixed(3);
          document.getElementById('resPAB2').textContent = pAB.toFixed(3);
          document.getElementById('calcStep2').textContent = 
            `${pA.toFixed(3)} + ${pB.toFixed(3)} - ${pAB.toFixed(3)} = ${result.toFixed(3)}`;
          document.getElementById('finalResult2').textContent = result.toFixed(3);
          document.getElementById('resultSection2').style.display = 'block';
        });
      }
    
      if (resetBtn2) {
        resetBtn2.addEventListener('click', () => {
          document.getElementById('pA2').value = '';
          document.getElementById('pB2').value = '';
          document.getElementById('pAB2').value = '';
          document.getElementById('resultSection2').style.display = 'none';
        });
      }
    
      // 3. C√îNG TH·ª®C NH√ÇN X√ÅC SU·∫§T
      const calcBtn3 = document.getElementById('calculateBtn3');
      const resetBtn3 = document.getElementById('resetBtn3');
    
      if (calcBtn3) {
        calcBtn3.addEventListener('click', () => {
          const pA = parseFloat(document.getElementById('pA3').value);
          const pBA = parseFloat(document.getElementById('pBA3').value);
          
          if (isNaN(pA) || isNaN(pBA)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß P(A) v√† P(B|A)');
            return;
          }
          
          if (pA < 0 || pA > 1 || pBA < 0 || pBA > 1) {
            alert('Gi√° tr·ªã x√°c su·∫•t ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          const result = pA * pBA;
          
          document.getElementById('resPA3').textContent = pA.toFixed(3);
          document.getElementById('resPBA3').textContent = pBA.toFixed(3);
          document.getElementById('calcStep3').textContent = 
            `${pA.toFixed(3)} √ó ${pBA.toFixed(3)} = ${result.toFixed(3)}`;
          document.getElementById('finalResult3').textContent = result.toFixed(3);
          document.getElementById('resultSection3').style.display = 'block';
        });
      }
    
      if (resetBtn3) {
        resetBtn3.addEventListener('click', () => {
          document.getElementById('pA3').value = '';
          document.getElementById('pBA3').value = '';
          document.getElementById('resultSection3').style.display = 'none';
        });
      }
    
      // 4. C√îNG TH·ª®C BERNOULLI
      const calcBtn4 = document.getElementById('calculateBtn4');
      const resetBtn4 = document.getElementById('resetBtn4');
    
      if (calcBtn4) {
        calcBtn4.addEventListener('click', () => {
          const n = parseInt(document.getElementById('nBer').value);
          const k = parseInt(document.getElementById('kBer').value);
          const p = parseFloat(document.getElementById('pBer').value);
          
          if (isNaN(n) || isNaN(k) || isNaN(p)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß n, k, p');
            return;
          }
          
          if (n < 1) {
            alert('S·ªë ph√©p th·ª≠ n ph·∫£i >= 1');
            return;
          }
          
          if (k < 0 || k > n) {
            alert('S·ªë l·∫ßn th√†nh c√¥ng k ph·∫£i th·ªèa: 0 ‚â§ k ‚â§ n');
            return;
          }
          
          if (p < 0 || p > 1) {
            alert('X√°c su·∫•t p ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          const q = 1 - p;
          const comb = combination(n, k);
          const pk = Math.pow(p, k);
          const qnk = Math.pow(q, n - k);
          const result = comb * pk * qnk;
          
          document.getElementById('resN').textContent = n;
          document.getElementById('resK').textContent = k;
          document.getElementById('resP').textContent = p.toFixed(3);
          document.getElementById('resQ').textContent = q.toFixed(3);
          document.getElementById('calcN1').textContent = n;
          document.getElementById('calcK1').textContent = k;
          document.getElementById('calcComb').textContent = comb;
          document.getElementById('calcStep4').textContent = 
            `P = ${comb} √ó ${p.toFixed(3)}^${k} √ó ${q.toFixed(3)}^${n-k} = ${comb} √ó ${pk.toFixed(6)} √ó ${qnk.toFixed(6)}`;
          document.getElementById('finalResult4').textContent = result.toFixed(6);
          document.getElementById('resultSection4').style.display = 'block';
        });
      }
    
      if (resetBtn4) {
        resetBtn4.addEventListener('click', () => {
          document.getElementById('nBer').value = '';
          document.getElementById('kBer').value = '';
          document.getElementById('pBer').value = '';
          document.getElementById('resultSection4').style.display = 'none';
        });
      }
    
      // 5. C√îNG TH·ª®C X√ÅC SU·∫§T ƒê·∫¶Y ƒê·ª¶
      let eventCount5 = 2;
      const addEventBtn5 = document.getElementById('addEventBtn5');
      const calcBtn5 = document.getElementById('calculateBtn5');
      const resetBtn5 = document.getElementById('resetBtn5');
    
      if (addEventBtn5) {
        addEventBtn5.addEventListener('click', () => {
          eventCount5++;
          const container = document.getElementById('eventInputs5');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>B${eventCount5}:</span>
            <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B${eventCount5})">
            <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B${eventCount5})">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcBtn5) {
        calcBtn5.addEventListener('click', () => {
          const pBs = Array.from(document.querySelectorAll('#eventInputs5 .pB')).map(el => parseFloat(el.value));
          const pABs = Array.from(document.querySelectorAll('#eventInputs5 .pAB')).map(el => parseFloat(el.value));
          
          if (pBs.some(isNaN) || pABs.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pBs.some(p => p < 0 || p > 1) || pABs.some(p => p < 0 || p > 1)) {
            alert('T·∫•t c·∫£ x√°c su·∫•t ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          const sumPB = pBs.reduce((a, b) => a + b, 0);
          if (Math.abs(sumPB - 1) > 0.001) {
            alert(`C·∫£nh b√°o: T·ªïng P(B·µ¢) = ${sumPB.toFixed(3)} ‚â† 1. C√°c bi·∫øn c·ªë c√≥ th·ªÉ kh√¥ng t·∫°o th√†nh h·ªá ƒë·∫ßy ƒë·ªß!`);
          }
          
          let result = 0;
          let calcSteps = '<p>';
          let inputDisplay = '<p><strong>ƒê·∫ßu v√†o:</strong></p><ul style="text-align:left; margin-left:20px;">';
          
          for (let i = 0; i < pBs.length; i++) {
            const term = pBs[i] * pABs[i];
            result += term;
            inputDisplay += `<li>P(B${i+1}) = ${pBs[i].toFixed(3)}, P(A|B${i+1}) = ${pABs[i].toFixed(3)}</li>`;
            calcSteps += `P(B${i+1}) √ó P(A|B${i+1}) = ${pBs[i].toFixed(3)} √ó ${pABs[i].toFixed(3)} = ${term.toFixed(6)}<br>`;
          }
          
          inputDisplay += '</ul>';
          calcSteps += `</p><p><strong>T·ªïng:</strong> ${result.toFixed(6)}</p>`;
          
          document.getElementById('inputDisplay5').innerHTML = inputDisplay;
          document.getElementById('calcStep5').innerHTML = calcSteps;
          document.getElementById('finalResult5').textContent = result.toFixed(6);
          document.getElementById('resultSection5').style.display = 'block';
        });
      }
    
      if (resetBtn5) {
        resetBtn5.addEventListener('click', () => {
          eventCount5 = 2;
          document.getElementById('eventInputs5').innerHTML = `
            <div class="input-row">
              <span>B‚ÇÅ:</span>
              <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÅ)">
              <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÅ)">
            </div>
            <div class="input-row">
              <span>B‚ÇÇ:</span>
              <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÇ)">
              <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÇ)">
            </div>
          `;
          document.getElementById('resultSection5').style.display = 'none';
        });
      }
    
      // 6. C√îNG TH·ª®C BAYES
      let eventCount6 = 2;
      const addEventBtn6 = document.getElementById('addEventBtn6');
      const calcBtn6 = document.getElementById('calculateBtn6');
      const resetBtn6 = document.getElementById('resetBtn6');
    
      if (addEventBtn6) {
        addEventBtn6.addEventListener('click', () => {
          eventCount6++;
          const container = document.getElementById('eventInputs6');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>B${eventCount6}:</span>
            <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B${eventCount6})">
            <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B${eventCount6})">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcBtn6) {
        calcBtn6.addEventListener('click', () => {
          const pBs = Array.from(document.querySelectorAll('#eventInputs6 .pB')).map(el => parseFloat(el.value));
          const pABs = Array.from(document.querySelectorAll('#eventInputs6 .pAB')).map(el => parseFloat(el.value));
          const targetIdx = parseInt(document.getElementById('targetIndex').value);
          
          if (pBs.some(isNaN) || pABs.some(isNaN) || isNaN(targetIdx)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã v√† ch·ªâ s·ªë i');
            return;
          }
          
          if (targetIdx < 1 || targetIdx > pBs.length) {
            alert(`Ch·ªâ s·ªë i ph·∫£i t·ª´ 1 ƒë·∫øn ${pBs.length}`);
            return;
          }
          
          if (pBs.some(p => p < 0 || p > 1) || pABs.some(p => p < 0 || p > 1)) {
            alert('T·∫•t c·∫£ x√°c su·∫•t ph·∫£i trong kho·∫£ng 0‚Äì1');
            return;
          }
          
          const sumPB = pBs.reduce((a, b) => a + b, 0);
          if (Math.abs(sumPB - 1) > 0.001) {
            alert(`C·∫£nh b√°o: T·ªïng P(B·µ¢) = ${sumPB.toFixed(3)} ‚â† 1. C√°c bi·∫øn c·ªë c√≥ th·ªÉ kh√¥ng t·∫°o th√†nh h·ªá ƒë·∫ßy ƒë·ªß!`);
          }
          
          const numerator = pBs[targetIdx - 1] * pABs[targetIdx - 1];
          
          let denominator = 0;
          let calcStepsDenom = '<p><strong>M·∫´u s·ªë:</strong><br>';
          for (let i = 0; i < pBs.length; i++) {
            const term = pBs[i] * pABs[i];
            denominator += term;
            calcStepsDenom += `P(B${i+1}) √ó P(A|B${i+1}) = ${pBs[i].toFixed(3)} √ó ${pABs[i].toFixed(3)} = ${term.toFixed(6)}<br>`;
          }
          calcStepsDenom += `T·ªïng = ${denominator.toFixed(6)}</p>`;
          
          const result = numerator / denominator;
          
          let inputDisplay = '<p><strong>ƒê·∫ßu v√†o:</strong></p><ul style="text-align:left; margin-left:20px;">';
          for (let i = 0; i < pBs.length; i++) {
            inputDisplay += `<li>P(B${i+1}) = ${pBs[i].toFixed(3)}, P(A|B${i+1}) = ${pABs[i].toFixed(3)}</li>`;
          }
          inputDisplay += `</ul><p><strong>C·∫ßn t√≠nh:</strong> P(B${targetIdx}|A)</p>`;
          
          let calcSteps = `<p><strong>T·ª≠ s·ªë:</strong><br>P(B${targetIdx}) √ó P(A|B${targetIdx}) = ${pBs[targetIdx-1].toFixed(3)} √ó ${pABs[targetIdx-1].toFixed(3)} = ${numerator.toFixed(6)}</p>`;
          calcSteps += calcStepsDenom;
          calcSteps += `<p><strong>K·∫øt qu·∫£:</strong> ${numerator.toFixed(6)} / ${denominator.toFixed(6)} = ${result.toFixed(6)}</p>`;
          
          document.getElementById('inputDisplay6').innerHTML = inputDisplay;
          document.getElementById('calcStep6').innerHTML = calcSteps;
          document.getElementById('resultIndex').textContent = targetIdx;
          document.getElementById('finalResult6').textContent = result.toFixed(6);
          document.getElementById('resultSection6').style.display = 'block';
        });
      }
    
      if (resetBtn6) {
        resetBtn6.addEventListener('click', () => {
          eventCount6 = 2;
          document.getElementById('eventInputs6').innerHTML = `
            <div class="input-row">
              <span>B‚ÇÅ:</span>
              <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÅ)">
              <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÅ)">
            </div>
            <div class="input-row">
              <span>B‚ÇÇ:</span>
              <input type="number" class="pB" min="0" max="1" step="0.01" placeholder="P(B‚ÇÇ)">
              <input type="number" class="pAB" min="0" max="1" step="0.01" placeholder="P(A|B‚ÇÇ)">
            </div>
          `;
          document.getElementById('targetIndex').value = '1';
          document.getElementById('resultSection6').style.display = 'none';
        });
      }
    
      // ===== CH∆Ø∆†NG 2: BI·∫æN NG·∫™U NHI√äN =====
      
      // 1. B·∫¢NG PH√ÇN PH·ªêI X√ÅC SU·∫§T
      let probRowCount = 2;
      const addProbRow = document.getElementById('addProbRow');
      const calcProbTable = document.getElementById('calculateProbTable');
      const resetProbTable = document.getElementById('resetProbTable');
    
      if (addProbRow) {
        addProbRow.addEventListener('click', () => {
          probRowCount++;
          const container = document.getElementById('probTableInputs');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>X:</span>
            <input type="number" class="xVal" step="any" placeholder="x${probRowCount}">
            <span>P(X):</span>
            <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${probRowCount}">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcProbTable) {
        calcProbTable.addEventListener('click', () => {
          const xVals = Array.from(document.querySelectorAll('#probTableInputs .xVal')).map(el => parseFloat(el.value));
          const pVals = Array.from(document.querySelectorAll('#probTableInputs .pVal')).map(el => parseFloat(el.value));
          
          if (xVals.some(isNaN) || pVals.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pVals.some(p => p < 0 || p > 1)) {
            alert('X√°c su·∫•t ph·∫£i trong kho·∫£ng 0-1');
            return;
          }
          
          const sumP = pVals.reduce((a, b) => a + b, 0);
          
          let tableHTML = '<table><tr><th>X</th>';
          xVals.forEach(x => {
            tableHTML += `<td>${x}</td>`;
          });
          tableHTML += '</tr><tr><th>P(X)</th>';
          pVals.forEach(p => {
            tableHTML += `<td>${p.toFixed(4)}</td>`;
          });
          tableHTML += '</tr></table>';
          
          document.getElementById('tableDisplay').innerHTML = tableHTML;
          document.getElementById('sumProb').textContent = sumP.toFixed(4);
          
          if (Math.abs(sumP - 1) > 0.001) {
            document.getElementById('sumProb').style.color = '#ff0000';
            alert('C·∫£nh b√°o: T·ªïng x√°c su·∫•t ‚â† 1. Ki·ªÉm tra l·∫°i d·ªØ li·ªáu!');
          } else {
            document.getElementById('sumProb').style.color = '#28a745';
          }
          
          document.getElementById('resultProbTable').style.display = 'block';
        });
      }
    
      if (resetProbTable) {
        resetProbTable.addEventListener('click', () => {
          probRowCount = 2;
          document.getElementById('probTableInputs').innerHTML = `
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
            </div>
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
            </div>
          `;
          document.getElementById('resultProbTable').style.display = 'none';
        });
      }
    
      // 2. K·ª≤ V·ªåNG
      let expectRowCount = 2;
      const addExpectRow = document.getElementById('addExpectRow');
      const calcExpect = document.getElementById('calculateExpect');
      const resetExpect = document.getElementById('resetExpect');
    
      if (addExpectRow) {
        addExpectRow.addEventListener('click', () => {
          expectRowCount++;
          const container = document.getElementById('expectInputs');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>X:</span>
            <input type="number" class="xVal" step="any" placeholder="x${expectRowCount}">
            <span>P(X):</span>
            <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${expectRowCount}">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcExpect) {
        calcExpect.addEventListener('click', () => {
          const xVals = Array.from(document.querySelectorAll('#expectInputs .xVal')).map(el => parseFloat(el.value));
          const pVals = Array.from(document.querySelectorAll('#expectInputs .pVal')).map(el => parseFloat(el.value));
          
          if (xVals.some(isNaN) || pVals.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pVals.some(p => p < 0 || p > 1)) {
            alert('X√°c su·∫•t ph·∫£i trong kho·∫£ng 0-1');
            return;
          }
          
          const sumP = pVals.reduce((a, b) => a + b, 0);
          if (Math.abs(sumP - 1) > 0.001) {
            alert('C·∫£nh b√°o: T·ªïng x√°c su·∫•t ‚â† 1');
          }
          
          let expectation = 0;
          let calcSteps = '<p>';
          let inputDisplay = '<table><tr><th>X</th>';
          
          xVals.forEach(x => {
            inputDisplay += `<td>${x}</td>`;
          });
          inputDisplay += '</tr><tr><th>P(X)</th>';
          pVals.forEach(p => {
            inputDisplay += `<td>${p.toFixed(4)}</td>`;
          });
          inputDisplay += '</tr></table>';
          
          for (let i = 0; i < xVals.length; i++) {
            const term = xVals[i] * pVals[i];
            expectation += term;
            calcSteps += `${xVals[i]} √ó ${pVals[i].toFixed(4)} = ${term.toFixed(6)}<br>`;
          }
          calcSteps += `</p><p><strong>T·ªïng:</strong> E(X) = ${expectation.toFixed(6)}</p>`;
          
          document.getElementById('expectDisplay').innerHTML = inputDisplay;
          document.getElementById('expectCalc').innerHTML = calcSteps;
          document.getElementById('finalExpect').textContent = expectation.toFixed(6);
          document.getElementById('resultExpect').style.display = 'block';
        });
      }
    
      if (resetExpect) {
        resetExpect.addEventListener('click', () => {
          expectRowCount = 2;
          document.getElementById('expectInputs').innerHTML = `
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
            </div>
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
            </div>
          `;
          document.getElementById('resultExpect').style.display = 'none';
        });
      }
    
      // 3. PH∆Ø∆†NG SAI
      let varRowCount = 2;
      const addVarRow = document.getElementById('addVarRow');
      const calcVar = document.getElementById('calculateVar');
      const resetVar = document.getElementById('resetVar');
    
      if (addVarRow) {
        addVarRow.addEventListener('click', () => {
          varRowCount++;
          const container = document.getElementById('varInputs');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>X:</span>
            <input type="number" class="xVal" step="any" placeholder="x${varRowCount}">
            <span>P(X):</span>
            <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${varRowCount}">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcVar) {
        calcVar.addEventListener('click', () => {
          const xVals = Array.from(document.querySelectorAll('#varInputs .xVal')).map(el => parseFloat(el.value));
          const pVals = Array.from(document.querySelectorAll('#varInputs .pVal')).map(el => parseFloat(el.value));
          
          if (xVals.some(isNaN) || pVals.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pVals.some(p => p < 0 || p > 1)) {
            alert('X√°c su·∫•t ph·∫£i trong kho·∫£ng 0-1');
            return;
          }
          
          let expectation = 0;
          for (let i = 0; i < xVals.length; i++) {
            expectation += xVals[i] * pVals[i];
          }
          
          let expectation2 = 0;
          for (let i = 0; i < xVals.length; i++) {
            expectation2 += (xVals[i] * xVals[i]) * pVals[i];
          }
          
          const variance = expectation2 - (expectation * expectation);
          
          let inputDisplay = '<table><tr><th>X</th>';
          xVals.forEach(x => {
            inputDisplay += `<td>${x}</td>`;
          });
          inputDisplay += '</tr><tr><th>P(X)</th>';
          pVals.forEach(p => {
            inputDisplay += `<td>${p.toFixed(4)}</td>`;
          });
          inputDisplay += '</tr></table>';
          
          let calcSteps = '<p><strong>B∆∞·ªõc 1: T√≠nh E(X)</strong><br>';
          for (let i = 0; i < xVals.length; i++) {
            calcSteps += `${xVals[i]} √ó ${pVals[i].toFixed(4)} = ${(xVals[i] * pVals[i]).toFixed(6)}<br>`;
          }
          calcSteps += `E(X) = ${expectation.toFixed(6)}</p>`;
          
          calcSteps += '<p><strong>B∆∞·ªõc 2: T√≠nh E(X¬≤)</strong><br>';
          for (let i = 0; i < xVals.length; i++) {
            calcSteps += `${xVals[i]}¬≤ √ó ${pVals[i].toFixed(4)} = ${(xVals[i] * xVals[i] * pVals[i]).toFixed(6)}<br>`;
          }
          calcSteps += `E(X¬≤) = ${expectation2.toFixed(6)}</p>`;
          
          calcSteps += `<p><strong>B∆∞·ªõc 3: T√≠nh Var(X)</strong><br>`;
          calcSteps += `Var(X) = E(X¬≤) - [E(X)]¬≤ = ${expectation2.toFixed(6)} - (${expectation.toFixed(6)})¬≤<br>`;
          calcSteps += `Var(X) = ${expectation2.toFixed(6)} - ${(expectation * expectation).toFixed(6)} = ${variance.toFixed(6)}</p>`;
          
          document.getElementById('varDisplay').innerHTML = inputDisplay;
          document.getElementById('varCalc').innerHTML = calcSteps;
          document.getElementById('varExpect').textContent = expectation.toFixed(6);
          document.getElementById('varExpect2').textContent = expectation2.toFixed(6);
          document.getElementById('finalVar').textContent = variance.toFixed(6);
          document.getElementById('resultVar').style.display = 'block';
        });
      }
    
      if (resetVar) {
        resetVar.addEventListener('click', () => {
          varRowCount = 2;
          document.getElementById('varInputs').innerHTML = `
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
            </div>
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
            </div>
          `;
          document.getElementById('resultVar').style.display = 'none';
        });
      }
    
      // 4. ƒê·ªò L·ªÜCH TI√äU CHU·∫®N
      let stdRowCount = 2;
      const addStdRow = document.getElementById('addStdRow');
      const calcStd = document.getElementById('calculateStd');
      const resetStd = document.getElementById('resetStd');
    
      if (addStdRow) {
        addStdRow.addEventListener('click', () => {
          stdRowCount++;
          const container = document.getElementById('stdInputs');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>X:</span>
            <input type="number" class="xVal" step="any" placeholder="x${stdRowCount}">
            <span>P(X):</span>
            <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${stdRowCount}">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcStd) {
        calcStd.addEventListener('click', () => {
          const xVals = Array.from(document.querySelectorAll('#stdInputs .xVal')).map(el => parseFloat(el.value));
          const pVals = Array.from(document.querySelectorAll('#stdInputs .pVal')).map(el => parseFloat(el.value));
          
          if (xVals.some(isNaN) || pVals.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pVals.some(p => p < 0 || p > 1)) {
            alert('X√°c su·∫•t ph·∫£i trong kho·∫£ng 0-1');
            return;
          }
          
          let expectation = 0;
          for (let i = 0; i < xVals.length; i++) {
            expectation += xVals[i] * pVals[i];
          }
          
          let expectation2 = 0;
          for (let i = 0; i < xVals.length; i++) {
            expectation2 += (xVals[i] * xVals[i]) * pVals[i];
          }
          
          const variance = expectation2 - (expectation * expectation);
          const stdDev = Math.sqrt(variance);
          
          let inputDisplay = '<table><tr><th>X</th>';
          xVals.forEach(x => {
            inputDisplay += `<td>${x}</td>`;
          });
          inputDisplay += '</tr><tr><th>P(X)</th>';
          pVals.forEach(p => {
            inputDisplay += `<td>${p.toFixed(4)}</td>`;
          });
          inputDisplay += '</tr></table>';
          
          let calcSteps = '<p><strong>B∆∞·ªõc 1: T√≠nh E(X)</strong><br>';
          calcSteps += `E(X) = ${expectation.toFixed(6)}</p>`;
          
          calcSteps += '<p><strong>B∆∞·ªõc 2: T√≠nh E(X¬≤)</strong><br>';
          calcSteps += `E(X¬≤) = ${expectation2.toFixed(6)}</p>`;
          
          calcSteps += `<p><strong>B∆∞·ªõc 3: T√≠nh Var(X)</strong><br>`;
          calcSteps += `Var(X) = E(X¬≤) - [E(X)]¬≤ = ${variance.toFixed(6)}</p>`;
          
          calcSteps += `<p><strong>B∆∞·ªõc 4: T√≠nh œÉ</strong><br>`;
          calcSteps += `œÉ = ‚àöVar(X) = ‚àö${variance.toFixed(6)} = ${stdDev.toFixed(6)}</p>`;
          
          document.getElementById('stdDisplay').innerHTML = inputDisplay;
          document.getElementById('stdCalc').innerHTML = calcSteps;
          document.getElementById('stdExpect').textContent = expectation.toFixed(6);
          document.getElementById('stdVar').textContent = variance.toFixed(6);
          document.getElementById('finalStd').textContent = stdDev.toFixed(6);
          document.getElementById('resultStd').style.display = 'block';
        });
      }
    
      if (resetStd) {
        resetStd.addEventListener('click', () => {
          stdRowCount = 2;
          document.getElementById('stdInputs').innerHTML = `
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
            </div>
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
            </div>
          `;
          document.getElementById('resultStd').style.display = 'none';
        });
      }
    
      // 5. M·ªêT
      let modeRowCount = 2;
      const addModeRow = document.getElementById('addModeRow');
      const calcMode = document.getElementById('calculateMode');
      const resetMode = document.getElementById('resetMode');
    
      if (addModeRow) {
        addModeRow.addEventListener('click', () => {
          modeRowCount++;
          const container = document.getElementById('modeInputs');
          const newRow = document.createElement('div');
          newRow.className = 'input-row';
          newRow.innerHTML = `
            <span>X:</span>
            <input type="number" class="xVal" step="any" placeholder="x${modeRowCount}">
            <span>P(X):</span>
            <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${modeRowCount}">
          `;
          container.appendChild(newRow);
        });
      }
    
      if (calcMode) {
        calcMode.addEventListener('click', () => {
          const xVals = Array.from(document.querySelectorAll('#modeInputs .xVal')).map(el => parseFloat(el.value));
          const pVals = Array.from(document.querySelectorAll('#modeInputs .pVal')).map(el => parseFloat(el.value));
          
          if (xVals.some(isNaN) || pVals.some(isNaN)) {
            alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c gi√° tr·ªã');
            return;
          }
          
          if (pVals.some(p => p < 0 || p > 1)) {
            alert('X√°c su·∫•t ph·∫£i trong kho·∫£ng 0-1');
            return;
          }
          
          const maxProb = Math.max(...pVals);
          
          const modes = [];
          for (let i = 0; i < pVals.length; i++) {
            if (pVals[i] === maxProb) {
              modes.push(xVals[i]);
            }
          }
          
          let inputDisplay = '<table><tr><th>X</th>';
          xVals.forEach(x => {
            inputDisplay += `<td>${x}</td>`;
          });
          inputDisplay += '</tr><tr><th>P(X)</th>';
          pVals.forEach(p => {
            inputDisplay += `<td>${p.toFixed(4)}</td>`;
          });
          inputDisplay += '</tr></table>';
          
          let calcSteps = '<p><strong>Gi·∫£i th√≠ch:</strong><br>';
          calcSteps += `M·ªët l√† gi√° tr·ªã X c√≥ x√°c su·∫•t l·ªõn nh·∫•t.<br>`;
          calcSteps += `X√°c su·∫•t l·ªõn nh·∫•t: P(X) = ${maxProb.toFixed(4)}<br>`;
          if (modes.length > 1) {
            calcSteps += `C√≥ ${modes.length} m·ªët (ph√¢n ph·ªëi ƒëa m·ªët)</p>`;
          } else {
            calcSteps += `C√≥ 1 m·ªët (ph√¢n ph·ªëi ƒë∆°n m·ªët)</p>`;
          }
          
          document.getElementById('modeDisplay').innerHTML = inputDisplay;
          document.getElementById('modeCalc').innerHTML = calcSteps;
          document.getElementById('finalMode').textContent = modes.join(', ');
          document.getElementById('resultMode').style.display = 'block';
        });
      }
    
      if (resetMode) {
        resetMode.addEventListener('click', () => {
          modeRowCount = 2;
          document.getElementById('modeInputs').innerHTML = `
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
            </div>
            <div class="input-row">
              <span>X:</span>
              <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
              <span>P(X):</span>
              <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
            </div>
          `;
          document.getElementById('resultMode').style.display = 'none';
        });
      }
    
// ============================================
// 6. H√ÄM PH√ÇN PH·ªêI X√ÅC SU·∫§T (CDF)
// ============================================

// ‚úÖ B∆Ø·ªöC 7: H√ÄM TH√äM H√ÄNG - C√ì N√öT X√ìA
document.getElementById('addCdfRow')?.addEventListener('click', function() {
  const container = document.getElementById('cdfInputs');
  const currentRows = container.querySelectorAll('.input-row').length;
  
  // Gi·ªõi h·∫°n t·ªëi ƒëa 10 h√†ng
  if(currentRows >= 10) {
    alert('T·ªëi ƒëa 10 gi√° tr·ªã!');
    return;
  }
  
  const newRow = document.createElement('div');
  newRow.className = 'input-row';
  newRow.innerHTML = `
    <span>X:</span>
    <input type="number" class="xVal" step="any" placeholder="x${currentRows + 1}">
    <span>P(X):</span>
    <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p${currentRows + 1}">
    <button class="btn-remove" style="margin-left:10px; padding:5px 10px; background:#dc3545; color:white; border:none; border-radius:4px; cursor:pointer;">X√≥a</button>
  `;
  
  // Th√™m s·ª± ki·ªán x√≥a h√†ng
  newRow.querySelector('.btn-remove')?.addEventListener('click', function() {
    newRow.remove();
  });
  
  container.appendChild(newRow);
});

// ‚úÖ B∆Ø·ªöC 8: H√ÄM T√çNH CDF - HI·ªÇN TH·ªä D·∫†NG H√ÄM B·∫¨CTHANG
document.getElementById('calculateCdf')?.addEventListener('click', function() {
  const xInputs = document.querySelectorAll('#cdfInputs .xVal');
  const pInputs = document.querySelectorAll('#cdfInputs .pVal');
  const xValue = document.getElementById('cdfXValue').value.trim();
  
  let data = [];
  
  for(let i = 0; i < xInputs.length; i++) {
    const x = parseFloat(xInputs[i].value);
    const p = parseFloat(pInputs[i].value);
    if(!isNaN(x) && !isNaN(p) && p > 0) {
      data.push({x: x, p: p});
    }
  }
  
  if(data.length < 1) {
    alert('Vui l√≤ng nh·∫≠p √≠t nh·∫•t 1 gi√° tr·ªã!');
    return;
  }
  
  const sumP = data.reduce((sum, item) => sum + item.p, 0);
  if(Math.abs(sumP - 1) > 0.001) {
    alert('T·ªïng x√°c su·∫•t ph·∫£i b·∫±ng 1! (Hi·ªán t·∫°i: ' + sumP.toFixed(4) + ')');
    return;
  }
  
  data.sort((a, b) => a.x - b.x);
  
  // ‚úÖ HI·ªÇN TH·ªä B·∫¢NG T√çNH CDF
  let tableHTML = '<table style="margin:10px auto; border-collapse: collapse; width:100%; max-width:600px;">';
  tableHTML += '<tr style="border-bottom: 2px solid #333; background-color:#f8f9fa;"><th style="padding:10px; font-weight:bold;">X</th><th style="padding:10px; font-weight:bold;">P(X)</th><th style="padding:10px; font-weight:bold;">F(X) = P(X‚â§x)</th></tr>';
  
  let cumulative = 0;
  for(let i = 0; i < data.length; i++) {
    cumulative += data[i].p;
    tableHTML += `<tr style="border-bottom: 1px solid #ddd;"><td style="padding:10px; text-align:center;">${data[i].x}</td><td style="padding:10px; text-align:center;">${data[i].p.toFixed(4)}</td><td style="padding:10px; text-align:center; color:#0066cc; font-weight:bold;">${cumulative.toFixed(4)}</td></tr>`;
  }
  tableHTML += '</table>';
  
  // ‚úÖ HI·ªÇN TH·ªä H√ÄM B·∫¨CTHANG F(x) - D·∫†NG TO√ÅN H·ªåC
  let funcHTML = '<div style="background-color:#fff3cd; padding:20px; border-radius:8px; border-left:4px solid #ffc107; margin-top:20px;">';
  funcHTML += '<p style="margin:0 0 15px 0; font-size:16px; font-weight:bold; color:#856404;">üìä H√†m ph√¢n ph·ªëi x√°c su·∫•t F(x):</p>';
  funcHTML += '<div style="background-color:white; padding:20px; border-radius:6px; border:1px solid #ddd; font-family:\'Times New Roman\', serif; font-size:15px; text-align:center; line-height:2.2;">';
  
    
  funcHTML += '<div style="display:inline-block; text-align:left; padding-left:30px; border-left:2px solid #333;">';
  
  // D√≤ng ƒë·∫ßu ti√™n: x ‚â§ x‚ÇÅ
  funcHTML += `<div style="margin:8px 0; font-size:15px;">
    <span style="display:inline-block; width:100px; text-align:right; color:#d63384; font-weight:bold;">0</span>
    <span style="margin-left:30px;">khi x ‚â§ ${data[0].x}</span>
  </div>`;
  
  // C√°c d√≤ng gi·ªØa
  cumulative = 0;
  for(let i = 0; i < data.length; i++) {
    cumulative += data[i].p;
    
    if(i < data.length - 1) {
      // Kho·∫£ng gi·ªØa
      const cdfValue = cumulative.toFixed(4);
      const nextX = data[i + 1].x;
      funcHTML += `<div style="margin:8px 0; font-size:15px;">
        <span style="display:inline-block; width:100px; text-align:right; color:#d63384; font-weight:bold;">${cdfValue}</span>
        <span style="margin-left:30px;">khi ${data[i].x} < x ‚â§ ${nextX}</span>
      </div>`;
    } else {
      // D√≤ng cu·ªëi c√πng: x > x‚Çô
      funcHTML += `<div style="margin:8px 0; font-size:15px;">
        <span style="display:inline-block; width:100px; text-align:right; color:#d63384; font-weight:bold;">1</span>
        <span style="margin-left:30px;">khi x > ${data[i].x}</span>
      </div>`;
    }
  }
  
  funcHTML += '</div>';
  funcHTML += '</div></div>';
  
  document.getElementById('cdfDisplay').innerHTML = tableHTML + funcHTML;
  
  // ‚úÖ T√çNH F(x) N·∫æU NH·∫¨P X (KH√îNG B·∫ÆT BU·ªòC)
  const xValueNum = xValue !== '' ? parseFloat(xValue) : null;
  
  if(xValue !== '' && isNaN(xValueNum)) {
    alert('Gi√° tr·ªã x kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  let calcHTML = '';
  
  if(xValueNum !== null) {
    let result = 0;
    let explanation = '';
    
    if(xValueNum <= data[0].x) {
      result = 0;
      explanation = `V√¨ ${xValueNum} ‚â§ ${data[0].x} (gi√° tr·ªã nh·ªè nh·∫•t c·ªßa X)`;
      calcHTML += `<div style="background-color:#e8f4f8; padding:15px; border-radius:8px; border-left:4px solid #0066cc;">`;
      calcHTML += `<p style="margin:0; font-size:16px;"><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum}) = 0</strong></p>`;
      calcHTML += `<p style="margin:10px 0 0 0; color:#666; font-size:14px;">üìù ${explanation}</p>`;
      calcHTML += `</div>`;
    } else if(xValueNum > data[data.length-1].x) {
      result = 1;
      explanation = `V√¨ ${xValueNum} > ${data[data.length-1].x} (gi√° tr·ªã l·ªõn nh·∫•t c·ªßa X)`;
      calcHTML += `<div style="background-color:#e8f4f8; padding:15px; border-radius:8px; border-left:4px solid #0066cc;">`;
      calcHTML += `<p style="margin:0; font-size:16px;"><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum}) = 1</strong></p>`;
      calcHTML += `<p style="margin:10px 0 0 0; color:#666; font-size:14px;">üìù ${explanation}</p>`;
      calcHTML += `</div>`;
    } else {
      let terms = [];
      let values = [];
      
      for(let i = 0; i < data.length; i++) {
        if(data[i].x <= xValueNum) {
          result += data[i].p;
          terms.push(`P(X=${data[i].x})`);
          values.push(data[i].p.toFixed(4));
        }
      }
      
      calcHTML += `<div style="background-color:#e8f4f8; padding:15px; border-radius:8px; border-left:4px solid #0066cc;">`;
      calcHTML += `<p style="margin:0 0 10px 0; font-size:16px;"><strong>F(${xValueNum}) = P(X ‚â§ ${xValueNum})</strong></p>`;
      calcHTML += `<p style="margin:0 0 10px 0; font-size:14px;">= ${terms.join(' + ')}</p>`;
      calcHTML += `<p style="margin:0 0 10px 0; font-size:14px;">= ${values.join(' + ')}</p>`;
      calcHTML += `<p style="margin:0; font-size:18px; color:#d63384;"><strong>= ${result.toFixed(4)}</strong></p>`;
      calcHTML += `</div>`;
    }
    
    document.getElementById('cdfCalc').innerHTML = calcHTML;
    document.getElementById('resultCalcBox').style.display = 'block';
  } else {
    document.getElementById('resultCalcBox').style.display = 'none';
  }
  
  document.getElementById('resultCdf').style.display = 'block';
});

// ‚úÖ B∆Ø·ªöC 9: H√ÄM RESET
document.getElementById('resetCdf')?.addEventListener('click', function() {
  document.getElementById('cdfInputs').innerHTML = `
    <div class="input-row">
      <span>X:</span>
      <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
      <span>P(X):</span>
      <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
    </div>
    <div class="input-row">
      <span>X:</span>
      <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
      <span>P(X):</span>
      <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
    </div>
  `;
  document.getElementById('cdfXValue').value = '';
  document.getElementById('resultCdf').style.display = 'none';
});



// 7. H√ÄM M·∫¨T ƒê·ªò X√ÅC SU·∫§T (PDF)
      document.getElementById('calculatePdf')?.addEventListener('click', function() {
        const funcStr = document.getElementById('pdfFunction').value;
        const a = parseFloat(document.getElementById('pdfA').value);
        const b = parseFloat(document.getElementById('pdfB').value);
        const x1 = parseFloat(document.getElementById('pdfX1').value);
        const x2 = parseFloat(document.getElementById('pdfX2').value);
        
        if(!funcStr || isNaN(a) || isNaN(b)) {
          alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß h√†m f(x) v√† kho·∫£ng [a, b]!');
          return;
        }
        
        if(a >= b) {
          alert('Ph·∫£i c√≥ a < b!');
          return;
        }
        
        let displayHTML = `<p><strong>H√†m m·∫≠t ƒë·ªô:</strong> f(x) = ${funcStr}</p>`;
        displayHTML += `<p><strong>Kho·∫£ng x√°c ƒë·ªãnh:</strong> [${a}, ${b}]</p>`;
        document.getElementById('pdfDisplay').innerHTML = displayHTML;
        
        if(!isNaN(x1) && !isNaN(x2)) {
          if(x1 > x2) {
            alert('Ph·∫£i c√≥ x‚ÇÅ ‚â§ x‚ÇÇ!');
            return;
          }
          
          const x1Clamped = Math.max(a, x1);
          const x2Clamped = Math.min(b, x2);
          
          let calcHTML = `<p><strong>T√≠nh P(${x1} ‚â§ X ‚â§ ${x2}):</strong></p>`;
          
          if(x2 < a || x1 > b) {
            calcHTML += `<p>Kho·∫£ng [${x1}, ${x2}] n·∫±m ngo√†i [${a}, ${b}]</p>`;
            calcHTML += `<p>X√°c su·∫•t = 0</p>`;
            document.getElementById('pdfCalc').innerHTML = calcHTML;
            document.getElementById('pdfRange').textContent = `${x1} ‚â§ X ‚â§ ${x2}`;
            document.getElementById('finalPdf').textContent = '0';
          } else {
            calcHTML += `<p>P(${x1} ‚â§ X ‚â§ ${x2}) = ‚à´<sub>${x1Clamped}</sub><sup>${x2Clamped}</sup> f(x)dx</p>`;
            calcHTML += `<p>= ‚à´<sub>${x1Clamped}</sub><sup>${x2Clamped}</sup> (${funcStr})dx</p>`;
            
            const n = 1000;
            const h = (x2Clamped - x1Clamped) / n;
            let sum = 0;
            
            try {
              for(let i = 0; i <= n; i++) {
                const x = x1Clamped + i * h;
                const fx = eval(funcStr.replace(/x/g, `(${x})`));
                if(i === 0 || i === n) {
                  sum += fx;
                } else {
                  sum += 2 * fx;
                }
              }
              const result = (h / 2) * sum;
              
              calcHTML += `<p><em>(T√≠nh g·∫ßn ƒë√∫ng b·∫±ng ph∆∞∆°ng ph√°p s·ªë)</em></p>`;
              document.getElementById('pdfCalc').innerHTML = calcHTML;
              document.getElementById('pdfRange').textContent = `${x1} ‚â§ X ‚â§ ${x2}`;
              document.getElementById('finalPdf').textContent = result.toFixed(4);
            } catch(e) {
              alert('L·ªói khi t√≠nh to√°n h√†m! Vui l√≤ng ki·ªÉm tra c√¥ng th·ª©c.');
              return;
            }
          }
        }
        
        document.getElementById('resultPdf').style.display = 'block';
      });
    
      document.getElementById('resetPdf')?.addEventListener('click', function() {
        document.getElementById('pdfFunction').value = '';
        document.getElementById('pdfA').value = '';
        document.getElementById('pdfB').value = '';
        document.getElementById('pdfX1').value = '';
        document.getElementById('pdfX2').value = '';
        document.getElementById('resultPdf').style.display = 'none';
      });
    
      // 8. TRUNG V·ªä
      document.getElementById('addMedianRow')?.addEventListener('click', function() {
        const container = document.getElementById('medianInputs');
        const newRow = document.createElement('div');
        newRow.className = 'input-row';
        newRow.innerHTML = `
          <span>X:</span>
          <input type="number" class="xVal" step="any" placeholder="x">
          <span>P(X):</span>
          <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p">
        `;
        container.appendChild(newRow);
      });
    
      document.getElementById('calculateMedian')?.addEventListener('click', function() {
        const xInputs = document.querySelectorAll('#medianInputs .xVal');
        const pInputs = document.querySelectorAll('#medianInputs .pVal');
        
        let data = [];
        
        for(let i = 0; i < xInputs.length; i++) {
          const x = parseFloat(xInputs[i].value);
          const p = parseFloat(pInputs[i].value);
          if(!isNaN(x) && !isNaN(p)) {
            data.push({x: x, p: p});
          }
        }
        
        if(data.length < 2) {
          alert('Vui l√≤ng nh·∫≠p √≠t nh·∫•t 2 gi√° tr·ªã!');
          return;
        }
        
        const sumP = data.reduce((sum, item) => sum + item.p, 0);
        if(Math.abs(sumP - 1) > 0.01) {
          alert('T·ªïng x√°c su·∫•t ph·∫£i b·∫±ng 1! (Hi·ªán t·∫°i: ' + sumP.toFixed(3) + ')');
          return;
        }
        
        data.sort((a, b) => a.x - b.x);
    
    let cdf = [];
    let cumulative = 0;
    for(let i = 0; i < data.length; i++) {
      cumulative += data[i].p;
      cdf.push({x: data[i].x, p: data[i].p, F: cumulative});
    }
    
    let tableHTML = '<table style="margin:10px auto;"><tr><th>X</th><th>P(X)</th><th>F(X)</th></tr>';
    for(let i = 0; i < cdf.length; i++) {
      tableHTML += `<tr><td>${cdf[i].x}</td><td>${cdf[i].p.toFixed(3)}</td><td>${cdf[i].F.toFixed(3)}</td></tr>`;
    }
    tableHTML += '</table>';
    document.getElementById('medianDisplay').innerHTML = tableHTML;
    
    let median = null;
    let calcHTML = '<p><strong>T√¨m trung v·ªã (Me):</strong></p>';
    calcHTML += '<p>Trung v·ªã l√† gi√° tr·ªã nh·ªè nh·∫•t sao cho F(Me) ‚â• 0.5</p>';
    
    for(let i = 0; i < cdf.length; i++) {
      if(cdf[i].F >= 0.5) {
        median = cdf[i].x;
        calcHTML += `<p>F(${cdf[i].x}) = ${cdf[i].F.toFixed(3)} ‚â• 0.5 ‚úì</p>`;
        break;
      } else {
        calcHTML += `<p>F(${cdf[i].x}) = ${cdf[i].F.toFixed(3)} < 0.5</p>`;
      }
    }
    
    document.getElementById('medianCalc').innerHTML = calcHTML;
    document.getElementById('finalMedian').textContent = median;
    document.getElementById('resultMedian').style.display = 'block';
  });

  document.getElementById('resetMedian')?.addEventListener('click', function() {
    document.getElementById('medianInputs').innerHTML = `
      <div class="input-row">
        <span>X:</span>
        <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
        <span>P(X):</span>
        <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
      </div>
      <div class="input-row">
        <span>X:</span>
        <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
        <span>P(X):</span>
        <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
      </div>
    `;
    document.getElementById('resultMedian').style.display = 'none';
  });

  // 9. M√îMEN TRUNG T√ÇM
  document.getElementById('addMomentRow')?.addEventListener('click', function() {
    const container = document.getElementById('momentInputs');
    const newRow = document.createElement('div');
    newRow.className = 'input-row';
    newRow.innerHTML = `
      <span>X:</span>
      <input type="number" class="xVal" step="any" placeholder="x">
      <span>P(X):</span>
      <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p">
    `;
    container.appendChild(newRow);
  });

  document.getElementById('calculateMoment')?.addEventListener('click', function() {
    const xInputs = document.querySelectorAll('#momentInputs .xVal');
    const pInputs = document.querySelectorAll('#momentInputs .pVal');
    const k = parseInt(document.getElementById('momentK').value);
    
    let data = [];
    
    for(let i = 0; i < xInputs.length; i++) {
      const x = parseFloat(xInputs[i].value);
      const p = parseFloat(pInputs[i].value);
      if(!isNaN(x) && !isNaN(p)) {
        data.push({x: x, p: p});
      }
    }
    
    if(data.length < 2) {
      alert('Vui l√≤ng nh·∫≠p √≠t nh·∫•t 2 gi√° tr·ªã!');
      return;
    }
    
    if(isNaN(k) || k < 1) {
      alert('Vui l√≤ng nh·∫≠p b·∫≠c m√¥men k ‚â• 1!');
      return;
    }
    
    const sumP = data.reduce((sum, item) => sum + item.p, 0);
    if(Math.abs(sumP - 1) > 0.01) {
      alert('T·ªïng x√°c su·∫•t ph·∫£i b·∫±ng 1! (Hi·ªán t·∫°i: ' + sumP.toFixed(3) + ')');
      return;
    }
    
    let tableHTML = '<table style="margin:10px auto;"><tr><th>X</th><th>P(X)</th></tr>';
    for(let i = 0; i < data.length; i++) {
      tableHTML += `<tr><td>${data[i].x}</td><td>${data[i].p.toFixed(3)}</td></tr>`;
    }
    tableHTML += '</table>';
    document.getElementById('momentDisplay').innerHTML = tableHTML;
    
    let expectation = 0;
    for(let i = 0; i < data.length; i++) {
      expectation += data[i].x * data[i].p;
    }
    
    document.getElementById('momentExpect').textContent = expectation.toFixed(4);
    
    let moment = 0;
    let calcHTML = `<p><strong>T√≠nh m√¥men trung t√¢m b·∫≠c ${k}:</strong></p>`;
    calcHTML += `<p>Œº<sub>${k}</sub> = E[(X - E(X))<sup>${k}</sup>]</p>`;
    calcHTML += `<p>= E[(X - ${expectation.toFixed(4)})<sup>${k}</sup>]</p>`;
    calcHTML += '<p>= ';
    
    let terms = [];
    for(let i = 0; i < data.length; i++) {
      const deviation = data[i].x - expectation;
      const powered = Math.pow(deviation, k);
      moment += powered * data[i].p;
      terms.push(`(${data[i].x} - ${expectation.toFixed(4)})<sup>${k}</sup> √ó ${data[i].p.toFixed(3)}`);
    }
    
    calcHTML += terms.join(' + ') + '</p>';
    calcHTML += '<p>= ';
    
    let terms2 = [];
    for(let i = 0; i < data.length; i++) {
      const deviation = data[i].x - expectation;
      const powered = Math.pow(deviation, k);
      terms2.push(`${powered.toFixed(4)} √ó ${data[i].p.toFixed(3)}`);
    }
    
    calcHTML += terms2.join(' + ') + '</p>';
    calcHTML += `<p>= ${moment.toFixed(4)}</p>`;
    
    if(k === 2) {
      calcHTML += `<p><em>L∆∞u √Ω: Œº‚ÇÇ ch√≠nh l√† ph∆∞∆°ng sai Var(X)</em></p>`;
    } else if(k === 1) {
      calcHTML += `<p><em>L∆∞u √Ω: Œº‚ÇÅ lu√¥n b·∫±ng 0</em></p>`;
    }
    
    document.getElementById('momentCalc').innerHTML = calcHTML;
    document.getElementById('momentKShow').textContent = k;
    document.getElementById('finalMoment').textContent = moment.toFixed(4);
    document.getElementById('resultMoment').style.display = 'block';
  });

  document.getElementById('resetMoment')?.addEventListener('click', function() {
    document.getElementById('momentInputs').innerHTML = `
      <div class="input-row">
        <span>X:</span>
        <input type="number" class="xVal" step="any" placeholder="x‚ÇÅ">
        <span>P(X):</span>
        <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÅ">
      </div>
      <div class="input-row">
        <span>X:</span>
        <input type="number" class="xVal" step="any" placeholder="x‚ÇÇ">
        <span>P(X):</span>
        <input type="number" class="pVal" min="0" max="1" step="0.01" placeholder="p‚ÇÇ">
      </div>
    `;
    document.getElementById('momentK').value = '2';
    document.getElementById('resultMoment').style.display = 'none';
  });

  // 10. PH√ÇN PH·ªêI ƒê·ªÄU
  document.getElementById('calculateUniform')?.addEventListener('click', function() {
    const a = parseFloat(document.getElementById('uniformA').value);
    const b = parseFloat(document.getElementById('uniformB').value);
    const x1 = parseFloat(document.getElementById('uniformX1').value);
    const x2 = parseFloat(document.getElementById('uniformX2').value);
    
    if(isNaN(a) || isNaN(b)) {
      alert('Vui l√≤ng nh·∫≠p kho·∫£ng [a, b]!');
      return;
    }
    
    if(a >= b) {
      alert('Ph·∫£i c√≥ a < b!');
      return;
    }
    
    let displayHTML = `<p><strong>Kho·∫£ng:</strong> [${a}, ${b}]</p>`;
    displayHTML += `<p><strong>ƒê·ªô d√†i:</strong> b - a = ${b} - ${a} = ${(b-a).toFixed(4)}</p>`;
    document.getElementById('uniformDisplay').innerHTML = displayHTML;
    
    const pdf = 1 / (b - a);
    const expectation = (a + b) / 2;
    const variance = Math.pow(b - a, 2) / 12;
    const stdDev = Math.sqrt(variance);
    
    document.getElementById('uniformPdf').textContent = `1/(${b} - ${a}) = ${pdf.toFixed(4)}`;
    document.getElementById('uniformExpect').textContent = `(${a} + ${b})/2 = ${expectation.toFixed(4)}`;
    document.getElementById('uniformVar').textContent = `(${b} - ${a})¬≤/12 = ${variance.toFixed(4)}`;
    document.getElementById('uniformStd').textContent = `‚àö${variance.toFixed(4)} = ${stdDev.toFixed(4)}`;
    
    if(!isNaN(x1) && !isNaN(x2)) {
      if(x1 > x2) {
        alert('Ph·∫£i c√≥ x‚ÇÅ ‚â§ x‚ÇÇ!');
        return;
      }
      
      const x1Clamped = Math.max(a, Math.min(b, x1));
      const x2Clamped = Math.max(a, Math.min(b, x2));
      
      let prob = 0;
      let calcHTML = `<p><strong>T√≠nh P(${x1} ‚â§ X ‚â§ ${x2}):</strong></p>`;
      
      if(x2 < a || x1 > b) {
        calcHTML += `<p>Kho·∫£ng [${x1}, ${x2}] n·∫±m ngo√†i [${a}, ${b}]</p>`;
        calcHTML += `<p>X√°c su·∫•t = 0</p>`;
        prob = 0;
      } else {
        const effectiveLength = x2Clamped - x1Clamped;
        prob = effectiveLength / (b - a);
        
        calcHTML += `<p>Kho·∫£ng h·ª£p l·ªá: [${x1Clamped}, ${x2Clamped}]</p>`;
        calcHTML += `<p>P(${x1Clamped} ‚â§ X ‚â§ ${x2Clamped}) = (${x2Clamped} - ${x1Clamped})/(${b} - ${a})</p>`;
        calcHTML += `<p>= ${effectiveLength.toFixed(4)}/${(b-a).toFixed(4)}</p>`;
        calcHTML += `<p>= ${prob.toFixed(4)}</p>`;
      }
      
      document.getElementById('uniformCalc').innerHTML = calcHTML;
      document.getElementById('uniformRange').textContent = `${x1} ‚â§ X ‚â§ ${x2}`;
      document.getElementById('finalUniform').textContent = prob.toFixed(4);
      document.getElementById('uniformProbResult').style.display = 'block';
    }
    
    document.getElementById('resultUniform').style.display = 'block';
  });

  document.getElementById('resetUniform')?.addEventListener('click', function() {
    document.getElementById('uniformA').value = '';
    document.getElementById('uniformB').value = '';
    document.getElementById('uniformX1').value = '';
    document.getElementById('uniformX2').value = '';
    document.getElementById('resultUniform').style.display = 'none';
    document.getElementById('uniformProbResult').style.display = 'none';
  });

  // ===== CH∆Ø∆†NG 3: C√ÅC PH√ÇN PH·ªêI X√ÅC SU·∫§T =====

  // 11. PH√ÇN PH·ªêI NH·ªä TH·ª®C
  const binomialType = document.getElementById('binomialType');
  if(binomialType) {
    binomialType.addEventListener('change', function() {
      const type = this.value;
      const kRow = document.getElementById('binomialKRow');
      const rangeRow = document.getElementById('binomialRangeRow');
      
      if(type === 'range') {
        kRow.style.display = 'none';
        rangeRow.style.display = 'flex';
      } else {
        kRow.style.display = 'flex';
        rangeRow.style.display = 'none';
      }
    });
  }

  const calculateBinomial = document.getElementById('calculateBinomial');
  if(calculateBinomial) {
    calculateBinomial.addEventListener('click', function() {
      const n = parseInt(document.getElementById('binomialN').value);
      const p = parseFloat(document.getElementById('binomialP').value);
      const type = document.getElementById('binomialType').value;
      
      if(isNaN(n) || isNaN(p)) {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß n v√† p!');
        return;
      }
      
      if(n < 1) {
        alert('n ph·∫£i ‚â• 1!');
        return;
      }
      
      if(p < 0 || p > 1) {
        alert('p ph·∫£i trong kho·∫£ng [0, 1]!');
        return;
      }
      
      let displayHTML = `<p><strong>Ph√¢n ph·ªëi:</strong> X ~ B(${n}, ${p})</p>`;
      displayHTML += `<p><strong>S·ªë l·∫ßn th·ª≠:</strong> n = ${n}</p>`;
      displayHTML += `<p><strong>X√°c su·∫•t th√†nh c√¥ng:</strong> p = ${p}</p>`;
      displayHTML += `<p><strong>X√°c su·∫•t th·∫•t b·∫°i:</strong> q = ${(1-p).toFixed(3)}</p>`;
      document.getElementById('binomialDisplay').innerHTML = displayHTML;
      
      const expectation = n * p;
      const variance = n * p * (1 - p);
      const stdDev = Math.sqrt(variance);
      
      document.getElementById('binomialExpect').textContent = expectation.toFixed(4);
      document.getElementById('binomialVar').textContent = variance.toFixed(4);
      document.getElementById('binomialStd').textContent = stdDev.toFixed(4);
      
      let result = 0;
      let calcHTML = '';
      let question = '';
      
      if(type === 'range') {
        const k1 = parseInt(document.getElementById('binomialK1').value);
        const k2 = parseInt(document.getElementById('binomialK2').value);
        
        if(isNaN(k1) || isNaN(k2)) {
          alert('Vui l√≤ng nh·∫≠p k‚ÇÅ v√† k‚ÇÇ!');
          return;
        }
        
        if(k1 > k2) {
          alert('Ph·∫£i c√≥ k‚ÇÅ ‚â§ k‚ÇÇ!');
          return;
        }
        
        if(k1 < 0 || k2 > n) {
          alert(`k ph·∫£i trong kho·∫£ng [0, ${n}]!`);
          return;
        }
        
        question = `P(${k1} ‚â§ X ‚â§ ${k2})`;
        calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
        calcHTML += `<p>= P(X=${k1}) + P(X=${k1+1}) + ... + P(X=${k2})</p>`;
        
        for(let k = k1; k <= k2; k++) {
          const prob = binomialProbability(n, k, p);
          result += prob;
          calcHTML += `<p>P(X=${k}) = C<sub>${n}</sub><sup>${k}</sup> √ó ${p}<sup>${k}</sup> √ó ${(1-p).toFixed(3)}<sup>${n-k}</sup> = ${prob.toFixed(6)}</p>`;
        }
        
      } else {
        const k = parseInt(document.getElementById('binomialK').value);
        
        if(isNaN(k)) {
          alert('Vui l√≤ng nh·∫≠p k!');
          return;
        }
        
        if(k < 0 || k > n) {
          alert(`k ph·∫£i trong kho·∫£ng [0, ${n}]!`);
          return;
        }
        
        if(type === 'exact') {
          question = `P(X = ${k})`;
          result = binomialProbability(n, k, p);
          calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
          calcHTML += `<p>P(X=${k}) = C<sub>${n}</sub><sup>${k}</sup> √ó p<sup>${k}</sup> √ó q<sup>${n-k}</sup></p>`;
          calcHTML += `<p>= ${combination(n, k)} √ó ${p}<sup>${k}</sup> √ó ${(1-p).toFixed(3)}<sup>${n-k}</sup></p>`;
          calcHTML += `<p>= ${combination(n, k)} √ó ${Math.pow(p, k).toFixed(6)} √ó ${Math.pow(1-p, n-k).toFixed(6)}</p>`;
          
        } else if(type === 'less') {
          question = `P(X ‚â§ ${k})`;
          calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
          calcHTML += `<p>= P(X=0) + P(X=1) + ... + P(X=${k})</p>`;
          for(let i = 0; i <= k; i++) {
            const prob = binomialProbability(n, i, p);
            result += prob;
            if(i <= 3 || i === k) {
              calcHTML += `<p>P(X=${i}) = ${prob.toFixed(6)}</p>`;
            } else if(i === 4) {
              calcHTML += `<p>...</p>`;
            }
          }
          
        } else if(type === 'greater') {
          question = `P(X ‚â• ${k})`;
          calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
          calcHTML += `<p>= P(X=${k}) + P(X=${k+1}) + ... + P(X=${n})</p>`;
          for(let i = k; i <= n; i++) {
            const prob = binomialProbability(n, i, p);
            result += prob;
            if(i <= k+2 || i === n) {
              calcHTML += `<p>P(X=${i}) = ${prob.toFixed(6)}</p>`;
            } else if(i === k+3) {
              calcHTML += `<p>...</p>`;
            }
          }
        }
      }
      
      document.getElementById('binomialCalc').innerHTML = calcHTML;
      document.getElementById('binomialQuestion').textContent = question;
      document.getElementById('finalBinomial').textContent = result.toFixed(6);
      document.getElementById('resultBinomial').style.display = 'block';
    });
  }

  const resetBinomial = document.getElementById('resetBinomial');
  if(resetBinomial) {
    resetBinomial.addEventListener('click', function() {
      document.getElementById('binomialN').value = '';
      document.getElementById('binomialP').value = '';
      document.getElementById('binomialK').value = '';
      document.getElementById('binomialK1').value = '';
      document.getElementById('binomialK2').value = '';
      document.getElementById('binomialType').value = 'exact';
      document.getElementById('binomialKRow').style.display = 'flex';
      document.getElementById('binomialRangeRow').style.display = 'none';
      document.getElementById('resultBinomial').style.display = 'none';
    });
  }

  // 12. PH√ÇN PH·ªêI SI√äU B·ªòI
  const calculateHyper = document.getElementById('calculateHyper');
  if(calculateHyper) {
    calculateHyper.addEventListener('click', function() {
      const N = parseInt(document.getElementById('hyperN').value);
      const M = parseInt(document.getElementById('hyperM').value);
      const n = parseInt(document.getElementById('hyperSmallN').value);
      const k = parseInt(document.getElementById('hyperK').value);
      
      if(isNaN(N) || isNaN(M) || isNaN(n) || isNaN(k)) {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng s·ªë!');
        return;
      }
      
      if(M > N) {
        alert('M kh√¥ng th·ªÉ l·ªõn h∆°n N!');
        return;
      }
      
      if(n > N) {
        alert('n kh√¥ng th·ªÉ l·ªõn h∆°n N!');
        return;
      }
      
      const kMin = Math.max(0, n - N + M);
      const kMax = Math.min(n, M);
      
      if(k < kMin || k > kMax) {
        alert(`k ph·∫£i trong kho·∫£ng [${kMin}, ${kMax}]!`);
        return;
      }
      
      let displayHTML = `<p><strong>Ph√¢n ph·ªëi:</strong> X ~ H(${N}, ${M}, ${n})</p>`;
      displayHTML += `<p><strong>T·ªïng s·ªë ph·∫ßn t·ª≠:</strong> N = ${N}</p>`;
      displayHTML += `<p><strong>S·ªë ph·∫ßn t·ª≠ lo·∫°i A:</strong> M = ${M}</p>`;
      displayHTML += `<p><strong>S·ªë ph·∫ßn t·ª≠ lo·∫°i B:</strong> N - M = ${N - M}</p>`;
      displayHTML += `<p><strong>S·ªë l·∫ßn r√∫t:</strong> n = ${n}</p>`;
      displayHTML += `<p><strong>T·ª∑ l·ªá lo·∫°i A:</strong> p = M/N = ${(M/N).toFixed(4)}</p>`;
      document.getElementById('hyperDisplay').innerHTML = displayHTML;
      
      const expectation = n * (M / N);
      const variance = n * (M / N) * (1 - M / N) * ((N - n) / (N - 1));
      const stdDev = Math.sqrt(variance);
      
      document.getElementById('hyperExpect').textContent = expectation.toFixed(4);
      document.getElementById('hyperVar').textContent = variance.toFixed(4);
      document.getElementById('hyperStd').textContent = stdDev.toFixed(4);
      
      const cMk = combination(M, k);
      const cNMnk = combination(N - M, n - k);
      const cNn = combination(N, n);
      const probability = (cMk * cNMnk) / cNn;
      
      let calcHTML = `<p><strong>C√¥ng th·ª©c:</strong></p>`;
      calcHTML += `<p>P(X = ${k}) = [C<sub>${M}</sub><sup>${k}</sup> √ó C<sub>${N-M}</sub><sup>${n-k}</sup>] / C<sub>${N}</sub><sup>${n}</sup></p>`;
      calcHTML += `<p><strong>T√≠nh to√°n:</strong></p>`;
      calcHTML += `<p>C<sub>${M}</sub><sup>${k}</sup> = ${cMk}</p>`;
      calcHTML += `<p>C<sub>${N-M}</sub><sup>${n-k}</sup> = ${cNMnk}</p>`;
      calcHTML += `<p>C<sub>${N}</sub><sup>${n}</sup> = ${cNn}</p>`;
      calcHTML += `<p>P(X = ${k}) = (${cMk} √ó ${cNMnk}) / ${cNn}</p>`;
      calcHTML += `<p>= ${cMk * cNMnk} / ${cNn}</p>`;
      calcHTML += `<p>= ${probability.toFixed(6)}</p>`;
      
      document.getElementById('hyperCalc').innerHTML = calcHTML;
      document.getElementById('hyperKShow').textContent = k;
      document.getElementById('finalHyper').textContent = probability.toFixed(6);
      document.getElementById('resultHyper').style.display = 'block';
    });
  }

  const resetHyper = document.getElementById('resetHyper');
  if(resetHyper) {
    resetHyper.addEventListener('click', function() {
      document.getElementById('hyperN').value = '';
      document.getElementById('hyperM').value = '';
      document.getElementById('hyperSmallN').value = '';
      document.getElementById('hyperK').value = '';
      document.getElementById('resultHyper').style.display = 'none';
    });
  }

  // 13. PH√ÇN PH·ªêI POISSON
  const calculatePoisson = document.getElementById('calculatePoisson');
  if(calculatePoisson) {
    calculatePoisson.addEventListener('click', function() {
      const lambda = parseFloat(document.getElementById('poissonLambda').value);
      const k = parseInt(document.getElementById('poissonK').value);
      const type = document.getElementById('poissonType').value;
      
      if(isNaN(lambda) || isNaN(k)) {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß Œª v√† k!');
        return;
      }
      
      if(lambda <= 0) {
        alert('Œª ph·∫£i > 0!');
        return;
      }
      
      if(k < 0) {
        alert('k ph·∫£i ‚â• 0!');
        return;
      }
      
      let displayHTML = `<p><strong>Ph√¢n ph·ªëi:</strong> X ~ Poisson(${lambda})</p>`;
      displayHTML += `<p><strong>Tham s·ªë:</strong> Œª = ${lambda}</p>`;
      displayHTML += `<p><strong>√ù nghƒ©a:</strong> Trung b√¨nh ${lambda} l·∫ßn x·∫£y ra</p>`;
      document.getElementById('poissonDisplay').innerHTML = displayHTML;
      
      document.getElementById('poissonExpect').textContent = lambda.toFixed(4);
      document.getElementById('poissonVar').textContent = lambda.toFixed(4);
      document.getElementById('poissonStd').textContent = Math.sqrt(lambda).toFixed(4);
      
      let result = 0;
      let calcHTML = '';
      let question = '';
      
      if(type === 'exact') {
        question = `P(X = ${k})`;
        result = poissonProbability(lambda, k);
        calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
        calcHTML += `<p>P(X=${k}) = (Œª<sup>${k}</sup> √ó e<sup>-Œª</sup>) / ${k}!</p>`;
        calcHTML += `<p>= (${lambda}<sup>${k}</sup> √ó e<sup>-${lambda}</sup>) / ${factorial(k)}</p>`;
        calcHTML += `<p>= (${Math.pow(lambda, k).toFixed(6)} √ó ${Math.exp(-lambda).toFixed(6)}) / ${factorial(k)}</p>`;
        calcHTML += `<p>= ${result.toFixed(6)}</p>`;
        
      } else if(type === 'less') {
        question = `P(X ‚â§ ${k})`;
        calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
        calcHTML += `<p>= P(X=0) + P(X=1) + ... + P(X=${k})</p>`;
        for(let i = 0; i <= k; i++) {
          const prob = poissonProbability(lambda, i);
          result += prob;
          if(i <= 3 || i === k) {
            calcHTML += `<p>P(X=${i}) = ${prob.toFixed(6)}</p>`;
          } else if(i === 4) {
            calcHTML += `<p>...</p>`;
          }
        }
        calcHTML += `<p><strong>T·ªïng:</strong> ${result.toFixed(6)}</p>`;
        
      } else if(type === 'greater') {
        question = `P(X ‚â• ${k})`;
        calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
        
        let probLess = 0;
        for(let i = 0; i < k; i++) {
          probLess += poissonProbability(lambda, i);
        }
        result = 1 - probLess;
        
        calcHTML += `<p>= 1 - P(X < ${k})</p>`;
        calcHTML += `<p>= 1 - [P(X=0) + P(X=1) + ... + P(X=${k-1})]</p>`;
        calcHTML += `<p>= 1 - ${probLess.toFixed(6)}</p>`;
        calcHTML += `<p>= ${result.toFixed(6)}</p>`;
      }
      
      document.getElementById('poissonCalc').innerHTML = calcHTML;
      document.getElementById('poissonQuestion').textContent = question;
      document.getElementById('finalPoisson').textContent = result.toFixed(6);
      document.getElementById('resultPoisson').style.display = 'block';
    });
  }

  const resetPoisson = document.getElementById('resetPoisson');
  if(resetPoisson) {
    resetPoisson.addEventListener('click', function() {
      document.getElementById('poissonLambda').value = '';
      document.getElementById('poissonK').value = '';
      document.getElementById('poissonType').value = 'exact';
      document.getElementById('resultPoisson').style.display = 'none';
    });
  }

  // 14. PH√ÇN PH·ªêI CHU·∫®N
  const normalType = document.getElementById('normalType');
  if(normalType) {
    normalType.addEventListener('change', function() {
      const type = this.value;
      const xRow = document.getElementById('normalXRow');
      const rangeRow = document.getElementById('normalRangeRow');
      
      if(type === 'between') {
        xRow.style.display = 'none';
        rangeRow.style.display = 'flex';
      } else {
        xRow.style.display = 'flex';
        rangeRow.style.display = 'none';
      }
    });
  }
  

    
  const calculateNormal = document.getElementById('calculateNormal');
  if(calculateNormal) {
    calculateNormal.addEventListener('click', function() {
      const mu = parseFloat(document.getElementById('normalMu').value);
      const sigma = parseFloat(document.getElementById('normalSigma').value);
      const type = document.getElementById('normalType').value;
      
      if(isNaN(mu) || isNaN(sigma)) {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß Œº v√† œÉ!');
        return;
      }
      
      if(sigma <= 0) {
        alert('œÉ ph·∫£i > 0!');
        return;
      }
      
      let displayHTML = `<p><strong>Ph√¢n ph·ªëi:</strong> X ~ N(${mu}, ${sigma}¬≤)</p>`;
      displayHTML += `<p><strong>K·ª≥ v·ªçng:</strong> Œº = ${mu}</p>`;
      displayHTML += `<p><strong>ƒê·ªô l·ªách chu·∫©n:</strong> œÉ = ${sigma}</p>`;
      displayHTML += `<p><strong>Ph∆∞∆°ng sai:</strong> œÉ¬≤ = ${(sigma * sigma).toFixed(4)}</p>`;
      document.getElementById('normalDisplay').innerHTML = displayHTML;
      
      let result = 0;
      let calcHTML = '';
      let question = '';
      let standardizeHTML = '';
      
      if(type === 'between') {
        const x1 = parseFloat(document.getElementById('normalX1').value);
        const x2 = parseFloat(document.getElementById('normalX2').value);
        
        if(isNaN(x1) || isNaN(x2)) {
          alert('Vui l√≤ng nh·∫≠p x‚ÇÅ v√† x‚ÇÇ!');
          return;
        }
        
        if(x1 > x2) {
          alert('Ph·∫£i c√≥ x‚ÇÅ ‚â§ x‚ÇÇ!');
          return;
        }
        
        const z1 = (x1 - mu) / sigma;
        const z2 = (x2 - mu) / sigma;
        
        result = normalCDF(z2) - normalCDF(z1);
        question = `P(${x1} ‚â§ X ‚â§ ${x2})`;
        
        standardizeHTML = `<p><strong>Chu·∫©n h√≥a:</strong></p>`;
        standardizeHTML += `<p>Z‚ÇÅ = (${x1} - ${mu}) / ${sigma} = ${z1.toFixed(4)}</p>`;
        standardizeHTML += `<p>Z‚ÇÇ = (${x2} - ${mu}) / ${sigma} = ${z2.toFixed(4)}</p>`;
        
        calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
        calcHTML += `<p>= P(${z1.toFixed(4)} ‚â§ Z ‚â§ ${z2.toFixed(4)})</p>`;
        calcHTML += `<p>= Œ¶(${z2.toFixed(4)}) - Œ¶(${z1.toFixed(4)})</p>`;
        calcHTML += `<p>= ${normalCDF(z2).toFixed(6)} - ${normalCDF(z1).toFixed(6)}</p>`;
        calcHTML += `<p>= ${result.toFixed(6)}</p>`;
        
      } else {
        const x = parseFloat(document.getElementById('normalX').value);
        
        if(isNaN(x)) {
          alert('Vui l√≤ng nh·∫≠p x!');
          return;
        }
        
        const z = (x - mu) / sigma;
        
        standardizeHTML = `<p><strong>Chu·∫©n h√≥a:</strong></p>`;
        standardizeHTML += `<p>Z = (${x} - ${mu}) / ${sigma} = ${z.toFixed(4)}</p>`;
        
        if(type === 'less') {
          result = normalCDF(z);
          question = `P(X ‚â§ ${x})`;
          
          calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
          calcHTML += `<p>= P(Z ‚â§ ${z.toFixed(4)})</p>`;
          calcHTML += `<p>= Œ¶(${z.toFixed(4)})</p>`;
          calcHTML += `<p>= ${result.toFixed(6)}</p>`;
          
        } else if(type === 'greater') {
          result = 1 - normalCDF(z);
          question = `P(X ‚â• ${x})`;
          
          calcHTML = `<p><strong>T√≠nh ${question}:</strong></p>`;
          calcHTML += `<p>= P(Z ‚â• ${z.toFixed(4)})</p>`;
          calcHTML += `<p>= 1 - Œ¶(${z.toFixed(4)})</p>`;
          calcHTML += `<p>= 1 - ${normalCDF(z).toFixed(6)}</p>`;
          calcHTML += `<p>= ${result.toFixed(6)}</p>`;
        }
      }
      
      document.getElementById('normalStandardize').innerHTML = standardizeHTML;
      document.getElementById('normalCalc').innerHTML = calcHTML;
      document.getElementById('normalQuestion').textContent = question;
      document.getElementById('finalNormal').textContent = result.toFixed(6);
      document.getElementById('resultNormal').style.display = 'block';
    });
  }

  const resetNormal = document.getElementById('resetNormal');
  if(resetNormal) {
    resetNormal.addEventListener('click', function() {
      document.getElementById('normalMu').value = '';
      document.getElementById('normalSigma').value = '';
      document.getElementById('normalX').value = '';
      document.getElementById('normalX1').value = '';
      document.getElementById('normalX2').value = '';
      document.getElementById('normalType').value = 'less';
      document.getElementById('normalXRow').style.display = 'flex';
      document.getElementById('normalRangeRow').style.display = 'none';
      document.getElementById('resultNormal').style.display = 'none';
    });
  }


}); // K·∫æT TH√öC DOMContentLoaded



// ============================================
// C√ÅC H√ÄM GLOBAL (NGO√ÄI DOMContentLoaded)
// ============================================

// ========== H√ÄM TRA B·∫¢NG T-STUDENT ==========
function getTValue(alpha, df) {
  const tTable = {
    1: {0.05: 6.314, 0.025: 12.706, 0.01: 31.821, 0.005: 63.657},
    2: {0.05: 2.920, 0.025: 4.303, 0.01: 6.965, 0.005: 9.925},
    3: {0.05: 2.353, 0.025: 3.182, 0.01: 4.541, 0.005: 5.841},
    4: {0.05: 2.132, 0.025: 2.776, 0.01: 3.747, 0.005: 4.604},
    5: {0.05: 2.015, 0.025: 2.571, 0.01: 3.365, 0.005: 4.032},
    6: {0.05: 1.943, 0.025: 2.447, 0.01: 3.143, 0.005: 3.707},
    7: {0.05: 1.895, 0.025: 2.365, 0.01: 2.998, 0.005: 3.499},
    8: {0.05: 1.860, 0.025: 2.306, 0.01: 2.896, 0.005: 3.355},
    9: {0.05: 1.833, 0.025: 2.262, 0.01: 2.821, 0.005: 3.250},
    10: {0.05: 1.812, 0.025: 2.228, 0.01: 2.764, 0.005: 3.169},
    15: {0.05: 1.753, 0.025: 2.131, 0.01: 2.602, 0.005: 2.947},
    20: {0.05: 1.725, 0.025: 2.086, 0.01: 2.528, 0.005: 2.845},
    25: {0.05: 1.708, 0.025: 2.060, 0.01: 2.485, 0.005: 2.787},
    30: {0.05: 1.697, 0.025: 2.042, 0.01: 2.457, 0.005: 2.750}
  };
  
  if (tTable[df] && tTable[df][alpha]) {
    return tTable[df][alpha];
  }
  
  if (df > 30) {
    return getZValue(alpha);
  }
  
  const dfKeys = Object.keys(tTable).map(Number).sort((a, b) => a - b);
  for (let i = 0; i < dfKeys.length - 1; i++) {
    if (df >= dfKeys[i] && df <= dfKeys[i + 1]) {
      const df1 = dfKeys[i];
      const df2 = dfKeys[i + 1];
      const t1 = tTable[df1][alpha] || getZValue(alpha);
      const t2 = tTable[df2][alpha] || getZValue(alpha);
      return t1 + (t2 - t1) * (df - df1) / (df2 - df1);
    }
  }
  
  return getZValue(alpha);
}


// ========== ƒê√É BI·∫æT œÉ¬≤ - ƒê·ªêI X·ª®NG ==========
function calculateCI1KnownTwoSided() {
  const mean = parseFloat(document.getElementById('ci1-known-ts-mean').value);
  const sigma = parseFloat(document.getElementById('ci1-known-ts-sigma').value);
  const n = parseInt(document.getElementById('ci1-known-ts-n').value);
  const alpha = parseFloat(document.getElementById('ci1-known-ts-alpha').value);
  
  if (isNaN(mean) || isNaN(sigma) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (sigma <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!\n- œÉ > 0\n- n > 0\n- 0 < Œ± < 1');
    return;
  }
  
  const z = getZValue(alpha / 2);
  const margin = z * (sigma / Math.sqrt(n));
  const lower = mean - margin;
  const upper = mean + margin;
  
  document.getElementById('result-ci1-known-ts').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}%:</strong></p>
      <p class="result-value">[${lower.toFixed(4)}, ${upper.toFixed(4)}]</p>
      <p><strong>Gi√° tr·ªã Z<sub>Œ±/2</sub>:</strong> ${z.toFixed(4)}</p>
      <p><strong>Bi√™n sai s·ªë:</strong> ¬±${margin.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> V·ªõi ƒë·ªô tin c·∫≠y ${(1-alpha)*100}%, k·ª≥ v·ªçng th·ª±c n·∫±m trong [${lower.toFixed(2)}, ${upper.toFixed(2)}]
      </p>
    </div>
  `;
}

// ========== ƒê√É BI·∫æT œÉ¬≤ - B√äN TR√ÅI ==========
function calculateCI1KnownLeft() {
  const mean = parseFloat(document.getElementById('ci1-known-left-mean').value);
  const sigma = parseFloat(document.getElementById('ci1-known-left-sigma').value);
  const n = parseInt(document.getElementById('ci1-known-left-n').value);
  const alpha = parseFloat(document.getElementById('ci1-known-left-alpha').value);
  
  if (isNaN(mean) || isNaN(sigma) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (sigma <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const z = getZValue(alpha);
  const upper = mean + z * (sigma / Math.sqrt(n));
  
  document.getElementById('result-ci1-known-left').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}% (T·ªëi ƒëa):</strong></p>
      <p class="result-value">(-‚àû, ${upper.toFixed(4)}]</p>
      <p><strong>Gi√° tr·ªã Z<sub>Œ±</sub>:</strong> ${z.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #fff3e0; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> K·ª≥ v·ªçng th·ª±c <strong>kh√¥ng v∆∞·ª£t qu√° ${upper.toFixed(2)}</strong>
      </p>
    </div>
  `;
}

// ========== ƒê√É BI·∫æT œÉ¬≤ - B√äN PH·∫¢I ==========
function calculateCI1KnownRight() {
  const mean = parseFloat(document.getElementById('ci1-known-right-mean').value);
  const sigma = parseFloat(document.getElementById('ci1-known-right-sigma').value);
  const n = parseInt(document.getElementById('ci1-known-right-n').value);
  const alpha = parseFloat(document.getElementById('ci1-known-right-alpha').value);
  
  if (isNaN(mean) || isNaN(sigma) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (sigma <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const z = getZValue(alpha);
  const lower = mean - z * (sigma / Math.sqrt(n));
  
  document.getElementById('result-ci1-known-right').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}% (T·ªëi thi·ªÉu):</strong></p>
      <p class="result-value">[${lower.toFixed(4)}, +‚àû)</p>
      <p><strong>Gi√° tr·ªã Z<sub>Œ±</sub>:</strong> ${z.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #e8f5e9; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> K·ª≥ v·ªçng th·ª±c <strong>√≠t nh·∫•t l√† ${lower.toFixed(2)}</strong>
      </p>
    </div>
  `;
}

// ========== CH∆ØA BI·∫æT œÉ¬≤ - ƒê·ªêI X·ª®NG ==========
function calculateCI1UnknownTwoSided() {
  const mean = parseFloat(document.getElementById('ci1-unknown-ts-mean').value);
  const s = parseFloat(document.getElementById('ci1-unknown-ts-s').value);
  const n = parseInt(document.getElementById('ci1-unknown-ts-n').value);
  const alpha = parseFloat(document.getElementById('ci1-unknown-ts-alpha').value);
  
  if (isNaN(mean) || isNaN(s) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (s <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const df = n - 1;
  const t = getTValue(alpha / 2, df);
  const margin = t * (s / Math.sqrt(n));
  const lower = mean - margin;
  const upper = mean + margin;
  
  document.getElementById('result-ci1-unknown-ts').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}%:</strong></p>
      <p class="result-value">[${lower.toFixed(4)}, ${upper.toFixed(4)}]</p>
      <p><strong>B·∫≠c t·ª± do:</strong> df = ${df}</p>
      <p><strong>Gi√° tr·ªã t<sub>Œ±/2</sub>(${df}):</strong> ${t.toFixed(4)}</p>
      <p><strong>Bi√™n sai s·ªë:</strong> ¬±${margin.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> V·ªõi ƒë·ªô tin c·∫≠y ${(1-alpha)*100}%, k·ª≥ v·ªçng th·ª±c n·∫±m trong [${lower.toFixed(2)}, ${upper.toFixed(2)}]
      </p>
    </div>
  `;
}

// ========== CH∆ØA BI·∫æT œÉ¬≤ - B√äN TR√ÅI ==========
function calculateCI1UnknownLeft() {
  const mean = parseFloat(document.getElementById('ci1-unknown-left-mean').value);
  const s = parseFloat(document.getElementById('ci1-unknown-left-s').value);
  const n = parseInt(document.getElementById('ci1-unknown-left-n').value);
  const alpha = parseFloat(document.getElementById('ci1-unknown-left-alpha').value);
  
  if (isNaN(mean) || isNaN(s) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (s <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const df = n - 1;
  const t = getTValue(alpha, df);
  const upper = mean + t * (s / Math.sqrt(n));
  
  document.getElementById('result-ci1-unknown-left').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}% (T·ªëi ƒëa):</strong></p>
      <p class="result-value">(-‚àû, ${upper.toFixed(4)}]</p>
      <p><strong>Gi√° tr·ªã t<sub>Œ±</sub>(${df}):</strong> ${t.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #fff3e0; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> K·ª≥ v·ªçng th·ª±c <strong>kh√¥ng v∆∞·ª£t qu√° ${upper.toFixed(2)}</strong>
      </p>
    </div>
  `;
}

// ========== CH∆ØA BI·∫æT œÉ¬≤ - B√äN PH·∫¢I ==========
function calculateCI1UnknownRight() {
  const mean = parseFloat(document.getElementById('ci1-unknown-right-mean').value);
  const s = parseFloat(document.getElementById('ci1-unknown-right-s').value);
  const n = parseInt(document.getElementById('ci1-unknown-right-n').value);
  const alpha = parseFloat(document.getElementById('ci1-unknown-right-alpha').value);
  
  if (isNaN(mean) || isNaN(s) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (s <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const df = n - 1;
  const t = getTValue(alpha, df);
  const lower = mean - t * (s / Math.sqrt(n));
  
  document.getElementById('result-ci1-unknown-right').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}% (T·ªëi thi·ªÉu):</strong></p>
      <p class="result-value">[${lower.toFixed(4)}, +‚àû)</p>
      <p><strong>Gi√° tr·ªã t<sub>Œ±</sub>(${df}):</strong> ${t.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #e8f5e9; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> K·ª≥ v·ªçng th·ª±c <strong>√≠t nh·∫•t l√† ${lower.toFixed(2)}</strong>
      </p>
    </div>
  `;
}



// ========== CH∆ØA BI·∫æT œÉ¬≤ - B√äN TR√ÅI ==========
function calculateCI1UnknownLeft() {
  const mean = parseFloat(document.getElementById('ci1-unknown-left-mean').value);
  const s = parseFloat(document.getElementById('ci1-unknown-left-s').value);
  const n = parseInt(document.getElementById('ci1-unknown-left-n').value);
  const alpha = parseFloat(document.getElementById('ci1-unknown-left-alpha').value);
  
  if (isNaN(mean) || isNaN(s) || isNaN(n) || isNaN(alpha)) {
    alert('‚ö†Ô∏è Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin!');
    return;
  }
  
  if (s <= 0 || n <= 0 || alpha <= 0 || alpha >= 1) {
    alert('‚ö†Ô∏è Gi√° tr·ªã kh√¥ng h·ª£p l·ªá!');
    return;
  }
  
  const df = n - 1;
  const t = getTValue(alpha, df);
  const upper = mean + t * (s / Math.sqrt(n));
  
  document.getElementById('result-ci1-unknown-left').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£:</h4>
      <p><strong>Kho·∫£ng tin c·∫≠y ${(1-alpha)*100}% (T·ªëi ƒëa):</strong></p>
      <p class="result-value">(-‚àû, ${upper.toFixed(4)}]</p>
      <p><strong>B·∫≠c t·ª± do:</strong> df = ${df}</p>
      <p><strong>Gi√° tr·ªã t<sub>Œ±</sub>(${df}):</strong> ${t.toFixed(4)}</p>
      <p style="margin-top: 15px; padding: 10px; background: #fff3e0; border-radius: 5px;">
        üí° <strong>Gi·∫£i th√≠ch:</strong> K·ª≥ v·ªçng th·ª±c <strong>kh√¥ng v∆∞·ª£t qu√° ${upper.toFixed(2)}</strong>
      </p>
    </div>
  `;
}

  // T√≠nh to√°n
  const df = n - 1;
  const se = s / Math.sqrt(n);
  const t = getTValue(alpha / 2, df);
  const margin = t * se;
  
  const lower = xbar - margin;
  const upper = xbar + margin;
  const confidence = (1 - alpha) * 100;
  
  // Hi·ªÉn th·ªã k·∫øt qu·∫£
  document.getElementById('ci1_us_result').innerHTML = `
    <div class="result-success">
      <h4>‚úÖ K·∫øt qu·∫£ ∆∞·ªõc l∆∞·ª£ng</h4>
      <p><strong>Trung b√¨nh m·∫´u:</strong> XÃÑ = ${xbar.toFixed(4)}</p>
      <p><strong>ƒê·ªô l·ªách chu·∫©n m·∫´u:</strong> S = ${s.toFixed(4)}</p>
      <p><strong>K√≠ch th∆∞·ªõc m·∫´u:</strong> n = ${n}</p>
      <p><strong>B·∫≠c t·ª± do:</strong> df = ${df}</p>
      <p><strong>Sai s·ªë chu·∫©n:</strong> SE = S/‚àön = ${se.toFixed(4)}</p>
      <p><strong>Gi√° tr·ªã t·ªõi h·∫°n:</strong> t<sub>${alpha/2}</sub><sup>(${df})</sup> = ${t.toFixed(4)}</p>
      <p><strong>Bi√™n sai s·ªë:</strong> E = ${margin.toFixed(4)}</p>
      <div class="result-value">
        Kho·∫£ng tin c·∫≠y ${confidence}%: [${lower.toFixed(4)} ; ${upper.toFixed(4)}]
      </div>
      <p style="margin-top: 15px; color: #2e7d32;">
        <strong>K·∫øt lu·∫≠n:</strong> V·ªõi ƒë·ªô tin c·∫≠y ${confidence}%, k·ª≥ v·ªçng Œº n·∫±m trong kho·∫£ng [${lower.toFixed(4)} ; ${upper.toFixed(4)}].
      </p>
    </div>
  `;




// 4. Reset
function resetCI1Unknown() {
  ['us', 'ur', 'ul'].forEach(prefix => {
    ['xbar', 's', 'n'].forEach(field => {
      const elem = document.getElementById(`ci1_${prefix}_${field}`);
      if (elem) elem.value = '';
    });
    const alphaElem = document.getElementById(`ci1_${prefix}_alpha`);
    if (alphaElem) alphaElem.value = '0.05';
    
    const resultElem = document.getElementById(`ci1_${prefix}_result`);
    if (resultElem) resultElem.innerHTML = '';
  });
}

</script>
</body>
</html>

    